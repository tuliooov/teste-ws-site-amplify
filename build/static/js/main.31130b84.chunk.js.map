{"version":3,"sources":["services/api.js","services/functions.js","pages/Global/cabecalho.js","assets/endereco-flat.svg","components/cadastroEndereco.js","pages/Global/rodape.js","pages/Deslogado/estabelecimentos.js","pages/AvaliacaoPedido/index.js","pages/Downloads/index.js","assets/geradorDeImagens/diaDosPais/apresentacao.jpg","assets/geradorDeImagens/blackFriday/apresentacao.jpg","assets/geradorDeImagens/natal/apresentacao.jpg","assets/geradorDeImagens/revellion/apresentacao.jpg","assets/geradorDeImagens/diaDasMulheres/apresentacao.jpg","assets/geradorDeImagens/diaDosPais/1920x1080.jpg","assets/geradorDeImagens/diaDosPais/bigode1920x1080.png","assets/geradorDeImagens/diaDosPais/1500x1500.jpg","assets/geradorDeImagens/diaDosPais/bigode1500x1500.png","pages/imagensTematicas/DiaDosPais.js","assets/geradorDeImagens/blackFriday/1920x1080.jpg","assets/geradorDeImagens/blackFriday/1500x1500.jpg","pages/imagensTematicas/BlackFriday.js","assets/geradorDeImagens/natal/1920x1080.jpg","assets/geradorDeImagens/natal/1500x1500.jpg","pages/imagensTematicas/Natal.js","assets/geradorDeImagens/revellion/1920x1080.jpg","assets/geradorDeImagens/revellion/1500x1500.jpg","pages/imagensTematicas/Revellion.js","pages/imagensTematicas/OpcoesImagemColor.js","pages/imagensTematicas/OpcoesImagemSelect.js","assets/geradorDeImagens/diaDasMulheres/1920x1080.png","assets/geradorDeImagens/diaDasMulheres/1500x1500.png","pages/imagensTematicas/DiaDasMulheres.js","pages/imagensTematicas/index.js","pages/Login/index.js","pages/Cadastro/comum.js","assets/loading-flat.gif","assets/fail-flat.svg","assets/source.gif","pages/Filter/index.js","pages/Delivery/ganheDescontos.js","pages/Delivery/infoCardapio.js","assets/pratos.svg","assets/megafone.svg","assets/comida.svg","assets/desenvolvidoPor.png","assets/cart-empty-flat.gif","pages/Delivery/carrinho.js","pages/Delivery/opcoesProdutos.js","pages/Delivery/cardapio.js","pages/Delivery/estabelecimento.js","pages/Delivery/index.js","pages/Perfil/index.js","pages/ApenasFidelidade/index.js","pages/ApenasFidelidade/cartelas.js","pages/ApenasFidelidade/estabelecimentos.js","assets/love-flat.svg","pages/Fidelidade/index.js","pages/Delivery/produto.js","assets/payCard.png","assets/success.gif","pages/Creditcardweb/index.js","pages/Offline/index.js","pages/Enderecos/index.js","pages/StatusPedido/popupDoacao.js","pages/StatusPedido/index.js","assets/flatMesa.png","pages/ConectarMesa/index.js","pages/HistoricoPedido/index.js","routes.js","App.js","index.js"],"names":["url","localStorage","getItem","api","axios","create","baseURL","getMoney","str","tmp","replace","parseInt","formatReal","int","length","isNumeric","test","identificarEstabelecimentoSelecionado","aplicativoDados","id1","id2","resp","estabelecimento","JSON","parse","codigo","id","error","tratamentoResponse","response","chamada","data","codErro","retornoErro","mensagem","ErroRequisicao","console","log","request","message","Sentry","appNome","removeAcento","text","toLowerCase","RegExp","Buscardescontos","idEstabelecimento","a","get","headers","catch","ObterEnderecosComTaxaEntrega","post","CadastrarPedido","CancelarPedido","AtualizarStatusPedido","ExtratoCashback","ObterStatusPedido","EstabelecimentoAberto","BuscarUltimoPedidoCliente","LoginGeral","AtualizarDispositivoUsuario","AplicativoDadosUrl","ComumCep","ObterCupomDescontoCompleto","eventoTagManager","evento","valor","tagManagerArgs","gtmId","events","event","venda","TagManager","initialize","ObterCardapioPedidoMesa","ObterCardapioCompletoV1","CadastrarCartaoCliente","BuscarPedidosCliente","ObterCartoesCredito","ObterCardapio","CadastrarEnderecoCliente","Post_ListarEstabelecimentosPorEndereco","CadastrarUsuario","RegistrarSeloSeguro2","ResgatarCashBack","AvaliarPedido","RedefinirSenha","useStyles","makeStyles","theme","root","position","flexGrow","top","width","zIndex","cursor","menuButton","marginRight","spacing","title","textTransform","display","breakpoints","up","titleProduto","right","search","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","voltarIcon","padding","height","alignItems","justifyContent","left","fontSize","searchIcon","pointerEvents","inputRoot","color","inputInput","paddingLeft","transition","transitions","Cabecalho","props","history","useHistory","usuarioLogado","estabelecimentoAtual","aberto","online","classes","visualizacao","className","AppBar","Toolbar","Typography","variant","noWrap","nomeAlternativo","nome","projectName","logado","mesaHistorico","onClick","goBack","aria-label","style","mesa","permitirDesconectarMesa","Button","clear","push","statusEstabelecimento","nomeEstabelecimentoCardapio","pausado","nomeUsuario","cliente","nomeUsuarioFidelidade","produtoNome","voltarApenasFidelidade","edge","nomeEstabelecimentoLojas","voltar","clienteFielStart","CadastroEndereco","telaDeEstabelecimentos","telaDeCardapio","setLoading","calcularValorTotal","alertStart","enderecoAtual","retirarNoLocal","setInformacoesPedido","setVerTodasAsLojas","filtroTipoRetirada","setEnderecoAtual","listarEstabelecimentosPorEndereco","abrirAdicionarEndereco","setAbrirAdicionarEndereco","popUpCep","setPopUpCep","buscarCardapio","estabelecimentoDesejado","continuarSemCadastro","setInformacoesDoTipoEntrega","setPagamentoOpen","useTheme","useMediaQuery","down","React","useState","cep","setCep","uf","setUf","cidade","setCidade","bairro","setBairro","rua","setRua","numero","setNumero","complemento","setComplemento","referencia","setReferencia","bairrosCepUnico","setBairrosCepUnico","bairroCepUnicoSelecionado","setBairroCepUnicoSelecionado","limparEnderecos","verificarDadosCadastroEndereco","document","getElementById","focus","criarEndereco","process","tipoEntregaBairro","removeItem","bairroEspecifico","cadastroEnderecoCardapio","deuCerto","token","retorno","estabelecimentosQueEntregam","filter","taxaEntrega","estabelecimentoAtualComTaxa","setItem","stringify","buscarLojasQueEntregam","cadastrarEnderecoNoUsuario","idCliente","enderecos","verificarCep","e","valorInput","target","value","retornoCep","logradouro","localidade","bairros","selecionarRetirada","Row","Col","xs","md","lg","gutterBottom","TextField","disabled","name","label","onChange","FormControlLabel","checked","control","Checkbox","icon","checkedIcon","Divider","Dialog","fullScreen","open","aria-labelledby","DialogTitle","DialogContent","Fragment","fullWidth","onFocus","alt","src","enderecosVazios","FormControl","InputLabel","Select","labelId","estado","sigla","map","index","MenuItem","key","required","type","DialogActions","setTimeout","svg","backdrop","drawer","Rodape","setValue","handleChange","newValue","window","addEventListener","getElementsByClassName","body","getBoundingClientRect","createMuiTheme","primary","light","corSiteSecundaria","corSitePrimaria","main","contrastText","secondary","usuarioPedidoMesa","ThemeProvider","BottomNavigation","BottomNavigationAction","apenasDelivery","estabelecimentos","pedido","itens","rootAlerts","margin","marginTop","verificarSeEntrega","lojas","i","procurarEstabelecimento","valorPesqusa","toLocaleLowerCase","j","innerHTML","includes","descricao","Estabelecimentos","confirmarTipoEntrega","setConfirmarTipoEntrega","verTodasAsLojas","setTemAlgum","estabelecimentosCepDeslogadoCF","visivel","setEstabelecimentos","setEstabelecimentoDesejado","confirmarDesejo","setConfirmarDesejo","setRetirarNoLocal","filtroSelect","setFiltroSelect","quantosEntregam","setQuantosEntregam","useEffect","tipo","retirada","endereco","exibirTodasLojas","num","forEach","loja","permiteRetiradaBalcao","qtdFiltro","exibirTodasUnidadesNoDelivery","pixelFacebook","ReactPixel","track","array","banners","allBanners","todosBanners","loading","loadingLogadoEnderecos","setLoadingLogadoEnderecos","clicarEmPedir","selecionarTipoRetirada","selecionarTipoEntrega","carrinhoRetorno","valorMinimoPedido","valorDesconto","percentualDesconto","minimoEntregaGratis","maximoPedidoComDesconto","maximoDesconto","cupomDesconto","entregaAgendada","dataRetorno","categorias","alert","setAlert","Alert","elevation","msg","alertClose","reason","mesangem","retiradaSim","qtd","blur","Snackbar","status","autoHideDuration","onClose","severity","size","Tabs","indicatorColor","textColor","scrollButtons","banner","urlFundoSite","urlLogo","preventDefault","classList","Card","CardActionArea","CardMedia","component","image","tempoEntregaTexto","CardContent","CardActions","Skeleton","sk","exibirLojasOcultas","Backdrop","CircularProgress","paper","flexDirection","avatar","form","submit","rootAlert","pos","marginBottom","Login","location","params","URLSearchParams","avaliacaoParamsCliente","avaliacaoParamsPedido","avaliarPedido","nota","atob","comentario","hostname","setNota","setComentario","Container","maxWidth","CssBaseline","Box","mb","borderColor","Rating","max","rows","Downloads","setAplicativoDados","setInterval","pathname","tentativasDirecionamento","setTentativasDirecionamento","android","navigator","userAgent","iphone","urlAppAndroid","href","urlAppIphone","corPadrao","download","imageURL","nameDownload","createElement","appendChild","click","removeChild","DiaDosPais","logoEstabelecimento","Image","this","logo","backGroundImage1920x1080","stories_diaDosPais","bigode1920x1080","stories_bigode_diaDosPais","backGroundImage1500x1500","feed_diaDosPais","bigode1500x1500","feed_bigode_diaDosPais","s","f","criarStories","canvas","context","getContext","drawImage","fill","dataURL","toDataURL","criarFeed","onload","ref","Component","BootstrapInput","withStyles","input","background","border","fontFamily","join","boxShadow","InputBase","BlackFriday","stories","feed","font","fillStyle","textAlign","fillText","NativeSelect","Natal","texto","defaultValue","Revellion","OpcoesImagemColor","DiaDasMulheres","fillRect","Transition","forwardRef","Slide","direction","logo64","setLogo64","openImage","setOpenImage","criarImagem","setCriarImagem","get64Logo","apresentacao_diaDasMulheres","apresentacao_revellion","apresentacao_natal","apresentacao_blackFriday","apresentacao_diaDosPais","TransitionComponent","keepMounted","aria-describedby","permiteLoginTelefone","loginApenasTelefone","tipoLogin","setTipoLogin","usuario","setUsuario","senha","setSenha","esqueceuSenha","setEsqueceuSenha","telefone","setTelefone","smsOrWhatsapp","setSmsOrWhatsapp","CadastroTelefone","setCadastroTelefone","telaCodigo","setTelaCodigo","usuariosMesmoTelefone","setUsuariosMesmoTelefone","verificarUsuario","setVerificarUsuario","acessToken","setAcessToken","whats","chave","lojaParams","FacebookId","FacebookEmail","FacebookNome","tentativaMesa","setTentativaMesa","tentativaIzza","setTentativaIzza","tentativaFacebookLogin","setTentativaFacebookLogin","loginPedidoMesa","then","Date","lojaId","buscaCardapioInicial","carrinho","cardapio","valorTotalItens","valorProdutosPromocionais","item","valorProdutoHistorico","produto","promocional","taxaDeEntrega","valorEntrega","valorFinalProdutos","descontoFixo","descontoPercentual","percentualDescontoValor","valorTotal","adicionarEndereco","enderecoBackUp","possuiDelivery","idEndereco","produtosDoCarrinho","telefoneReplace","resposta","realizarLogin_UsuarioTelefone","clientefiel","estabelecimentoEncontrado","asteriscosUsuarioLoginTelefone","recebi","tamanho","astericos","realizarLogin_UsuarioSenha","email","hashSenha","urlEnviarCodigo","access_token","usuarioVerificado","senhaVerificado","facebookId","facebookEmail","facebookNome","codigoDispositivo","dadoDigitado","tipoRecuperacao","realizarLogin_tokenizza","onSubmit","possuiPedidoMesa","urlAcesso","Grid","container","to","inicioTelaLogin","abrir","autoFocus","recuperarSenha","verificarTokenLoginTelefone","setNome","setEmail","confirmarSenha","setConfirmarSenha","codigoIndicacao","setCodigoIndicacao","cadastrarUsuario","charAt","substring","codigoAmigo","min","scrollTo","querySelector","scrollHeight","Filter","pedidoMesaParams","loginIzzaParams","cadastroParams","mesaParams","comandaParams","visualizacaoParams","direcionarParaLoja","avaliacaoParams","imagensParams","downloadParams","downloadEscolhaParams","paramsChaveIzza","tentouSemWWW","textoErro","setTextoErro","naoEncontrou","setNaoEncontrou","buscarAppDados","site","reload","siteSemWWW","telaInicial","onLine","protocol","iniciarClienteFielStart","buscarCardapioOffline","buscarLojaId","view","verificarAppDados","setaErro","flatLoading","flatErro","heading","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","GanheDescontos","openGanheDescontos","setOpenGanheDescontos","temDesconto","jaEstou","setConfiguracoesPerfilModal","setCompartilharCodigoAmigo","pedidoMesa","expanded","setExpanded","handleClose","estadoSelect","setEstadoSelect","handleChangeSelect","setDescontos","descontos","formControl","htmlFor","native","inputProps","desconto","possui","Accordion","titulo","panel","isExpanded","AccordionSummary","expandIcon","aria-controls","comoGanhar","AccordionDetails","oQueGanhar","AlertTitle","Intl","NumberFormat","currency","format","codigoCupom","InfoCardapio","isEntregaNoEndereco","isRetiradaNoLocal","opcoesParaEntregaeRetirada","temEndereco","setRodarFuncaoAposIsso","isUsuarioPedidoMesa","taxa","undefined","freteGratis","categoria","Carrinho","valorTaxaEntrega","setCarrinhoOpen","quantidadeProdutos","setRemoveItem","setCarrinho","removeItemSelecionado","setAdicionarCupom","adicionarCupom","carrinhoOpen","setTelaRetiradaOuEntrega","isFreteGratisMinimoEntrega","setContinuarSemCadastro","irParaEnderecos","qrCodeModal","setQrCodeModal","informacoesPedido","nomeMesa","numeroMesas","confirmacaoInformacoes","formaDePagamento","setFormaDePagamento","obterMeusCartoesSalvos","setPagamentoOnline","troco","setTroco","setCriarCartao","setAbrirMostrarFotoProduto","irParaProduto","selecioneiRetiradaNoLocal","selecioneiEndereco","descontoCardapio","removerCupom","setRemoveItemSelecionado","pagamentoOpen","irParaLogin","AdicionarCupom","AvatarTipoEntrega","EnderecoPedidoMesa","QRCode","PagamentoOnline","MeusCartoes","CriarCartao","VerificarPagamentoOnline","EscolhiMeuCartaoPagamentoOnline","InformacoesDoTipoEntrega","AbrirMostrarFotoProduto","MostrarFotoProduto","TelaRetiradaOuEntrega","solicitarNomeAoFinalizar","solicitarTelefoneAoFinalizar","prontoTroco","valorTroco","parseFloat","getElementsByName","selecionarFormaDePagamento","formaPagamentoSelecionado","formasPagamento","formaPagamentoDescricao","formaPagamento","calcularValorProdutos","reduce","acumulado","x","permitirContinuarSemCadastro","Fab","fixedMesa","fixed","extendedIcon","somarQtdItens","List","rootCarrinho","ListItem","button","ListItemAvatar","ListItemText","disablePadding","nested","informacao","Avatar","ListSubheader","urlImagem","produtoExibicao","Megafone","Comida","quantidade","splice","itensOpcaoProduto","adicional","opcaoProduto","solicitarComanda","FormLabel","RadioGroup","Radio","method","autoComplete","cartao","numeroCartao","opcoesProdutos","procurarProduto","placeholder","children","TabPanel","other","role","p","progress","rootCardapio","fontWeight","fontWeightRegular","devHeading","rootProduto","media","minHeight","bottom","Cardapio","usuarioIzza","setNomeMesa","tempCart","setEstabelecimentoAtual","setCardapio","setMeusCartoes","ultimoPedido","setUltimoPedido","adicionarItensNaTelaInicial","cardapioEmGrid","layoutCardapio","valueCategoria","setValueCategoria","RodarFuncaoAposIsso","isUsuarioIzzaBot","itensValor","total","solicitarNomePedidoMesa","solicitarTelefonePedidoMesa","prevScrollpos","pageYOffset","onscroll","currentScrollPos","scrollY","offsetHeight","offsetTop","offsetWidth","atual","ultimo","inicio","ate","alterarNoCardapio","produtoSelecionado","produtos","openInformacoes","setOpenInformacoes","buscarUltimoPedido","verificarAberto","enviarPedidoWhatsapp","dataPedido","toLocaleDateString","toLocaleTimeString","nomePedido","telefonePedido","trocoDinheiro","observacaoPedido","observacao","traco","produtoAtual","textoProdutoAtual","opcaoAtual","comanda","resetarCarrinho","numeroWhatsapp","realizarLogin_DosSemContinuarSemCadastro","Math","floor","random","data_Login","response_LoginGeral","enviarPedido","retornoVerificarCardapio","end","idCartelaCompleta","valorDescontoPercentual","valorRealCalculado","calcularValorAPartirDe","valorDeCalculado","attCardapio","adicionarQuantidadeZeroProdutos","retornoCardapio","temNoCarrinho","verificarCardapio","tmpCardapio","ativo","prod","valorPromocional","valorDe","opcoes","grupo","quantidadeMinima","verificarMaiorValor","considerarMaiorValor","maiorValorDoGrupo","verificarMediaValor","considerarMedia","valorTotalDasOpcoes","quantidadeDeOpcoes","sort","b","opcao","quantidadeSelecionada","tipoPedido","descontoFormaPagamento","interval","clearInterval","state","result","leu","handleScan","setState","handleError","err","delay","onError","onScan","atualizarUsuario","produtoId","irParaStatusPedido","pedidoId","pedidoStatusInicial","veioDoEnviarPedido","pedidoNovo","atualizarCardapioECarrinho","usuarioSemCadastro","usuarioEnviarPedido","retornoEndereco","valorTotalPixelFacebook","plataforma","retornoAberto","retornoPedido","retornoPedidoCorreto","pedidoCancelado","buscarHistoricoPedido","tagManager","Iugu","setAccountID","tokenIuguId","setTestMode","setup","formPayment","createPaymentToken","validaDadosCartaoPagamentoOnline","cpfTitular","tokenCartaoCredito","salvarCartaoPagamentoOnline","cartaoCreditoCliente","data_cartaoCredito","codigoPagamento","nomeImpressoCartao","extra_info","holder_name","display_number","bandeira","brand","bin","mesValidade","month","anoValidade","year","cpf","tokenCartao","btoa","tokenIugu","tokenLive","tokenIuguCabecalho","appName","errors","expiration","last_name","full_name","first_name","number","verification_value","record_invalid","strCPF","Soma","Resto","TestaCPF","LinearProgress","strDataRealizacao","idPedido","buscarStatus","Tab","nomeProduto","descricaoProduto","indexC","toLocaleUpperCase","indexP","fazerZoomExibicaoFoto","mostrarAPartirDe","ButtonGroup","novoCardapio","valorProduto","qtdRemover","qntMultiplicativaProdutos","qntMinimaProdutos","removerProdutoCarrinho","NaN","qntMaximaProdutos","qtdAdicionar","produtoLimpo","qtdAdd","produtoProCarrinho","adicionarProdutoCarrinho","carrinhoVazio","exibirDesenvolvidoPor","DesenvolvidoPor","obs","innerText","AutoPlaySwipeableViews","autoPlay","SwipeableViews","header","default","img","overflow","bannersStep","activeStep","setActiveStep","axis","onChangeIndex","step","enableMouseEvents","abs","Delivery","list","fullList","minWidth","bullet","transform","Perfil","param1","useParams","setUsuarioLogado","configuracoesPerfilModal","usuarioEdit","setUsuarioEdit","cpfEdit","setCpfEdit","telefoneEdit","setTelefoneEdit","dataNascimentoTexto","string","returno","dataProInput","dataNascimentoEdit","setDataNascimentoEdit","emailEdit","setEmailEdit","senhaAntigaEdit","setSenhaAntigaEdit","senhaNovaEdit","setSenhaNovaEdit","senhaNovaConfirmacaoEdit","setSenhaNovaConfirmacaoEdit","Cashback","setCashback","RelatorioCashBack","setRelatorioCashBack","DadosRelatorioCashBack","setDadosRelatorioCashBack","LojasCashBack","setLojasCashBack","CompartilharCodigoAmigo","dataNascimentoEditado","d","dt","getDate","mn","getMonth","yy","getFullYear","enviarData","codigoSelo","statusAlert","cartelas","unshift","Carousel","indicators","controls","Item","selos","promocaoFidelidade","quantidadeNecessaria","tem","ListItemIcon","tokenCashBack","Receipt","Tooltip","placement","textoPromocaoIndicacao","clipboard","writeText","codigoCupomDesconto","selosPorIndicacaoConvidado","selosPorIndicacaoConvidante","textoConvidarAmigos","InputLabelProps","shrink","saldoCashBack","msgCashBack","prefix","valorSaldo","valorResgate","properties","success","relatorio","date","hour","operation","balance","cashback_percentage","score_transfer","total_purchase","protocolo","absolute","ApenasFidelidade","Cartelas","openHistorico","setOpenHistorico","openRegulamento","setOpenRegulamento","el","textoRegulamento","setTextoRegulamento","textoHistoricoCartela","setTextoHistoricoCartela","closeHistoricoFuncao","closeRegulamentoFuncao","cartela","premio","dataValidadeTexto","selo","dataHoraAtribuicaoTexto","regulamento","descricaoCartela","dataHoraAtribuicaoCartela","DialogContentText","Fidelidade","loadingUsuario","setLoadingUsuario","fidelidadeVazia","actionsContainer","resetContainer","VerticalLinearStepper","idProduto","setObservacao","setQuantidade","ScrollAtivo","setScrollAtivo","localSt","getProdutoPorId","setProdutoSelecionado","handleBack","prevActiveStep","Prato","Stepper","orientation","Step","StepLabel","StepContent","quantidadeMaxima","opcoesDoGrupo","remove","FormGroup","add","index2","Paper","square","permiteObservacao","temp","valorHistorico","produtoSele","calcularValorProduto","Creditcardweb","tokenEstabelecimentoPagSeguro","clienteId","corPrincipal","param2","param3","param4","erros","setErros","gifSuccess","pattern","cardnumber","expirationdateMonth","expirationdateYear","securitycode","url_string","URL","tokenLoja","callbackSuccess","http","XMLHttpRequest","onreadystatechange","readyState","objWithPublickKey","keyPagSeguro","publicKey","tokenEstabelecimento","idEstabelemento","valorRetorno","store","key_card_token","app_name","estabelecimento_id","cliente_id","host","createReturnObject","resultSuccessPublicKey","responseText","send","obterPublicKey","card","PagSeguro","encryptCard","holder","expMonth","expYear","securityCode","hasErrors","encryptedCard","generateKeyPagSeguro","flatCard","Offline","rootForm","alertIndex","Estabelecimento","setEnderecos","qtdEnd","qtdEnderecos","temCEP","setTemCEP","cidadesNaoSeiCep","setCidadesNaoSeiCep","openAdicionarEndereco","setOpenAdicionarEndereco","closeAdicionarEndereco","enderecoSelecionadoNoRetorno","naoSeiCep","alterarCidade","digitandoCep","removerEndereco","noValidate","nomeCompleto","PopupDoacao","abrirPopUp","setAbrirPopUp","quandoFechar","urlRibon","getCookie","setCookie","alerta","Status","statusInicial","statusPedido","setStatusPedido","verificarStatus","cancelarPedido","stepStatus","steps","getSteps","getStepContent","flatMesa","codigo2","verPedido","setVerPedido","verPedidoPosicao","setVerPedidoPosicao","pedidos","idAvaliacao","iniciou","RouteAnonimo","rest","deuErro","atualizarAppDados","headAdd","render","PrivateRoute","verificarStoragesNecessarios","path","est","RouteDados","izzalogada","init","em","autoConfig","debug","pageView","ReactGA","googleAnalytics","ga","set","page","pageview","logoIphone","setAttribute","head","insertAdjacentElement","logoIphone2","shortCurt","shortCurt2","ogImage","ogUrl","ogType","ogDescription","description","keywords","themeColor","script","insertAdjacentHTML","scriptscriptBody","themeLinkUrl","myDynamicManifest","stringManifest","blob","Blob","createObjectURL","Routes","versaoLancamento","exact","ImagensTematicas","Cadastro","ConectarMesa","HistoricoPedido","StatusPedido","Enderecos","AvaliacaoPedido","ApenasFidelidadeCartelas","ApenasFidelidadeEstabelecimentos","Produto","App","setOpen","myRequest","Request","fetch","firebase","initializeApp","messaging","onMessage","payload","notificationOption","notification","registration","showNotification","onclick","ev","click_action","close","onTokenRefresh","getToken","newtoken","requestPermission","dsn","ReactDOM"],"mappings":"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","file":"static/js/main.31130b84.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst url = localStorage.getItem('teste') ? localStorage.getItem('teste') : 'https://ws.appclientefiel.com.br/rest/'\r\n\r\nconst api = axios.create({\r\n      baseURL: url,\r\n      // baseURL: 'https://4c9efd5d9ee9.ngrok.io/clientefiel/rest/'\r\n      // baseURL: 'https://51b358f21f01.ngrok.io/clientefiel/rest/',\r\n      // baseURL:  'https://preproducao-adm.us-east-1.elasticbeanstalk.com/rest/',\r\n      // baseURL: 'http://localhost:8080/clientefiel/rest/',\r\n  })\r\n\r\nexport default api;\r\n","\r\n\r\nimport api from './api';\r\nimport React from 'react';\r\nimport * as Sentry from \"@sentry/react\";\r\nimport TagManager from 'react-gtm-module'\r\n\r\n\r\n\r\n\r\nexport function getMoney( str ){\r\n    var tmp = str.replace(/[\\D]+/g,'')\r\n    return parseInt(  tmp === \"\" ? 0 : tmp );\r\n}\r\n\r\nexport function formatReal( int ){\r\n    var tmp = int+'';\r\n    tmp = tmp.replace(/([0-9]{2})$/g, \",$1\");\r\n    if( tmp.length > 6 )\r\n            tmp = tmp.replace(/([0-9]{3}),([0-9]{2}$)/g, \".$1,$2\");\r\n\r\n    return tmp;\r\n}\r\n\r\n\r\nexport function isNumeric(str){\r\n    var er = /^[0-9]+$/;\r\n    return (er.test(str));\r\n}\r\n  \r\nexport function TestaCPF(strCPF) {\r\n    var Soma;\r\n    var Resto;\r\n    Soma = 0;\r\n    if (strCPF === \"00000000000\") return false;\r\n     \r\n    for (let i=1; i<=9; i++) Soma = Soma + parseInt(strCPF.substring(i-1, i)) * (11 - i);\r\n    Resto = (Soma * 10) % 11;\r\n   \r\n    if ((Resto === 10) || (Resto === 11))  Resto = 0;\r\n    if (Resto !== parseInt(strCPF.substring(9, 10)) ) return false;\r\n   \r\n    Soma = 0;\r\n    for (let i = 1; i <= 10; i++) Soma = Soma + parseInt(strCPF.substring(i-1, i)) * (12 - i);\r\n    Resto = (Soma * 10) % 11;\r\n   \r\n    if ((Resto === 10) || (Resto === 11))  Resto = 0;\r\n    if (Resto !== parseInt(strCPF.substring(10, 11) ) ) return false;\r\n    return true;\r\n}\r\n\r\n\r\nexport const identificarEstabelecimentoSelecionado = (aplicativoDados, id1 = -1, id2 = -1) => {\r\n    let resp = ''\r\n    try {\r\n        if(id1 !== -1){//indo pra tela de status do pedido\r\n            resp += `/${id1}`\r\n            if(id2 !== -1){\r\n                resp += `/${id2}`\r\n            }\r\n        }\r\n        if(aplicativoDados?.estabelecimento?.length !== 1){\r\n            let estabelecimento = localStorage.getItem('estabelecimentoAtualCF') ? JSON.parse(localStorage.getItem('estabelecimentoAtualCF')) : null\r\n            \r\n            if(estabelecimento?.codigo){\r\n                if(id1 !== -1 || id2 !== -1){//indo pra tela de status\r\n                    resp = `/${estabelecimento.codigo}${resp}`\r\n                }else{//outras telas\r\n                    resp += `?loja=${estabelecimento.codigo}`\r\n                }\r\n            }else if(estabelecimento?.id){\r\n                if(id1 !== -1 || id2 !== -1){\r\n                    resp = `/${estabelecimento.id}${resp}`\r\n                }else{\r\n                    resp += `?loja=${estabelecimento.id}`\r\n                }\r\n            }\r\n        }\r\n    } catch (error) {\r\n        \r\n    }\r\n    return resp;\r\n} \r\n// try {\r\n      \r\n//     const response = await chamada(data, aplicativoDados)\r\n\r\n//     if(response.retornoErro){\r\n//         //algum erro\r\n//     }else{ \r\n//         //tudo certo\r\n    \r\n//     }\r\n// }\r\n// catch (error) {\r\n//     Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions buscarCardapioOffline ${window.location.hostname} - ${error}`);\r\n//     alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n// }\r\n\r\n/*\r\n    Evitar repetio de codigo, trata a resposta do sistema adm\r\n*/\r\nfunction tratamentoResponse(response, chamada){\r\n    if(response.data.codErro > 0) return {retornoErro: response.data.codErro, mensagem: response.data.mensagem}\r\n    \r\n    else if(typeof response.data == 'string' && response.data != \"\") return {retornoErro: 1, mensagem: chamada+' - Erro inesperado, entre em contato com os reponsveis.'}\r\n    \r\n    else return response.data\r\n}\r\n\r\n/*\r\n    Evitar repetio de codigo, trata o erro na chamada da requisio\r\n*/\r\nconst ErroRequisicao = function(data, aplicativoDados = {}){\r\n    try {\r\n        console.log('ErroRequisicao> ', data.request, data.message)\r\n        if(data.message == 'Network Error'){\r\n            return 'Verifique sua conexo!'\r\n            // return 'Sem Internet ou sistema fora do ar!'\r\n        }else if(data.message){\r\n            return 'Erro: ' + data.message\r\n        }\r\n        return false\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ErroRequisicao - ${aplicativoDados?.appNome} - ${error}`);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n/*\r\n    Apenas para remover acentos de strings\r\n*/\r\nexport function removeAcento (text)\r\n{       \r\n    text = text.toLowerCase();                                                         \r\n    text = text.replace(new RegExp('[]','gi'), 'a');\r\n    text = text.replace(new RegExp('[]','gi'), 'e');\r\n    text = text.replace(new RegExp('[]','gi'), 'i');\r\n    text = text.replace(new RegExp('[]','gi'), 'o');\r\n    text = text.replace(new RegExp('[]','gi'), 'u');\r\n    text = text.replace(new RegExp('[]','gi'), 'c');\r\n    return text;                 \r\n}\r\n\r\nexport const Buscardescontos = async function(idEstabelecimento, aplicativoDados){\r\n    try {\r\n        const response = await api.get(`integracao/buscardescontos/${idEstabelecimento}/${aplicativoDados.appNome}`, {\r\n            headers: {\"Content-Type\": \"application/json\",}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('Buscardescontos => ', response)\r\n\r\n        return tratamentoResponse(response, 'Buscardescontos')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`Buscardescontos - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const ObterEnderecosComTaxaEntrega = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('cliente/ObterEnderecosComTaxaEntrega', data, {\r\n            headers: {\"Content-Type\": \"application/json\", \"app\": aplicativoDados.appNome}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ObterEnderecosComTaxaEntrega => ', response)\r\n\r\n        return tratamentoResponse(response, 'ObterEnderecosComTaxaEntrega')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ObterEnderecosComTaxaEntrega - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n/*\r\n    1 cadastrar o pedido\r\n*/\r\nexport const CadastrarPedido = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('cliente/CadastrarPedido', data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('CadastrarPedido => ', response)\r\n\r\n        return tratamentoResponse(response, 'CadastrarPedido')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`CadastrarPedido - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n/*\r\n    Cancelar pedido\r\n*/\r\nexport const CancelarPedido = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('cliente/CancelarPedido', data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('CancelarPedido => ', response)\r\n\r\n        return tratamentoResponse(response, 'CancelarPedido')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`CancelarPedido - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n/*\r\n    Atualizar status\r\n*/\r\nexport const AtualizarStatusPedido = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('cliente/AtualizarStatusPedido', data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('AtualizarStatusPedido => ', response)\r\n\r\n        return tratamentoResponse(response, 'AtualizarStatusPedido')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`AtualizarStatusPedido - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n/*\r\n    extrato cashback\r\n*/\r\nexport const ExtratoCashback = async function(data, aplicativoDados){\r\n\r\n    try {\r\n        \r\n        const response = await api.get('clientefiel/ExtratoCashback/'+ data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ExtratoCashback => ', response)\r\n\r\n        return tratamentoResponse(response, 'ExtratoCashback')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ExtratoCashback - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n/*\r\n    verificar se um estabelecimento est aberto\r\n*/\r\nexport const ObterStatusPedido = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.get('cliente/ObterStatusPedido/'+ data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ObterStatusPedido => ', response)\r\n\r\n        return tratamentoResponse(response, 'ObterStatusPedido')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ObterStatusPedido - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n/*\r\n    verificar se um estabelecimento est aberto\r\n*/\r\nexport const EstabelecimentoAberto = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.get('clientefiel/EstabelecimentoAberto/'+ data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('EstabelecimentoAberto => ', response)\r\n\r\n        return tratamentoResponse(response, 'EstabelecimentoAberto')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`EstabelecimentoAberto - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n/*\r\n    buscar ultimo pedido do cliente nas ultimas x horas\r\n*/\r\nexport const BuscarUltimoPedidoCliente = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('cliente/BuscarUltimoPedidoCliente', data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('BuscarUltimoPedidoCliente => ', response)\r\n\r\n        return tratamentoResponse(response, 'BuscarUltimoPedidoCliente')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`BuscarUltimoPedidoCliente - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n/*\r\n    realizar login, usuario e senha, telefone e etc...\r\n*/\r\nexport const LoginGeral = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('clientefiel/LoginGeral', data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('LoginGeral => ', response)\r\n\r\n        return tratamentoResponse(response, 'LoginGeral')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`LoginGeral - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\nexport const AtualizarDispositivoUsuario = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('cliente/AtualizarDispositivoUsuario', data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('AtualizarDispositivoUsuario => ', response)\r\n\r\n        return tratamentoResponse(response, 'LoginGeral')\r\n        \r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`AtualizarDispositivoUsuario - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n/*\r\n    buscar aplicativo dados\r\n*/\r\nexport const AplicativoDadosUrl = async function(data, appNome){\r\n    try {\r\n        console.log('AplicativoDadosUrl', data, appNome)\r\n        const response = await api.get('clientefiel/AplicativoDadosUrl/'+ data, {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n            // headers: {\"Content-Type\": \"application/json\", \"app\": appNome}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('AplicativoDadosUrl => ', response)\r\n        \r\n        // return tratamentoResponse(response, 'AplicativoDadosUrl')\r\n        return response.data\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`AplicativoDadosUrl - ${appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n/*\r\n    retorna todos os bairros daquele cep\r\n*/\r\nexport const ComumCep = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.get('comum/Cep/'+ data, {\r\n            headers: {\"Content-Type\": \"application/json\", \"app\": aplicativoDados.appNome}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('comum/Cep/ => ', response)\r\n        \r\n        return tratamentoResponse(response, 'ComumCep')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ComumCep - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n/*\r\n    buscar cardapio para pedido de mesa\r\n*/\r\nexport const ObterCupomDescontoCompleto = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('cliente/ObterCupomDescontoCompleto', data, {\r\n            headers: { \"Content-Type\": \"application/json\", \"plataforma\": \"site\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ObterCupomDescontoCompleto => ', response)\r\n        \r\n        return tratamentoResponse(response, 'ObterCupomDescontoCompleto')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ObterCupomDescontoCompleto - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\nexport const eventoTagManager = function (id, evento, valor = null){\r\n    if(id){\r\n        const tagManagerArgs = {\r\n            gtmId: id,\r\n            events: {\r\n                event: evento,\r\n                venda: valor,\r\n            }\r\n          }\r\n          TagManager.initialize(tagManagerArgs)\r\n    }\r\n}\r\n\r\n/*\r\n    buscar cardapio para pedido de mesa\r\n*/\r\nexport const ObterCardapioPedidoMesa = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('clientefiel/ObterCardapioPedidoMesa', data, {\r\n            headers: { \"Content-Type\": \"application/json\", \"plataforma\": \"site\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ObterCardapioPedidoMesa => ', response)\r\n        \r\n        return tratamentoResponse(response, 'ObterCardapioPedidoMesa')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ObterCardapioPedidoMesa - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n/* \r\nObterCardapioCompletoV1 retorna um json com as categorias dentro diferente do ObterCardapio\r\n*/\r\nexport const ObterCardapioCompletoV1 = async function(data, aplicativoDados){\r\n    try {\r\n        const response = await api.post('clientefiel/ObterCardapioCompletoV1', data, {\r\n            headers: { \"Content-Type\": \"application/json\", \"plataforma\": \"site\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ObterCardapioCompletoV1 => ', response)\r\n        \r\n        return tratamentoResponse(response, 'ObterCardapioCompletoV1')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ObterCardapioCompletoV1 - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n/* \r\n    cadastrar cartoes de pagamento online\r\n*/\r\nexport const CadastrarCartaoCliente = async function(data, aplicativoDados){\r\n    try {\r\n        const response =  await api.post('cliente/CadastrarCartaoCliente', data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('CadastrarCartaoCliente => ', response)\r\n        \r\n        return tratamentoResponse(response, 'CadastrarCartaoCliente')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`CadastrarCartaoCliente - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n/* \r\n    retorna todos os cartoes salvos do usuario\r\n*/\r\nexport const BuscarPedidosCliente = async function(data, aplicativoDados){\r\n    try {\r\n        const response =  await api.post('cliente/BuscarPedidosCliente', data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('BuscarPedidosCliente => ', response)\r\n        \r\n        return tratamentoResponse(response, 'BuscarPedidosCliente')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`BuscarPedidosCliente - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n/* \r\n    retorna todos os cartoes salvos do usuario\r\n*/\r\nexport const ObterCartoesCredito = async function(data, aplicativoDados){\r\n    try {\r\n        const response =  await api.post('cliente/ObterCartoesCredito', data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ObterCartoesCredito => ', response)\r\n        \r\n        return tratamentoResponse(response, 'ObterCartoesCredito')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ObterCartoesCredito - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n/* \r\nObterCardapio retorna um array de categorias diferente do ObterCardapioCompletoV1\r\n*/\r\nexport const ObterCardapio = async function(data, aplicativoDados){\r\n    console.log('ObterCardapio antes', data)\r\n    try {\r\n        const response =  await api.post('clientefiel/ObterCardapio', data, {\r\n            headers: { \"Content-Type\": \"application/json\", \"plataforma\": \"site\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ObterCardapio => ', response)\r\n        \r\n        return tratamentoResponse(response, 'ObterCardapio')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ObterCardapio - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n/*\r\n    cadastrar endereo em um cliente\r\n*/\r\nexport const CadastrarEnderecoCliente = async function(data, aplicativoDados){\r\n    try {\r\n        const response =  await api.post('cliente/CadastrarEnderecoCliente', data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('CadastrarEnderecoCliente => ', response)\r\n        \r\n        return tratamentoResponse(response, 'CadastrarEnderecoCliente')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`CadastrarEnderecoCliente - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n/*\r\n    buscar estabelecimentos que entregam naquele endereo\r\n*/\r\nexport const Post_ListarEstabelecimentosPorEndereco = async function(data, aplicativoDados){\r\n    try {\r\n        const response =  await api.post('clientefiel/ListarEstabelecimentosPorEndereco', data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ListarEstabelecimentosPorEndereco => ', response)\r\n        \r\n        return tratamentoResponse(response, 'ListarEstabelecimentosPorEndereco')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ListarEstabelecimentosPorEndereco - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n/*\r\n    CadastrarUsuario\r\n*/\r\nexport const CadastrarUsuario = async function(data, aplicativoDados){\r\n    try {\r\n        const response =  await api.post('cliente/CadastrarUsuario', data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('CadastrarUsuario => ', response)\r\n        \r\n        return tratamentoResponse(response, 'CadastrarUsuario')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`CadastrarUsuario - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n/*\r\n    RegistrarSeloSeguro2\r\n*/\r\nexport const RegistrarSeloSeguro2 = async function(data, aplicativoDados){\r\n    try { \r\n        const response =  await api.post('clientefiel/RegistrarSeloSeguro2', data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('RegistrarSeloSeguro2 => ', response)\r\n        \r\n        return tratamentoResponse(response, 'RegistrarSeloSeguro2')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`RegistrarSeloSeguro2 - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n/*\r\n    RegistrarSeloSeguro2\r\n*/\r\nexport const ResgatarCashBack = async function(data, aplicativoDados){\r\n    try {\r\n        const response =  await api.post('clientefiel/ResgatarCashBack', data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('ResgatarCashBack => ', response)\r\n        \r\n        return tratamentoResponse(response, 'ResgatarCashBack')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`ResgatarCashBack - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n/*\r\n    AvaliarPedido\r\n*/\r\nexport const AvaliarPedido = async function(data, aplicativoDados){\r\n    try {\r\n        const response =  await api.post('avaliacao/AvaliarPedido', data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('AvaliarPedido => ', response)\r\n        \r\n        return tratamentoResponse(response, 'AvaliarPedido')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`AvaliarPedido - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n/*\r\n    Redefinir senha\r\n*/\r\nexport const RedefinirSenha = async function(data, aplicativoDados){\r\n    try {\r\n        const response =  await api.post('cliente/RedefinirSenha' , data , {\r\n            headers: {\"Content-Type\": \"application/json\"}\r\n        }).catch(function(error){\r\n            const resp = ErroRequisicao(error)\r\n            return {data:{codErro: 1, mensagem: resp}}\r\n        });\r\n\r\n        console.log('RedefinirSenha => ', response)\r\n        \r\n        return tratamentoResponse(response, 'RedefinirSenha')\r\n\r\n    } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`RedefinirSenha - ${aplicativoDados?.appNome} - ${error}`);\r\n        return {retornoErro:1, mensagem:error.message}\r\n    }\r\n}","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { RiArrowLeftLine } from 'react-icons/ri';\r\n/*import { Button, Navbar, Nav, NavDropdown } from 'react-bootstrap';\r\n\r\n\r\nimport './styles.css';*/\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport {\r\n  identificarEstabelecimentoSelecionado\r\n} from '../../services/functions';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: \"fixed\",\r\n    flexGrow: \"1\",\r\n    top: \"0\",\r\n    width: \"100%\",\r\n    zIndex: \"999\",\r\n    cursor: \"pointer\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    textTransform: \"capitalize\",\r\n    flexGrow: 1,\r\n    display: 'block',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  titleProduto: {\r\n    textTransform: \"uppercase\",\r\n    position: \"absolute\",\r\n    right: 0,\r\n    flexGrow: 0,\r\n    display: 'block',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      width: 'auto',\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '150px',\r\n    [theme.breakpoints.up('lg')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  voltarIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    left: \"0\",\r\n    fontSize: \"1.5rem\",\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function Cabecalho(props) {\r\n  const history = useHistory();\r\n\r\n  const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))\r\n\r\n\r\n  const estabelecimentoAtual = JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n  const aberto = estabelecimentoAtual?.online\r\n  \r\n  const desconctarMesa = () =>{\r\n    /* \r\n     localStorage.removeItem('backupItensCarrinhoCF');\r\n    localStorage.removeItem('PedidoCanceladoBackupCF');\r\n    localStorage.removeItem('usuarioPedidoMesaCF');\r\n    localStorage.removeItem('produtoSelecionadoCF');\r\n    localStorage.removeItem('ultimoPedidoCF');\r\n    localStorage.removeItem('cardapioCF');\r\n    localStorage.removeItem('carrinhoCF');\r\n    localStorage.removeItem('usuarioCF');\r\n    localStorage.removeItem('enderecoAtualCF');\r\n    localStorage.removeItem('estabelecimentoAtualCF');\r\n\r\n\r\n    localStorage.removeItem('dateCardapioCF');\r\n    localStorage.removeItem('usuarioPedidoMesaCF_Date');\r\n    */\r\n    localStorage.clear()\r\n    history.push(`/`)\r\n  }\r\n  \r\n  const classes = useStyles();\r\n    if(props.visualizacao){\r\n      return (\r\n        <div className={classes.root} id=\"cabecalhoApp\">\r\n          <AppBar position=\"static\" className=\"cabecalhoApp\">\r\n            <Toolbar  className=\"container\"  >\r\n                <Typography className={classes.title} variant=\"h6\" noWrap>\r\n                  Cardpio {estabelecimentoAtual ? (estabelecimentoAtual.nomeAlternativo ? estabelecimentoAtual.nomeAlternativo : estabelecimentoAtual.nome) : aplicativoDados.projectName}\r\n                </Typography>\r\n            </Toolbar>\r\n          </AppBar>\r\n        </div>\r\n        \r\n      )\r\n    }else if(usuarioLogado?.logado){\r\n      return (\r\n        <div className={classes.root} id=\"cabecalhoApp\">\r\n          <AppBar position=\"static\" className=\"cabecalhoApp\">\r\n            <Toolbar  className=\"container\"  >\r\n              \r\n              {(props.mesaHistorico)\r\n              ?(<>\r\n                 <div\r\n                    className={classes.voltarIcon}\r\n                    color=\"inherit\"\r\n                    onClick={() => history.goBack()} \r\n                    aria-label=\"open drawer\"\r\n                  > \r\n                    <RiArrowLeftLine ></RiArrowLeftLine>\r\n                  </div>\r\n                  <Typography className={classes.titleProduto}  style={{\"width\": \"calc( 100% - 57px)\"}} variant=\"h6\" noWrap>\r\n                    {props.mesaHistorico}\r\n                  </Typography>\r\n                </>) \r\n              : null\r\n              }\r\n\r\n              {(props.mesa)\r\n              ?(<>\r\n                  <Typography className={classes.title} variant=\"h6\" noWrap style={{\"textTransform\": \"uppercase\"}}>\r\n                    {props.mesa}\r\n                  </Typography>\r\n\r\n                  {\r\n                    estabelecimentoAtual.permitirDesconectarMesa\r\n                    ? <Button variant=\"contained\" style={{\"background\": \"#28a745\", \"color\":\"white\"}} onClick={desconctarMesa}>\r\n                        Desconectar\r\n                      </Button>\r\n                    : null\r\n                  }\r\n                  \r\n                </>) \r\n              : null\r\n              }\r\n\r\n\r\n              {(props.statusEstabelecimento && props.nomeEstabelecimentoCardapio)\r\n              ?(<>\r\n                  <Typography className={classes.title} variant=\"h6\" noWrap>\r\n                    {estabelecimentoAtual ? (estabelecimentoAtual.nomeAlternativo ? estabelecimentoAtual.nomeAlternativo : estabelecimentoAtual.nome) : aplicativoDados.projectName}\r\n                  </Typography>\r\n                  <Button variant=\"contained\" style={aberto ? (estabelecimentoAtual.pausado ? {\"background\": \"#ffc107\", \"color\":\"black\"} : {\"background\": \"#28a745\", \"color\":\"white\"}) : {\"background\": \"#dc3545\", \"color\":\"white\"}} >\r\n                    {aberto ? (estabelecimentoAtual.pausado ? \"Pausado\": \"Aberto\") : `Fechado`}\r\n                  </Button>\r\n                </>) \r\n              : null\r\n              }\r\n    \r\n              {(props.nomeUsuario)\r\n              ?(<>\r\n                  <Typography className={classes.title}  variant=\"h6\" noWrap>\r\n                    {usuarioLogado.cliente ? usuarioLogado.cliente.nome : ''}\r\n                  </Typography>             \r\n                </>) \r\n              : null\r\n              }\r\n\r\n              {(props.nomeUsuarioFidelidade)\r\n              ?(<>\r\n                  <Typography className={classes.titleProduto} style={{\"width\": \"calc( 100% - 57px)\"}} variant=\"h6\" noWrap>\r\n                    {usuarioLogado.cliente ? usuarioLogado.cliente.nome : ''}\r\n                  </Typography>             \r\n                </>) \r\n              : null\r\n              }\r\n              \r\n              {/* NOME */}\r\n              { (props.produtoNome && props.voltarApenasFidelidade)\r\n              \r\n              ?  (<>\r\n              <div\r\n                  edge=\"start\"\r\n                  className={classes.voltarIcon}\r\n                  color=\"inherit\"\r\n                  onClick={() => history.goBack()}\r\n                  aria-label=\"open drawer\"\r\n                > \r\n                <RiArrowLeftLine ></RiArrowLeftLine>\r\n                </div>\r\n                <Typography className={classes.titleProduto} style={{\"width\": \"calc( 100% - 57px)\"}} variant=\"h6\" noWrap>\r\n                    {props.produtoNome}\r\n                  </Typography>\r\n                  </>)\r\n              : null}\r\n            \r\n    \r\n              \r\n    \r\n              {(!props.produtoNome && props.voltarApenasFidelidade) ? (<div\r\n                  edge=\"start\"\r\n                  className={classes.voltarIcon}\r\n                  color=\"inherit\"\r\n                  onClick={() => history.goBack()}\r\n                  aria-label=\"open drawer\"\r\n                > \r\n                <RiArrowLeftLine ></RiArrowLeftLine>\r\n                </div>) : null}\r\n              \r\n                {(props.nomeEstabelecimentoLojas)\r\n                ?(<>\r\n                    <Typography className={classes.title}  style={{\"width\": \"calc( 100% - 125px)\"}} variant=\"h6\" noWrap>\r\n                      {aplicativoDados.projectName}\r\n                    </Typography>\r\n                   <Button variant=\"contained\" onClick={() => history.push(`/delivery/enderecos${identificarEstabelecimentoSelecionado(aplicativoDados)}`) }>\r\n                      <LocationOnIcon/> Enderecos\r\n                    </Button>\r\n                  </>) \r\n                : null\r\n                }\r\n\r\n    \r\n              {props.produtoNome && props.voltar\r\n              ?(<>\r\n                  \r\n                  <div\r\n                    className={classes.voltarIcon}\r\n                    color=\"inherit\"\r\n                    onClick={() => history.goBack()} \r\n                    aria-label=\"open drawer\"\r\n                  > \r\n                    <RiArrowLeftLine ></RiArrowLeftLine>\r\n                  </div>\r\n                  <Typography className={classes.titleProduto}  style={{\"width\": \"calc( 100% - 57px)\"}} variant=\"h6\" noWrap>\r\n                    {props.produtoNome}\r\n                  </Typography>\r\n                  \r\n                </>)\r\n              : null}\r\n    \r\n            </Toolbar>\r\n          </AppBar>\r\n        </div>\r\n        \r\n        )\r\n    }else{\r\n      return (\r\n        <div className={classes.root} id=\"cabecalhoApp\">\r\n        <AppBar position=\"static\" className=\"cabecalhoApp\">\r\n          <Toolbar  className=\"container\"  >            \r\n            \r\n                {props.produtoNome && props.voltar\r\n                ?(<>\r\n                  \r\n                  <div\r\n                    className={classes.voltarIcon}\r\n                    color=\"inherit\"\r\n                    onClick={() => history.goBack()} \r\n                    aria-label=\"open drawer\"\r\n                  > \r\n                    <RiArrowLeftLine ></RiArrowLeftLine>\r\n                  </div>\r\n\r\n                  <Typography className={classes.titleProduto} style={{\"width\": \"calc( 100% - 57px)\"}} variant=\"h6\" noWrap>\r\n                    {props.produtoNome}\r\n                  </Typography>\r\n                </>)\r\n              : null}\r\n\r\n\r\n                {(props.clienteFielStart)\r\n                ?(<>\r\n                    <Typography className={classes.title}  style={{\"width\": \"calc( 100% - 125px)\"}} variant=\"h6\" noWrap>\r\n                    {estabelecimentoAtual ? (estabelecimentoAtual.nomeAlternativo ? estabelecimentoAtual.nomeAlternativo : estabelecimentoAtual.nome) : aplicativoDados.projectName}\r\n\r\n                    </Typography>\r\n                  </>) \r\n                : null\r\n                }\r\n\r\n                {(props.nomeEstabelecimentoCardapio)\r\n                ?(<>\r\n                    <Typography className={classes.title}  style={{\"width\": \"calc( 100% - 125px)\"}} variant=\"h6\" noWrap>\r\n                    {estabelecimentoAtual ? (estabelecimentoAtual.nomeAlternativo ? estabelecimentoAtual.nomeAlternativo : estabelecimentoAtual.nome) : aplicativoDados.projectName}\r\n\r\n                    </Typography>\r\n                    <Button variant=\"contained\" style={aberto ? (estabelecimentoAtual.pausado ? {\"background\": \"#ffc107\", \"color\":\"black\"} : {\"background\": \"#28a745\", \"color\":\"white\"}) : {\"background\": \"#dc3545\", \"color\":\"white\"}} >\r\n                      {aberto ? (estabelecimentoAtual.pausado ? \"Pausado\": \"Aberto\") : `Fechado`}\r\n                    </Button>\r\n                  </>) \r\n                : null\r\n                }\r\n\r\n\r\n                {(props.nomeEstabelecimentoLojas)\r\n                ?(<>\r\n                    <Typography className={classes.title}  style={{\"width\": \"calc( 100% - 125px)\"}} variant=\"h6\" noWrap>\r\n                      {aplicativoDados.projectName}\r\n                    </Typography>\r\n                   <Button variant=\"contained\" onClick={() => history.push(`/login${identificarEstabelecimentoSelecionado(aplicativoDados)}`)}style={ {\"background\": \"#28a745\", \"color\":\"white\"}} >\r\n                      Fazer Login\r\n                    </Button>\r\n                  </>) \r\n                : null\r\n                }\r\n              \r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>       \r\n      )\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/endereco-flat.632a9512.svg\";","import React, { useState, useEffect } from 'react';\r\n\r\nimport * as Sentry from \"@sentry/react\"; \r\nimport enderecosVazios from '../assets/endereco-flat.svg';\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport {fade, makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nimport {identificarEstabelecimentoSelecionado, Post_ListarEstabelecimentosPorEndereco, CadastrarEnderecoCliente, ObterCardapio, ObterCardapioCompletoV1, ComumCep } from '../services/functions';\r\n\r\n\r\nimport BackspaceIcon from '@material-ui/icons/Backspace';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\n\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nexport default function CadastroEndereco(props) {\r\n\r\n    \r\n    const {\r\n        telaDeEstabelecimentos = false,\r\n        telaDeCardapio = false,\r\n        setLoading,\r\n        calcularValorTotal,\r\n        estabelecimentoAtual,\r\n        alertStart,\r\n        aplicativoDados,\r\n        enderecoAtual,\r\n        retirarNoLocal,\r\n        usuarioLogado,\r\n        setInformacoesPedido,\r\n        setVerTodasAsLojas,\r\n        filtroTipoRetirada,\r\n        setEnderecoAtual,\r\n        listarEstabelecimentosPorEndereco,\r\n        abrirAdicionarEndereco,\r\n        setAbrirAdicionarEndereco,\r\n        popUpCep,\r\n        setPopUpCep,\r\n        buscarCardapio,\r\n        estabelecimentoDesejado,\r\n        continuarSemCadastro=false,\r\n        setInformacoesDoTipoEntrega,\r\n        setPagamentoOpen,\r\n    } = props\r\n\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n\r\n    const [cep, setCep] = React.useState('');\r\n    const [uf, setUf] = React.useState('');\r\n    const [cidade, setCidade] = React.useState('');\r\n    const [bairro, setBairro] = React.useState('');\r\n    const [rua, setRua] = React.useState('');\r\n    const [numero, setNumero] = React.useState('');\r\n    const [complemento, setComplemento] = React.useState('');\r\n    const [referencia, setReferencia] = React.useState('');\r\n    const [bairrosCepUnico, setBairrosCepUnico] = React.useState([]);\r\n    const [bairroCepUnicoSelecionado, setBairroCepUnicoSelecionado] = React.useState('');\r\n\r\n    const limparEnderecos = () =>{\r\n        setCep('')\r\n        setUf('')\r\n        setCidade('')\r\n        setBairro('')\r\n        setRua('')\r\n        setNumero('')\r\n        setComplemento('')\r\n        setReferencia('')\r\n        setBairrosCepUnico('')\r\n        setBairroCepUnicoSelecionado('')\r\n    }\r\n\r\n    const verificarDadosCadastroEndereco = () => {\r\n        if(bairrosCepUnico.length && !bairro){\r\n            alertStart(\"Necessario a escolha do bairro!\", \"warning\")     \r\n            return false\r\n        }else if(!uf){\r\n            alertStart(\"Necessario o preenchimento da sigla do estado!\", \"warning\")     \r\n            document.getElementById(\"cadastroUf\").focus()\r\n            return false\r\n        }else if(!cidade){\r\n            alertStart(\"Necessario o preenchimento da cidade!\", \"warning\")     \r\n            document.getElementById(\"cadastroCidade\").focus()\r\n            return false\r\n        }else if(!bairro){\r\n            alertStart(\"Necessario o preenchimento do bairro!\", \"warning\")     \r\n            document.getElementById(\"cadastroBairro\").focus()\r\n            return false\r\n        }else if(!rua){\r\n            alertStart(\"Necessario o preenchimento da rua!\", \"warning\")     \r\n            document.getElementById(\"cadastroRua\").focus()\r\n            return false\r\n        }else if(!numero){\r\n            alertStart(\"Necessario o preenchimento do numero!\", \"warning\")     \r\n            document.getElementById(\"cadastroNumero\").focus()\r\n            return false\r\n        }else if(!complemento){\r\n            alertStart(\"Necessario o preenchimento do complemento!\", \"warning\")     \r\n            document.getElementById(\"cadastroComplemento\").focus()\r\n            return false\r\n        }\r\n    }\r\n\r\n    const criarEndereco = () => {\r\n        const data = {\r\n            //\"idCliente\": usuarioLogado.cliente.id,\r\n            //\"idEstabelecimento\": estabelecimentoAtual.id,\r\n            \"cep\": cep,\r\n            \"uf\": uf,\r\n            \"cidade\": cidade,\r\n            \"bairro\": bairro,\r\n            \"logradouro\": rua,\r\n            \"numero\": numero,\r\n            \"complemento\": complemento,\r\n            \"referencia\": referencia,\r\n            \"appNome\": aplicativoDados.appNome,\r\n            \"latitude\": 0,\r\n            \"longitude\": 0,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        } \r\n\r\n        if(aplicativoDados.tipoEntregaBairro == 1){\r\n            localStorage.removeItem('bairroEspecifico')\r\n            data.bairroEspecifico = 1\r\n        }else{\r\n            data.bairroEspecifico = 0\r\n        }\r\n\r\n        return data\r\n    }\r\n\r\n    const cadastroEnderecoCardapio = async () => {\r\n        let deuCerto = false\r\n        try {\r\n            \r\n            if(continuarSemCadastro && !retirarNoLocal){\r\n                if(verificarDadosCadastroEndereco() === false) return false\r\n                setLoading(true)\r\n                const data = criarEndereco()\r\n\r\n                data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`  \r\n                data.appNome = aplicativoDados.appNome\r\n\r\n\r\n                const retorno = await Post_ListarEstabelecimentosPorEndereco(data, aplicativoDados)\r\n            \r\n                if(retorno.retornoErro){\r\n                alertStart(retorno.mensagem, \"error\") \r\n                setLoading(false)\r\n                }else{\r\n                    console.log('Post_ListarEstabelecimentosPorEndereco', retorno)\r\n                    const estabelecimentosQueEntregam = retorno.filter(estabelecimento => estabelecimento.taxaEntrega != -1)\r\n                    const estabelecimentoAtualComTaxa = estabelecimentosQueEntregam.filter(estabelecimento => estabelecimento.id === estabelecimentoAtual.id)\r\n\r\n                    if(estabelecimentoAtualComTaxa.length){\r\n                        data.taxaEntrega = estabelecimentoAtualComTaxa[0].taxaEntrega\r\n                        // alertStart(`${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(estabelecimentoAtualComTaxa[0].taxaEntrega)}  a taxa de entrega para o endereo cadastrado.`, \"success\") \r\n                        deuCerto = true\r\n                    }else{\r\n                        data.taxaEntrega = -1\r\n                        if(estabelecimentosQueEntregam.length){\r\n                            alertStart(`Este estabelecimento no entrega no endereo cadastrado. Porm, outro estabelecimento entrega em seu endereo!`, \"error\") \r\n                        }else{\r\n                            alertStart(`Este estabelecimento no entrega no endereo cadastrado.`, \"error\") \r\n                        }\r\n                        setInformacoesDoTipoEntrega(false)\r\n                        setPagamentoOpen(false)\r\n                    }\r\n                }\r\n\r\n                \r\n                localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(data))\r\n                setEnderecoAtual(data)\r\n                calcularValorTotal()\r\n\r\n            }\r\n            \r\n\r\n            \r\n            setAbrirAdicionarEndereco(false)\r\n            if(deuCerto === true){\r\n                setInformacoesPedido(true)\r\n            }\r\n\r\n        } catch (error) {\r\n            Sentry.captureMessage(localStorage.getItem('versao')+localStorage.getItem('versao')+`cadastroEnderecoCardapio - ${aplicativoDados.appNome} - ${error}`);\r\n            alertStart(\"Procure os desenvolvedores \"+error.message, \"error\")    \r\n            setLoading(false)\r\n            setAbrirAdicionarEndereco(false)\r\n        }\r\n\r\n        setLoading(false)\r\n\r\n        limparEnderecos()\r\n\r\n    }\r\n    const buscarLojasQueEntregam = async () =>{\r\n        \r\n        if(verificarDadosCadastroEndereco() === false) return false\r\n\r\n        setVerTodasAsLojas(false)\r\n        setAbrirAdicionarEndereco(false)\r\n        setLoading(true)\r\n        \r\n        try {\r\n            \r\n            const data = criarEndereco()\r\n\r\n            if(usuarioLogado?.logado){\r\n                await cadastrarEnderecoNoUsuario(data)\r\n            }else{\r\n                localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(data))\r\n                //console.log(\"data\", data)\r\n                listarEstabelecimentosPorEndereco(data)\r\n            }\r\n\r\n        \r\n        \r\n        } catch (error) {\r\n            Sentry.captureMessage(localStorage.getItem('versao')+localStorage.getItem('versao')+`ListarEstabelecimentosPorEndereco - ${aplicativoDados.appNome} - ${error}`);\r\n            alertStart(\"Procure os desenvolvedores \"+error.message, \"error\")    \r\n            setLoading(false)\r\n            setAbrirAdicionarEndereco(false)\r\n        }\r\n\r\n        limparEnderecos()\r\n\r\n    }\r\n\r\n    const cadastrarEnderecoNoUsuario = async (data) => {\r\n        try {\r\n  \r\n          data.idCliente = usuarioLogado.cliente.id\r\n  \r\n          \r\n          if(aplicativoDados.tipoEntregaBairro == 1){\r\n            data.bairroEspecifico = 1\r\n          }else{\r\n            data.bairroEspecifico = 0\r\n          }\r\n  \r\n          const retorno = await CadastrarEnderecoCliente(data, aplicativoDados)\r\n        \r\n          console.log(\"CadastrarEnderecoCliente\", retorno)\r\n          if(retorno.retornoErro){\r\n            alertStart(retorno.mensagem, \"error\")\r\n            listarEstabelecimentosPorEndereco(data)\r\n            setLoading(false)\r\n          }else{\r\n            usuarioLogado.cliente.enderecos.push(retorno)\r\n            localStorage.setItem('usuarioCF', JSON.stringify(usuarioLogado))\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(retorno))\r\n            setEnderecoAtual(retorno)\r\n            listarEstabelecimentosPorEndereco(retorno)//data com id\r\n          }\r\n  \r\n        } catch (error) {\r\n          Sentry.captureMessage(localStorage.getItem('versao')+localStorage.getItem('versao')+`NotFunctions cadastrarEnderecoNoUsuario - ${aplicativoDados.appNome} - ${error}`);\r\n          alertStart(\"Procure os desenvolvedores!. Erro: \"+error.message, \"error\")    \r\n        }\r\n    }\r\n    \r\n\r\n    const verificarCep = async (e) =>{\r\n        try {\r\n          let valorInput = e.target.value\r\n          valorInput = valorInput.replace(/-/g, '')\r\n          valorInput = valorInput.replace(/ /g, '')\r\n          valorInput = valorInput.replace(/\\//g, '')\r\n          // valorInput = valorInput.substring(0,8)\r\n          console.log(\"valorInput\", valorInput)\r\n          if(valorInput.length == 8 ){\r\n            setCep(valorInput)\r\n            setLoading(true)\r\n            //buscar dados do cep\r\n            const retornoCep = await ComumCep(valorInput, aplicativoDados)\r\n            \r\n            console.log(\"retornoCep\", retornoCep)\r\n            if(retornoCep.retornoErro){\r\n              alertStart(retornoCep.mensagem, \"error\")\r\n            }else{\r\n              if(retornoCep.id || retornoCep.logradouro){\r\n                setBairrosCepUnico('')\r\n                setBairro(retornoCep.bairro)\r\n                setCidade(retornoCep.localidade)\r\n                setRua(retornoCep.logradouro)\r\n                setUf(retornoCep.uf)\r\n                setPopUpCep(false)\r\n                setAbrirAdicionarEndereco(true)\r\n              }else if(retornoCep.bairros.length >= 1){     \r\n                setBairrosCepUnico(retornoCep.bairros)\r\n                setPopUpCep(false)\r\n                setAbrirAdicionarEndereco(true)\r\n              }else{\r\n                //DEU ERRO, OU NAO EXISTE\r\n                alertStart(\"CEP no encontrado\", \"error\")   \r\n                // setAbrirAdicionarEndereco(false)\r\n                limparEnderecos()\r\n    \r\n                if(popUpCep){\r\n                  document.getElementById(\"cepDigitando2\").value = ''\r\n                  document.getElementById(\"cepDigitando2\").focus()\r\n                }else{\r\n                  document.getElementById(\"cepDigitando\").value = ''\r\n                  document.getElementById(\"cepDigitando\").focus()\r\n                }\r\n                \r\n              }\r\n            }\r\n    \r\n            setLoading(false)\r\n          } \r\n        } catch (error) {\r\n          Sentry.captureMessage(localStorage.getItem('versao')+localStorage.getItem('versao')+`NotFunctions verificarCep - ${aplicativoDados.appNome} - ${error}`);\r\n          alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n        }\r\n      }\r\n\r\n      const selecionarRetirada = () => {\r\n        if(telaDeEstabelecimentos){\r\n            filtroTipoRetirada(false)\r\n            setAbrirAdicionarEndereco(false)\r\n        }else if(telaDeCardapio){\r\n            if(retirarNoLocal === true){\r\n                setEnderecoAtual({})\r\n                localStorage.setItem('enderecoAtualCF', '{}')\r\n            }else{\r\n                setEnderecoAtual({\r\n                    id: \"retirada\"\r\n                })\r\n                localStorage.setItem('enderecoAtualCF', JSON.stringify({id:\"retirada\"}))\r\n                setAbrirAdicionarEndereco(false)\r\n                setInformacoesPedido(true)\r\n                calcularValorTotal()\r\n            }\r\n        }\r\n      }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                telaDeEstabelecimentos &&\r\n                <Row style={(enderecoAtual?.logradouro || retirarNoLocal) ? {\"display\":\"none\"}:null}>\r\n                    <Col xs={12} md={12} lg={12} >\r\n                        <Typography gutterBottom variant=\"h6\" >\r\n                        Digite seu CEP para entrega\r\n                        </Typography>\r\n                    </Col>\r\n\r\n\r\n                    <Col xs={12} md={12} lg={12} style={{\"marginTop\": \"1em\"}}>\r\n                        <TextField\r\n                            disabled={retirarNoLocal}                  \r\n                            style={{\"width\":\"300px\", \"maxWidth\":\"100%\", \"background\":\"white\"}}\r\n                            name=\"CEP\"\r\n                            //value={cep}\r\n                            id=\"cepDigitando\"\r\n                            label=\"CEP\"\r\n                            onChange={verificarCep}\r\n                            variant=\"outlined\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs={12} md={12} lg={12}>\r\n                        <FormControlLabel\r\n                            style={{\"margin\": \"0 0 0 0\"}}\r\n                            checked={retirarNoLocal}\r\n                            control={\r\n                            <Checkbox\r\n                                id=\"botaoRetirada\"\r\n                                icon={<CheckBoxOutlineBlankIcon fontSize=\"small\" />}\r\n                                checkedIcon={<CheckBoxIcon fontSize=\"small\" />}\r\n                                name=\"retirarNoLocal\"\r\n                                onClick={() => filtroTipoRetirada(false)}\r\n                            />\r\n                            }\r\n                            label=\"Retirar no Local\"\r\n                        />\r\n\r\n                    </Col>\r\n\r\n                    <Divider style={{\"width\": \"100%\", \"margin\": \"0 0 1em 0\"}}/>\r\n\r\n                </Row>\r\n            }\r\n\r\n            <Dialog\r\n                // fullScreen={fullScreen}\r\n                fullScreen={true}\r\n                open={abrirAdicionarEndereco}\r\n                aria-labelledby=\"codigoIndicacao\">\r\n                <DialogTitle id=\"codigoIndicacao\">{\"Adicionar Endereo\"}</DialogTitle>\r\n\r\n\r\n                <DialogContent>\r\n                <Row>     \r\n                {\r\n                    popUpCep\r\n                    ? <React.Fragment>\r\n                        <Col xs={12} md={12} lg={12} style={{\"marginTop\": \"1em\"}}>\r\n                        <TextField\r\n                            // disabled={retirarNoLocal}                  \r\n                            fullWidth\r\n                            onFocus={() => {\r\n                                if(retirarNoLocal === true){\r\n                                    selecionarRetirada()\r\n                                }\r\n                            }}\r\n                            name=\"CEP\"\r\n                            //value={cep}\r\n                            id=\"cepDigitando2\"\r\n                            label=\"CEP\"\r\n                            onChange={verificarCep}\r\n                            variant=\"outlined\"\r\n                        />\r\n                        </Col>\r\n                        <Col xs={12} md={12} lg={12}>\r\n                        <FormControlLabel\r\n                            style={{\"margin\": \"0 0 0 0\"}}\r\n                            checked={retirarNoLocal}\r\n                            control={\r\n                            <Checkbox\r\n                                id=\"botaoRetirada2\"\r\n                                icon={<CheckBoxOutlineBlankIcon fontSize=\"small\" />}\r\n                                checkedIcon={<CheckBoxIcon fontSize=\"small\" />}\r\n                                name=\"retirarNoLocal2\"\r\n                                onClick={selecionarRetirada}\r\n                            />\r\n                            }\r\n                            label=\"Retirar no Local\"\r\n                        />\r\n                    \r\n                        </Col>\r\n\r\n                        <div className=\"divImageCentroCardapio\" >\r\n                            <img alt={\"sem endereos cadastrados\"} src={enderecosVazios} className=\"pretoEBranco\" />\r\n                        </div>\r\n                        \r\n                    </React.Fragment>\r\n                    : <React.Fragment>\r\n                        {bairrosCepUnico \r\n                        ? <Col xs={12} md={12} lg={12}>\r\n                            <FormControl variant=\"outlined\" style={{\"width\": \"100%\", \"margin\": \"0.5em 0\"}}>\r\n                            <InputLabel id=\"demo-simple-select-outlined-label\">Bairros do Cep</InputLabel>\r\n                                <Select\r\n                                labelId=\"demo-simple-select-outlined-label\"\r\n                                fullWidth\r\n                                id=\"cadastroBairro\"\r\n                                value={bairroCepUnicoSelecionado}\r\n                                onChange={(e) => {\r\n                                    //console.log(e.target.value)\r\n                                    setBairroCepUnicoSelecionado(e.target.value)\r\n                                    setUf(bairrosCepUnico[e.target.value].cidade.estado.sigla)\r\n                                    setCidade(bairrosCepUnico[e.target.value].cidade.nome)\r\n                                    setBairro(bairrosCepUnico[e.target.value].nome)\r\n                                }}\r\n                                label=\"Bairros do Cep\"\r\n                                >\r\n\r\n                                {bairrosCepUnico.map((bairro, index) => (\r\n                                <MenuItem key={bairro.id} value={index}>{bairro.nome}</MenuItem>\r\n                                ))}\r\n                            </Select>\r\n                            </FormControl>\r\n                        </Col>\r\n                        : <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n                            <TextField\r\n                            disabled\r\n                            fullWidth                 \r\n                            required\r\n                            value={bairro}\r\n                            name=\"BAIRRO\"\r\n                            id=\"cadastroBairro\"\r\n                            label=\"BAIRRO\"\r\n                            variant=\"outlined\"\r\n                            />\r\n                        </Col>}       \r\n                    <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n                        <TextField\r\n                        disabled\r\n                        fullWidth                    \r\n                        required\r\n                        value={uf}\r\n                        name=\"UF\"\r\n                        id=\"cadastroUf\"\r\n                        label=\"UF\"\r\n                        variant=\"outlined\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>                                           \r\n                        <TextField\r\n                        required\r\n                        fullWidth\r\n                        disabled\r\n                        value={cidade}\r\n                        name=\"CIDADE\"\r\n                        id=\"cadastroCidade\"\r\n                        label=\"CIDADE\"\r\n                        variant=\"outlined\"\r\n                        />\r\n                    </Col>            \r\n                    <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n                        <TextField\r\n                        required\r\n                        fullWidth\r\n                        //autoFocus={bairrosCepUnico.length ? true : false}\r\n                        disabled={bairrosCepUnico.length ? false : true}                      \r\n                        name=\"RUA\"\r\n                        onChange={(e) => {\r\n                            setRua(e.target.value)\r\n                        }}\r\n                        value={rua}\r\n                        id=\"cadastroRua\"\r\n                        label=\"RUA\"\r\n                        variant=\"outlined\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n                        <TextField\r\n                        //autoFocus\r\n                        fullWidth\r\n                        required\r\n                        name=\"NUMERO\"\r\n                        value={numero}\r\n                        onChange={(e) => {\r\n                            setNumero(e.target.value)\r\n                        }}\r\n                        id=\"cadastroNumero\"\r\n                        label=\"NUMERO\"\r\n                        variant=\"outlined\"\r\n                        type=\"number\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n                        <TextField\r\n                        required\r\n                        fullWidth\r\n                        value={complemento}\r\n                        onChange={(e) => {\r\n                            setComplemento(e.target.value)\r\n                        }}\r\n                        name=\"COMPLEMENTO\"\r\n                        id=\"cadastroComplemento\"\r\n                        label=\"COMPLEMENTO\"\r\n                        variant=\"outlined\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n                        <TextField\r\n                        required\r\n                        fullWidth\r\n                        value={referencia}\r\n                        onChange={(e) => {\r\n                            setReferencia(e.target.value)\r\n                        }}\r\n                        name=\"REFERENCIA\"\r\n                        id=\"cadastroReferencia\"\r\n                        label=\"REFERENCIA\"\r\n                        variant=\"outlined\"\r\n                        />\r\n                    </Col>\r\n                    </React.Fragment>\r\n                }\r\n                    \r\n                    \r\n                </Row>\r\n                </DialogContent>\r\n\r\n                <DialogActions>\r\n                \r\n                <Button style={{\"color\": \"#dc3545\"}} onClick={(e) => {\r\n                    limparEnderecos()\r\n                    setAbrirAdicionarEndereco(false)\r\n                    if(popUpCep){\r\n                        setTimeout(() => {\r\n                        setPopUpCep(false)\r\n                        }, 500);\r\n                    }\r\n                    \r\n                    }} >\r\n                    Cancelar\r\n                </Button>\r\n                \r\n\r\n                {\r\n                    telaDeEstabelecimentos \r\n                    ? (\r\n                        !popUpCep\r\n                            ? <Button onClick={() => {\r\n                                buscarLojasQueEntregam()\r\n                                }} style={{\"color\": \"#fff\", \"backgroundColor\": \"#28a745\"}}>\r\n                                Pronto\r\n                            </Button>\r\n                            : <Button onClick={() => {\r\n                                if(telaDeEstabelecimentos){\r\n                                    buscarCardapio(estabelecimentoDesejado)\r\n                                }else{\r\n                                    \r\n                                }\r\n                                }} style={{\"color\": \"#fff\", \"backgroundColor\": \"#28a745\"}}>\r\n                                Cardpio\r\n                            </Button>\r\n                        )\r\n                    : ((telaDeCardapio && cep.length >=8) && <Button onClick={() => {\r\n                                cadastroEnderecoCardapio()\r\n                            }} style={{\"color\": \"#fff\", \"backgroundColor\": \"#28a745\"}}>\r\n                            Pronto\r\n                        </Button>)\r\n                            \r\n                        \r\n                }\r\n                \r\n                \r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n/*import { RiShoppingBag3Line, RiUserLocationLine, RiHeartLine } from 'react-icons/ri';\r\n\r\nimport { Navbar, Col, Row } from 'react-bootstrap';*/\r\nimport { identificarEstabelecimentoSelecionado } from \"../../services/functions\";\r\n\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport MotorcycleIcon from \"@material-ui/icons/Motorcycle\";\r\nimport { makeStyles, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport BottomNavigation from \"@material-ui/core/BottomNavigation\";\r\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport LoyaltyIcon from \"@material-ui/icons/Loyalty\";\r\nimport RoomServiceIcon from \"@material-ui/icons/RoomService\";\r\nimport StoreIcon from \"@material-ui/icons/Store\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  svg: {\r\n    color: \"#fff\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nexport default function Rodape(props) {\r\n  const [estabelecimentoAtual, setEstabelecimentoAtual] = React.useState(\r\n    JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))\r\n  );\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"));\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(props.valor);\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n  const history = useHistory();\r\n\r\n  var scrollPos = 0;\r\n  window.addEventListener(\"scroll\", function () {\r\n    if (document.getElementsByClassName(\"RodapeComponente\").length > 0) {\r\n      if (document.body.getBoundingClientRect().top >= scrollPos) {\r\n        //document.getElementsByClassName('RodapeComponente')[0].style.height = \"56px\"\r\n        //document.getElementsByClassName('cabecalhoApp')[0].style.height = \"0px\"\r\n      } else {\r\n        //document.getElementsByClassName('cabecalhoApp')[0].style.height = \"56px\"\r\n        //document.getElementsByClassName('RodapeComponente')[0].style.height = \"0px\"\r\n      }\r\n      scrollPos = document.body.getBoundingClientRect().top;\r\n    }\r\n  });\r\n\r\n  const theme = createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        light: `${\r\n          !aplicativoDados?.corSiteSecundaria ||\r\n          aplicativoDados?.corSiteSecundaria ===\r\n            aplicativoDados?.corSitePrimaria\r\n            ? \"#6c757d\"\r\n            : aplicativoDados?.corSiteSecundaria\r\n        }`,\r\n        main: `${\r\n          !aplicativoDados?.corSiteSecundaria ||\r\n          aplicativoDados?.corSiteSecundaria ===\r\n            aplicativoDados?.corSitePrimaria\r\n            ? \"#6c757d\"\r\n            : aplicativoDados?.corSiteSecundaria\r\n        }`,\r\n        // dark: will be calculated from palette.secondary.main,\r\n        contrastText: `#000000`,\r\n      },\r\n      secondary: {\r\n        light: `${\r\n          !aplicativoDados?.corSiteSecundaria\r\n            ? \"#6c757d\"\r\n            : aplicativoDados?.corSiteSecundaria\r\n        }`,\r\n        main: `${\r\n          !aplicativoDados?.corSitePrimaria\r\n            ? \"#6c757d\"\r\n            : aplicativoDados?.corSitePrimaria\r\n        }`,\r\n        contrastText: `#fff`,\r\n      },\r\n    },\r\n  });\r\n\r\n  const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"));\r\n  const usuarioPedidoMesa = JSON.parse(\r\n    localStorage.getItem(\"usuarioPedidoMesaCF\")\r\n  );\r\n\r\n  //PEDIDO MESA\r\n  if (usuarioPedidoMesa?.logado) {\r\n    return <div className=\"RodapeComponente\"></div>;\r\n  } else if (usuarioLogado?.logado) {\r\n    return (\r\n      <div className=\"RodapeComponente\" id=\"RodapeComponente\">\r\n        <ThemeProvider theme={theme}>\r\n          <BottomNavigation\r\n            value={value}\r\n            onChange={handleChange}\r\n            className={classes.root}\r\n            style={{ backgroundColor: `${aplicativoDados?.corSitePrimaria}` }}\r\n          >\r\n            <BottomNavigationAction\r\n              onClick={() => {\r\n                if (value !== \"Delivery\")\r\n                  history.push(\r\n                    `/delivery${identificarEstabelecimentoSelecionado(\r\n                      aplicativoDados\r\n                    )}`\r\n                  );\r\n              }}\r\n              label={\r\n                aplicativoDados.appNome === \"gessominas\"\r\n                  ? \"Produtos\"\r\n                  : \"Cardpio\"\r\n              }\r\n              className={classes.svg}\r\n              value=\"Delivery\"\r\n              icon={\r\n                aplicativoDados.appNome === \"gessominas\" ? (\r\n                  <ShoppingCartIcon />\r\n                ) : (\r\n                  <RoomServiceIcon />\r\n                )\r\n              }\r\n            />\r\n\r\n            {aplicativoDados?.apenasDelivery === false && (\r\n              <BottomNavigationAction\r\n                onClick={() => {\r\n                  if (value !== \"Fidelidade\")\r\n                    history.push(`/delivery/fidelidade`);\r\n                }}\r\n                label=\"Fidelidade\"\r\n                className={classes.svg}\r\n                value=\"Fidelidade\"\r\n                icon={<LoyaltyIcon />}\r\n              />\r\n            )}\r\n\r\n            {usuarioLogado.estabelecimentos.length > 1 ? (\r\n              <BottomNavigationAction\r\n                onClick={() => {\r\n                  if (value !== \"Estabelecimento\")\r\n                    history.push(`/estabelecimento`);\r\n                }}\r\n                label=\"Lojas\"\r\n                className={classes.svg}\r\n                value=\"Estabelecimento\"\r\n                icon={<StoreIcon />}\r\n              />\r\n            ) : (\r\n              <BottomNavigationAction\r\n                onClick={() => {\r\n                  if (value !== \"Endereco\")\r\n                    history.push(\r\n                      `/delivery/enderecos${identificarEstabelecimentoSelecionado(\r\n                        aplicativoDados\r\n                      )}`\r\n                    );\r\n                }}\r\n                label=\"Endereo\"\r\n                className={classes.svg}\r\n                value=\"Endereco\"\r\n                icon={<LocationOnIcon />}\r\n              />\r\n            )}\r\n\r\n            <BottomNavigationAction\r\n              onClick={() => {\r\n                if (value !== \"Perfil\") history.push(`/perfil`);\r\n              }}\r\n              label=\"Perfil\"\r\n              className={classes.svg}\r\n              value=\"Perfil\"\r\n              icon={<PersonIcon />}\r\n            />\r\n          </BottomNavigation>\r\n        </ThemeProvider>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"RodapeComponente\" id=\"RodapeComponente\">\r\n        <ThemeProvider theme={theme}>\r\n          <BottomNavigation\r\n            value={value}\r\n            onChange={handleChange}\r\n            className={classes.root}\r\n            style={{ backgroundColor: `${aplicativoDados?.corSitePrimaria}` }}\r\n          >\r\n            <BottomNavigationAction\r\n              onClick={() => {\r\n                if (\r\n                  JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))\r\n                    ?.id &&\r\n                  value !== \"Delivery\"\r\n                ) {\r\n                  history.push(\r\n                    `/delivery${identificarEstabelecimentoSelecionado(\r\n                      aplicativoDados\r\n                    )}`\r\n                  );\r\n                }\r\n              }}\r\n              label={\r\n                aplicativoDados.appNome === \"gessominas\"\r\n                  ? \"Produtos\"\r\n                  : \"Cardpio\"\r\n              }\r\n              className={classes.svg}\r\n              value=\"Delivery\"\r\n              icon={\r\n                aplicativoDados.appNome === \"gessominas\" ? (\r\n                  <ShoppingCartIcon />\r\n                ) : (\r\n                  <RoomServiceIcon />\r\n                )\r\n              }\r\n            />\r\n\r\n            {aplicativoDados?.estabelecimentos?.length > 1 && (\r\n              <BottomNavigationAction\r\n                onClick={() => {\r\n                  if (\r\n                    JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))\r\n                      ?.id &&\r\n                    value !== \"Estabelecimento\"\r\n                  ) {\r\n                    history.push(`/lojas`);\r\n                  }\r\n                }}\r\n                label=\"Lojas\"\r\n                className={classes.svg}\r\n                value=\"Estabelecimento\"\r\n                icon={<StoreIcon />}\r\n              />\r\n            )}\r\n\r\n            <BottomNavigationAction\r\n              onClick={() => {\r\n                if (value !== \"Login\") {\r\n                  if (\r\n                    !!JSON.parse(localStorage.getItem(\"carrinhoCF\"))?.pedido\r\n                      ?.itens\r\n                  ) {\r\n                    localStorage.setItem(\r\n                      \"backupItensCarrinhoCF\",\r\n                      JSON.stringify(\r\n                        JSON.parse(localStorage.getItem(\"carrinhoCF\"))?.pedido\r\n                          .itens\r\n                      )\r\n                    );\r\n                  }\r\n                  history.push(\r\n                    `/login${identificarEstabelecimentoSelecionado(\r\n                      aplicativoDados\r\n                    )}`\r\n                  );\r\n                }\r\n              }}\r\n              label=\"Login\"\r\n              className={classes.svg}\r\n              value=\"Login\"\r\n              icon={<PersonIcon />}\r\n            />\r\n          </BottomNavigation>\r\n        </ThemeProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './styles.css';\r\nimport Cabecalho from '../Global/cabecalho';\r\nimport CadastroEndereco from '../../components/cadastroEndereco';\r\nimport Rodape from '../Global/rodape';\r\nimport TransferWithinAStationIcon from '@material-ui/icons/TransferWithinAStation';\r\nimport PersonPinCircleIcon from '@material-ui/icons/PersonPinCircle';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport * as Sentry from \"@sentry/react\"; \r\n\r\nimport {identificarEstabelecimentoSelecionado, Post_ListarEstabelecimentosPorEndereco, CadastrarEnderecoCliente, ObterCardapio, ObterCardapioCompletoV1, ComumCep } from '../../services/functions';\r\n\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\n\r\nimport AlertFixo from '@material-ui/lab/Alert';\r\n\r\nimport api from '../../services/api';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport {fade, makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nimport BackspaceIcon from '@material-ui/icons/Backspace';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\n\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\n\r\n//import Loading from '../loading';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  // root: {\r\n  //   maxWidth: 345,\r\n  // },\r\n  rootAlerts: {\r\n    margin: \"0 0 1em 0\",\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 999,\r\n    color: '#fff', \r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n}));\r\n\r\n\r\nconst verificarSeEntrega = (estabelecimento, lojas) => {\r\n  for(var i = 0; i < lojas.length; i++){\r\n    if(lojas[i].id == estabelecimento.id){\r\n      if(lojas[i].taxaEntrega < 0){\r\n        return false\r\n      }else{\r\n        return true\r\n      }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nconst qtdFiltro = (estabelecimentos, tipo, retirada, endereco, exibirTodasLojas) => {\r\n  if(retirada === true && (tipo != 1 && tipo != 2)){\r\n    tipo = 5\r\n  }\r\n\r\n  if(tipo === 0 && endereco === true && exibirTodasLojas === false ){\r\n    tipo = 7\r\n  }\r\n  \r\n  if(tipo === 0 && exibirTodasLojas === false){\r\n    tipo = 6\r\n  }\r\n\r\n  \r\n  \r\n  \r\n  \r\n  console.log(estabelecimentos, tipo, retirada, endereco, exibirTodasLojas)\r\n\r\n  // 0 = Todos \r\n  // 1 = aberto\r\n  // 2 = fechado\r\n  // 3 = Entregam\r\n  // 4 = nao entrega\r\n  // 5 = retirada\r\n  // 6 = nao exibir todas lojas \r\n  \r\n  let num = 0\r\n\r\n  if(estabelecimentos){\r\n    if(tipo == 0){\r\n      num = estabelecimentos.length\r\n    }else if(tipo == 1 || tipo == 2 || tipo == 6 ){\r\n      const estabelecimentos = document.getElementsByClassName(\"estabelecimento\")\r\n      console.log('estabelecimentosestabelecimentos', estabelecimentos)\r\n      for(let i = 0; i < estabelecimentos.length; i++){\r\n        if(estabelecimentos[i].style.display != \"none\"){\r\n          num++\r\n        }\r\n      }\r\n    }else{\r\n      estabelecimentos.forEach(loja => {  \r\n        if(tipo == 7 && loja.taxaEntrega >= 0){\r\n          num++\r\n        } else  \r\n        if(tipo == 5 && loja.permiteRetiradaBalcao){\r\n          num++\r\n        }else if(tipo == 3 && (loja.taxaEntrega >= 0)){\r\n          num++\r\n        }else if(tipo == 4 && (loja.taxaEntrega == -1)){\r\n          num++\r\n        }\r\n      })\r\n    }\r\n  }\r\n  console.log('qtd', num)\r\n  return num \r\n}\r\n\r\nconst quantoEntregam = (estabelecimentos, todos = true, retirada = false) => {\r\n  console.log(estabelecimentos, todos, retirada)\r\n  let num = 0\r\n  if(estabelecimentos){\r\n    estabelecimentos.forEach(loja => {     \r\n      if(!retirada && todos == true){\r\n        num++\r\n      }else if(!retirada && loja.taxaEntrega >= 0 && todos == false){\r\n        num++\r\n      }else if(loja.permiteRetiradaBalcao && retirada){\r\n        num++\r\n      }\r\n    })\r\n  }\r\n  console.log('quantoEntregam', num)\r\n  return num \r\n}\r\n\r\nfunction removeAcento (text){       \r\n  text = text.toLowerCase();                                                         \r\n  text = text.replace(new RegExp('[]','gi'), 'a');\r\n  text = text.replace(new RegExp('[]','gi'), 'e');\r\n  text = text.replace(new RegExp('[]','gi'), 'i');\r\n  text = text.replace(new RegExp('[]','gi'), 'o');\r\n  text = text.replace(new RegExp('[]','gi'), 'u');\r\n  text = text.replace(new RegExp('[]','gi'), 'c');\r\n  return text;                 \r\n}\r\n\r\nconst procurarEstabelecimento = (e) => {\r\n  const valorPesqusa = removeAcento(e.target.value.toLocaleLowerCase())\r\n  const estabelecimentos = document.getElementsByClassName(\"estabelecimento\")\r\n\r\n  for(let j = 0; j < estabelecimentos.length; j++){\r\n    const nome = removeAcento(estabelecimentos[j].getElementsByClassName(\"nomeLoja\")[0].innerHTML.toLocaleLowerCase()).includes(valorPesqusa)\r\n    const descricao = removeAcento(estabelecimentos[j].getElementsByClassName(\"descricaoLoja\")[0].innerHTML.toLocaleLowerCase()).includes(valorPesqusa) \r\n    if(nome || descricao){\r\n      estabelecimentos[j].style.display = \"\"\r\n    }else{\r\n      estabelecimentos[j].style.display = \"none\"\r\n    }\r\n  }\r\n}\r\n\r\nconst possuiOpcao = (array, string) => {\r\n  for(var i = 0; i < array.length; i++){\r\n    if(array[i] === string){\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\n\r\nexport default function Estabelecimentos() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const theme = useTheme();\r\n  \r\n  const [confirmarTipoEntrega, setConfirmarTipoEntrega] = useState(false);\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n  const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))  \r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n  const SkeletonQtd = [0,1,2,3,4,5]\r\n  const [verTodasAsLojas, setVerTodasAsLojas] = useState(false);\r\n  const [temAlgum, setTemAlgum] = useState(true);\r\n  const [enderecoAtual, setEnderecoAtual] = useState(JSON.parse(localStorage.getItem(\"enderecoAtualCF\")));\r\n\r\n  let estabelecimentosCepDeslogadoCF = []\r\n  try {\r\n    estabelecimentosCepDeslogadoCF = JSON.parse(localStorage.getItem('estabelecimentosCepDeslogadoCF'))\r\n  } catch (error) {\r\n    \r\n  }\r\n  // const [estabelecimentos, setEstabelecimentos] = useState(enderecoAtual?.bairro ? ( (usuarioLogado?.logado || (!localStorage.getItem('estabelecimentosCepDeslogadoCF') || localStorage.getItem('estabelecimentosCepDeslogadoCF') == \"undefined\"))  ? aplicativoDados.estabelecimentos : JSON.parse(localStorage.getItem('estabelecimentosCepDeslogadoCF'))) : (aplicativoDados.estabelecimentos.length > 0 ? aplicativoDados.estabelecimentos : []));\r\n  const [estabelecimentos, setEstabelecimentos] = useState(\r\n\r\n    ((enderecoAtual?.bairro && estabelecimentosCepDeslogadoCF?.length === 0)\r\n    ? estabelecimentosCepDeslogadoCF\r\n    : (aplicativoDados?.estabelecimentos?.length > 0 \r\n        ? aplicativoDados.estabelecimentos \r\n        : [])).filter((e) => e.visivel === true)\r\n\r\n  );\r\n  \r\n  const [abrirAdicionarEndereco, setAbrirAdicionarEndereco] = useState(false);\r\n  const [estabelecimentoDesejado, setEstabelecimentoDesejado] = useState({});\r\n\r\n  const [confirmarDesejo, setConfirmarDesejo] = useState(false);\r\n  const [retirarNoLocal, setRetirarNoLocal] = React.useState(enderecoAtual?.id == \"retirada\" ? true : false);\r\n  \r\n  const [popUpCep, setPopUpCep] = React.useState(false);\r\n  const [filtroSelect, setFiltroSelect] = React.useState(0);\r\n  const [quantosEntregam, setQuantosEntregam] = React.useState(0);\r\n\r\n  useEffect(() => {\r\n    setQuantosEntregam(qtdFiltro(estabelecimentos, filtroSelect, !!retirarNoLocal, !!enderecoAtual?.logradouro, (aplicativoDados?.exibirTodasUnidadesNoDelivery || verTodasAsLojas) ? true : false));\r\n  }, [retirarNoLocal, estabelecimentos, filtroSelect, enderecoAtual, verTodasAsLojas])\r\n\r\n  useEffect(() => {\r\n\r\n    if(aplicativoDados.pixelFacebook){\r\n          ReactPixel.track('Search')\r\n    }\r\n\r\n    if(retirarNoLocal){\r\n      filtroTipoRetirada(true)\r\n    }else if(enderecoAtual?.bairro){\r\n      listarEstabelecimentosPorEndereco(enderecoAtual)\r\n    }\r\n    \r\n\r\n    // const interval = setInterval(() => {\r\n    //     //console.log(\"procurando atualizaes \")\r\n    //     if(!aplicativoDados.clienteFielStart){\r\n    //       verificarAberto()\r\n    //       buscarUltimoPedido()  \r\n    //     }\r\n    //     // if(new Date() - new Date(localStorage.getItem('dateCardapioCF')) > 300000){\r\n    //     //   verificarCardapio(estabelecimentoAtual)\r\n    //     // }\r\n    // }, 10000);\r\n    // return () => clearInterval(interval);\r\n  }, []);\r\n\r\n\r\n  const allBanners = () => {\r\n    var array = []\r\n    for(let i = 0; i < aplicativoDados?.estabelecimentos?.length; i++){\r\n        if(aplicativoDados.estabelecimentos[i].banners){\r\n          for(let j = 0; j < aplicativoDados.estabelecimentos[i].banners.length; j++){\r\n            array.push({\"url\": aplicativoDados.estabelecimentos[i].banners[j], \"id\": aplicativoDados.estabelecimentos[i].id})\r\n          }\r\n        }\r\n    }\r\n    return array;\r\n  }\r\n\r\n\r\n  const [todosBanners, setTodosBanners] = React.useState(allBanners());\r\n  // console.log('todosBanners', todosBanners)\r\n  \r\n  const [loading, setLoading] = React.useState(false);\r\n  const [loadingLogadoEnderecos, setLoadingLogadoEnderecos] = React.useState((enderecoAtual?.bairro) ? true : false);\r\n\r\n \r\n  \r\n  //console.log(\"aplicativoDados\", aplicativoDados)\r\n  //console.log(\"estabelecimentos\", estabelecimentos)\r\n  \r\n\r\n\r\n  \r\n\r\n  const buscarCardapioId = (id) => {\r\n    aplicativoDados.estabelecimentos.forEach(estabelecimento => {\r\n      if(estabelecimento.id == id){\r\n        buscarCardapio(estabelecimento)\r\n        return true\r\n      }\r\n    });\r\n  }\r\n\r\n  const clicarEmPedir = (estabelecimento) => {\r\n    setEstabelecimentoDesejado(estabelecimento)\r\n    if(!estabelecimento.online){\r\n      setConfirmarDesejo(true)\r\n    }else if( !(retirarNoLocal || enderecoAtual?.logradouro) ){\r\n      if(estabelecimento.permiteRetiradaBalcao){\r\n        setConfirmarTipoEntrega(true);\r\n      }else{\r\n        selecionarTipoEntrega(estabelecimento);\r\n      }\r\n    }else if(retirarNoLocal){\r\n        selecionarTipoRetirada(estabelecimento);\r\n    }else if( enderecoAtual?.logradouro ){\r\n      selecionarTipoEntrega(estabelecimento);\r\n      // setConfirmarDesejo(true);\r\n    }\r\n  }\r\n  \r\n  const selecionarTipoRetirada = (estabelecimento) =>{\r\n    setEnderecoAtual({\"id\":\"retirada\"})\r\n    localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({\"id\":\"retirada\"}))\r\n    buscarCardapio(estabelecimento)\r\n  }\r\n  \r\n  const selecionarTipoEntrega = (estabelecimento) =>{\r\n    buscarCardapio(estabelecimento)\r\n  }\r\n\r\n\r\n  const buscarCardapioDelivery = async (estabelecimento) => {\r\n\r\n    const enderecoAtual = JSON.parse(localStorage.getItem('enderecoAtualCF'))\r\n    if(estabelecimento.possuiDelivery == false && estabelecimento.possuiEntrega == false){\r\n      alertStart(\"Esse estabelecimento no faz delivery!\", \"warning\")\r\n    }else if( estabelecimento.taxaEntrega < 0){\r\n      setEstabelecimentoDesejado(estabelecimento)\r\n      setConfirmarDesejo(true)\r\n      // alertStart(\"Esse estabelecimento no entrega no seu endereo!\", \"warning\")\r\n    }else if(estabelecimento.online == false){\r\n      setEstabelecimentoDesejado(estabelecimento)\r\n      setConfirmarDesejo(true)\r\n      // alertStart(\"Esse estabelecimento no esta aberto no momento!\", \"warning\")\r\n    }else if(!enderecoAtual?.logradouro){\r\n      // alertStart(\"Cadastre seu endereo!\", \"warning\")\r\n      setEstabelecimentoDesejado(estabelecimento)\r\n      setAbrirAdicionarEndereco(true)\r\n      setPopUpCep(true)\r\n    }else if(enderecoAtual?.logradouro){\r\n      buscarCardapio(estabelecimento)\r\n    }\r\n  }\r\n\r\n  const buscarCardapioRetirada = (estabelecimento) => {\r\n    if(estabelecimento.online == false){\r\n      setEstabelecimentoDesejado(estabelecimento)\r\n      setConfirmarDesejo(true)\r\n      // alertStart(\"Esse estabelecimento no esta aberto no momento!\", \"warning\")\r\n    }else{\r\n      setEnderecoAtual({\"id\":\"retirada\"})\r\n      localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({\"id\":\"retirada\"}))\r\n      buscarCardapio(estabelecimento)\r\n    }\r\n  }\r\n  \r\n  const buscarCardapio = async (estabelecimento) => {  \r\n    try {\r\n      localStorage.removeItem('estabelecimentosCepDeslogadoCF')  \r\n      console.log('buscar cardapio> ', estabelecimento)\r\n      estabelecimento.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`       \r\n\r\n      setLoading(true)\r\n      localStorage.setItem('estabelecimentoAtualCF', JSON.stringify(estabelecimento));\r\n\r\n      \r\n\r\n      if(usuarioLogado?.logado){\r\n        const enderecoAtual = JSON.parse(localStorage.getItem('enderecoAtualCF'))\r\n        let data = {\r\n          \"idCliente\": usuarioLogado.cliente.id,\r\n          \"idEstabelecimento\": estabelecimento.id,\r\n          \"idEndereco\": enderecoAtual.id ? (enderecoAtual.id != 'retirada' ? enderecoAtual.id : null) : null,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        } \r\n\r\n        const response = await ObterCardapioCompletoV1(data, aplicativoDados)\r\n        \r\n        console.log(\"ObterCardapioCompletoV1\", response)\r\n        if(response.retornoErro){\r\n          alertStart(response.mensagem, \"error\")\r\n          setLoading(false)\r\n        }else{\r\n          const retorno = response\r\n          console.log(\"ObterCardapioCompletoV1\", retorno)  \r\n\r\n\r\n          const carrinhoRetorno = {}\r\n          carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n          carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n          carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n          carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n          carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n          carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n          carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n    \r\n          carrinhoRetorno.pedido = {\r\n            \"entregaImediata\": false,\r\n            \"formaPagamento\": {},\r\n            \"itens\": [],\r\n            \"taxaEntrega\": null,\r\n            \"tokenCartaoCredito\": null,\r\n            \"troco\": null,\r\n            \"valorDesconto\": null,\r\n            \"valorEntrega\": null,\r\n            \"valorTotal\": 0,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          }\r\n\r\n          if(enderecoAtual?.id == \"retirada\"){\r\n            carrinhoRetorno.pedido.entregaAgendada = \"Retirar(Buscar) no local\"\r\n          }\r\n    \r\n          localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno)) \r\n\r\n          \r\n          localStorage.setItem(\"cardapioCF\", JSON.stringify(retorno))   \r\n\r\n          // if(!localStorage.getItem(\"enderecoAtualCF\") || enderecoAtual?.id == \"retirada\"){\r\n          if(!localStorage.getItem(\"enderecoAtualCF\")){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({})) \r\n          }else if(enderecoAtual?.id == \"retirada\"){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({\r\n              id: \"retirada\"\r\n            })) \r\n          } else if(retorno.enderecos != null && retorno.enderecos?.length > 0 && enderecoAtual?.id != \"retirada\"){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(retorno.enderecos[0]))  \r\n          }\r\n    \r\n          history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n        }\r\n\r\n      }else{\r\n\r\n        const response = await ObterCardapio(estabelecimento, aplicativoDados)\r\n        \r\n        console.log(\"ObterCardapio\", response)\r\n        if(response.retornoErro){\r\n          alertStart(response.mensagem, \"error\")\r\n          setLoading(false)\r\n        }else{\r\n          const retorno = response\r\n          const carrinhoRetorno = {}\r\n          carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n          carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n          carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n          carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n          carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n          carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n          carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n    \r\n          carrinhoRetorno.pedido = {\r\n            \"entregaImediata\": false,\r\n            \"formaPagamento\": {},\r\n            \"itens\": [],\r\n            \"taxaEntrega\": null,\r\n            \"tokenCartaoCredito\": null,\r\n            \"troco\": null,\r\n            \"valorDesconto\": null,\r\n            \"valorEntrega\": null,\r\n            \"valorTotal\": 0,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          }\r\n    \r\n          localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno)) \r\n\r\n\r\n          const dataRetorno = {}\r\n          dataRetorno.categorias = retorno\r\n          dataRetorno.id = \"usuarioDeslogado\"\r\n          \r\n          localStorage.setItem(\"cardapioCF\", JSON.stringify(dataRetorno))   \r\n\r\n          if(!localStorage.getItem(\"enderecoAtualCF\")){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({})) \r\n          }else if(retorno.enderecos != null && retorno.enderecos?.length > 0 && enderecoAtual?.id != \"retirada\"){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(retorno.enderecos[0]))  \r\n          }\r\n\r\n          localStorage.setItem(\"usuarioCF\", JSON.stringify({}))    \r\n    \r\n          history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions buscarCardapio - ${aplicativoDados.appNome} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  \r\n    //alerts    \r\n    const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n    \r\n    function Alert(props) {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n    }\r\n    \r\n    const alertStart = (msg, tipo) => {\r\n        setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n    };\r\n\r\n    const alertClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n    };\r\n\r\n    const filtroTipo = (e) =>{\r\n      e.preventDefault()\r\n      setFiltroSelect(e.target.value)\r\n      const numero = e.target.value\r\n\r\n      // 0 = Todos \r\n      // 1 = Abertos\r\n      // 2 = Fechados\r\n\r\n      const estabelecimentos = document.getElementsByClassName(\"estabelecimento\")\r\n      var valorPesqusa = \"\"\r\n      switch (numero) {\r\n        case 0:\r\n          valorPesqusa = \"\"\r\n          break;\r\n        case 1:\r\n          valorPesqusa = \"aberto-Estabelecimentos\"\r\n          break;\r\n        case 2:\r\n          valorPesqusa = \"fechado-Estabelecimentos\"\r\n          break;\r\n      \r\n      }\r\n      var qtd = 0\r\n      //console.log('valor', valorPesqusa)\r\n      //console.log('estabelecimentos', estabelecimentos)\r\n      for(let j = 0; j < estabelecimentos.length; j++){\r\n        const filtro = (estabelecimentos[j].classList.value).includes(valorPesqusa)\r\n        if(filtro){\r\n          estabelecimentos[j].style.display = \"\"\r\n          qtd++\r\n        }else{\r\n          estabelecimentos[j].style.display = \"none\"\r\n        }\r\n      }\r\n\r\n      if(qtd > 0){\r\n        setTemAlgum(true)\r\n      }else{\r\n        setTemAlgum(false)\r\n      }\r\n    }\r\n\r\n\r\n    const filtroTipoRetirada = async (retiradaSim) => {\r\n      console.log('filtroTipoRetirada', retirarNoLocal, retiradaSim)\r\n      document.getElementById(\"cepDigitando\").value = \"\"\r\n      var retirada = true\r\n      if(!retiradaSim){\r\n        retirada = !retirarNoLocal\r\n        setRetirarNoLocal(retirada)\r\n        setVerTodasAsLojas(false)\r\n      }\r\n      if(retirada){\r\n        setEnderecoAtual({\"id\":\"retirada\"})\r\n        localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({\"id\":\"retirada\"}))\r\n        setEstabelecimentos(aplicativoDados.estabelecimentos)\r\n      }else{\r\n        setEnderecoAtual({})\r\n        localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({}))\r\n      }\r\n\r\n      const estabelecimentos = document.getElementsByClassName(\"naoPermiteRetirada\")\r\n      for(let j = 0; j < estabelecimentos.length; j++){\r\n        if(retirada == true){\r\n          estabelecimentos[j].style.display = \"none\"\r\n        }else{\r\n          estabelecimentos[j].style.display = \"\"\r\n        }\r\n      }\r\n      var qtd = document.getElementsByClassName(\"permiteRetirada\").length;\r\n      if(qtd > 0){\r\n        setTemAlgum(true)\r\n      }else{\r\n        setTemAlgum(false)\r\n      }\r\n      // setQtdDisponivel(qtd)\r\n    }\r\n    \r\n    const filtroTipoEndereco = (e) =>{\r\n      e.preventDefault()\r\n      setFiltroSelect(e.target.value)\r\n      const numero = e.target.value\r\n\r\n      // 0 = Todos \r\n      // 1 = aberto\r\n      // 2 = fechado\r\n      // 3 = Entregam\r\n      // 4 = nao entrega\r\n\r\n      const estabelecimentos = document.getElementsByClassName(\"estabelecimento\")\r\n      var valorPesqusa = \"\"\r\n      switch (numero) {\r\n        case 0:\r\n          valorPesqusa = \"\"\r\n          break;\r\n        case 3:\r\n          valorPesqusa = \"entregaEndereco-Estabelecimentos\"\r\n          break;\r\n        case 4:\r\n          valorPesqusa = \"naoEntregaEndereco-Estabelecimentos\"\r\n          break;\r\n        case 1:\r\n          valorPesqusa = \"aberto-Estabelecimentos\"\r\n          break;\r\n        case 2:\r\n          valorPesqusa = \"fechado-Estabelecimentos\"\r\n          break;\r\n      \r\n      }\r\n\r\n      var qtd = 0\r\n      //console.log('valor', valorPesqusa)\r\n      //console.log('estabelecimentos', estabelecimentos)\r\n      for(let j = 0; j < estabelecimentos.length; j++){\r\n        const filtro = (estabelecimentos[j].classList.value).includes(valorPesqusa)\r\n        if(filtro){\r\n          estabelecimentos[j].style.display = \"\"\r\n          qtd++\r\n        }else{\r\n          estabelecimentos[j].style.display = \"none\"\r\n        }\r\n      }\r\n\r\n      if(qtd > 0){\r\n        setTemAlgum(true)\r\n      }else{\r\n        setTemAlgum(false)\r\n      }\r\n\r\n    } \r\n    \r\n    \r\n\r\n  \r\n\r\n    const listarEstabelecimentosPorEndereco = async (data ) => {\r\n      try {\r\n        data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`  \r\n        data.appNome = aplicativoDados.appNome\r\n\r\n        const retorno = await Post_ListarEstabelecimentosPorEndereco(data, aplicativoDados)\r\n      \r\n        if(retorno.retornoErro){\r\n          alertStart(retorno.mensagem, \"error\") \r\n          setLoading(false)\r\n        }else{\r\n          localStorage.setItem('estabelecimentosCepDeslogadoCF', JSON.stringify(retorno))\r\n          setEstabelecimentos(retorno)\r\n          setEnderecoAtual(data)\r\n          \r\n          if(estabelecimentoDesejado?.id && !verificarSeEntrega(estabelecimentoDesejado, retorno)){\r\n            setConfirmarDesejo(true)\r\n            setLoading(false)\r\n          }else if(estabelecimentoDesejado?.id){\r\n            buscarCardapio(estabelecimentoDesejado)\r\n            setEstabelecimentoDesejado({})\r\n          }else{\r\n            setLoading(false)\r\n          }\r\n          if(retorno.mensagem){\r\n            alertStart(retorno.mensagem, \"success\")\r\n            setLoading(false)\r\n          } \r\n        }\r\n        \r\n        \r\n        setAbrirAdicionarEndereco(false)\r\n\r\n        if(!!document.getElementById(\"cepDigitando\")){\r\n          document.getElementById(\"cepDigitando\").value = ''\r\n          document.getElementById(\"cepDigitando\").blur()\r\n        }\r\n        \r\n\r\n      } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions ListarEstabelecimentosPorEndereco - ${aplicativoDados.appNome} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores!. Erro: \"+error.message, \"error\")    \r\n      }\r\n\r\n      setLoadingLogadoEnderecos(false)\r\n    }\r\n    \r\n  return (\r\n    <>\r\n    <Cabecalho nomeEstabelecimentoLojas={true}/>\r\n    <Rodape valor=\"Estabelecimento\"/>\r\n      <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n          <Alert onClose={alertClose} severity={alert.tipo}>\r\n          {alert.mesangem}\r\n          </Alert>\r\n      </Snackbar>\r\n\r\n      \r\n\r\n      \r\n      <Dialog\r\n        open={confirmarTipoEntrega}\r\n        onClose={() => { setConfirmarTipoEntrega(false) }}\r\n        aria-labelledby=\"tiposDeEntrega\">\r\n        {/* <DialogTitle id=\"confirmarDesejo\">{\"Estabelecimento Desejado\"}</DialogTitle> */}\r\n        <DialogContent>\r\n          <Row>    \r\n            <Col xs={12} md={12} lg={12} style={{\"marginTop\": \"1em\", \"marginBottom\": \"1em\",}}>\r\n              <Typography gutterBottom variant=\"h6\" style={{\"fontWeight\": \"100\"}}>\r\n                  Selecione a forma de entrega do pedido desejada\r\n              </Typography>\r\n            </Col>\r\n            \r\n            <Col xs={6} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n              <Button size=\"small\"  className={\"botaoVerde\"} onClick={() => {\r\n                  selecionarTipoRetirada(estabelecimentoDesejado);\r\n              }} >\r\n                Retirada\r\n              </Button>\r\n            </Col>\r\n\r\n            <Col xs={6} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n              <Button size=\"small\" className={\"botaoVerde\"} onClick={() => {\r\n                  selecionarTipoEntrega(estabelecimentoDesejado) }}>\r\n                Entrega\r\n              </Button>\r\n            </Col>\r\n\r\n          </Row>\r\n        </DialogContent>\r\n\r\n      </Dialog>\r\n\r\n\r\n      <Dialog\r\n        open={confirmarDesejo}\r\n        onClose={() => { setConfirmarDesejo(false) }}\r\n        aria-labelledby=\"confirmarDesejo\">\r\n        {/* <DialogTitle id=\"confirmarDesejo\">{\"Estabelecimento Desejado\"}</DialogTitle> */}\r\n        <DialogContent>\r\n          <Row>    \r\n            <Col xs={12} md={12} lg={12} style={{\"marginTop\": \"1em\"}}>\r\n              <Typography gutterBottom variant=\"h6\" style={{\"fontWeight\": \"100\"}}>\r\n                {\r\n                  estabelecimentoDesejado.online == false\r\n                  ?  <React.Fragment>\r\n                      <Typography>\r\n                        O estabelecimento\r\n                        <span style={{\"fontWeight\": \"500\"}}> {estabelecimentoDesejado?.nome} </span>\r\n                        no est aberto no momento, voc deseja ver o cardpio mesmo assim?\r\n                      </Typography>\r\n                    </React.Fragment>\r\n                  : <React.Fragment>\r\n                      <Typography>\r\n                        O estabelecimento\r\n                        <span style={{\"fontWeight\": \"500\"}}> {estabelecimentoDesejado?.nome} </span>\r\n                        no entrega no seu endereo  \r\n                        <span style={{\"fontWeight\": \"500\"}}> {enderecoAtual?.logradouro} - {enderecoAtual?.numero}</span>\r\n                        , voc deseja ver o cardpio mesmo assim?\r\n                      </Typography>\r\n                    </React.Fragment>\r\n                }\r\n                  \r\n              </Typography>\r\n            </Col>\r\n            \r\n            <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n              <Button size=\"small\"  className={\"botaoVermelho\"}  onClick={() => {\r\n                \r\n                setConfirmarDesejo(false)\r\n                setTimeout(() => {\r\n                  setEstabelecimentoDesejado({})\r\n                }, 500);\r\n              }}>\r\n                Outro Estabelecimento\r\n              </Button>\r\n            </Col>\r\n\r\n            <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n              <Button size=\"small\" className={\"botaoVerde\"} onClick={() => {\r\n                  buscarCardapio(estabelecimentoDesejado)\r\n                  setConfirmarDesejo(false)\r\n                  setTimeout(() => {\r\n                    setEstabelecimentoDesejado({})\r\n                  }, 500);\r\n                }}>\r\n                Ver Cardpio\r\n              </Button>\r\n            </Col>\r\n\r\n          </Row>\r\n        </DialogContent>\r\n\r\n      </Dialog>\r\n      \r\n      <Dialog\r\n        open={confirmarDesejo}\r\n        aria-labelledby=\"confirmarDesejo\">\r\n        {/* <DialogTitle id=\"confirmarDesejo\">{\"Estabelecimento Desejado\"}</DialogTitle> */}\r\n        <DialogContent>\r\n          <Row>    \r\n            <Col xs={12} md={12} lg={12} style={{\"marginTop\": \"1em\"}}>\r\n              <Typography gutterBottom variant=\"h6\" style={{\"fontWeight\": \"100\"}}>\r\n                {\r\n                  estabelecimentoDesejado.online == false\r\n                  ?  <React.Fragment>\r\n                      O estabelecimento\r\n                      <span style={{\"fontWeight\": \"500\"}}> {estabelecimentoDesejado?.nome} </span>\r\n                      no est aberto no momento, voc deseja ver o cardpio mesmo assim?`\r\n                    </React.Fragment>\r\n                  : <React.Fragment>\r\n                      O estabelecimento\r\n                      <span style={{\"fontWeight\": \"500\"}}> {estabelecimentoDesejado?.nome} </span>\r\n                      no entrega no seu endereo  \r\n                      <span style={{\"fontWeight\": \"500\"}}> {enderecoAtual?.logradouro} - {enderecoAtual?.numero}</span>\r\n                      , voc deseja ver o cardpio mesmo assim?`\r\n                    </React.Fragment>\r\n                }\r\n                  \r\n              </Typography>\r\n            </Col>\r\n            \r\n            <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n              <Button size=\"small\"  className={\"botaoVermelho\"}  onClick={() => {\r\n                \r\n                setConfirmarDesejo(false)\r\n                setTimeout(() => {\r\n                  setEstabelecimentoDesejado({})\r\n                }, 500);\r\n              }}>\r\n                Outro Estabelecimento\r\n              </Button>\r\n            </Col>\r\n\r\n            <Col xs={12} md={6} lg={6} style={{\"margin\": \"0.5em 0\"}}>\r\n              <Button size=\"small\" className={\"botaoVerde\"} onClick={() => {\r\n                  buscarCardapio(estabelecimentoDesejado)\r\n                  setConfirmarDesejo(false)\r\n                  setTimeout(() => {\r\n                    setEstabelecimentoDesejado({})\r\n                  }, 500);\r\n                }}>\r\n                Ver Cardpio\r\n              </Button>\r\n            </Col>\r\n\r\n            {\r\n              estabelecimentoDesejado.online\r\n              ? <Col xs={12} md={12} lg={12} style={{\"margin\": \"0.5em 0\"}}>\r\n                  <Button size=\"small\" className={\"botaoCinza\"} onClick={() => {\r\n                      setRetirarNoLocal(true)\r\n                      setEnderecoAtual({\"id\":\"retirada\"})\r\n                      localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({\"id\":\"retirada\"}))\r\n                      buscarCardapio(estabelecimentoDesejado)\r\n                      \r\n                      setConfirmarDesejo(false)\r\n                      setTimeout(() => {\r\n                        setEstabelecimentoDesejado({})\r\n                      }, 500);\r\n                    }}>\r\n                    Retirar no Local\r\n                  </Button>\r\n                </Col>\r\n            : null\r\n            }\r\n            \r\n\r\n          </Row>\r\n        </DialogContent>\r\n\r\n      </Dialog>\r\n\r\n\r\n      <div className=\"container container-Estabelecimentos-deslogado\">\r\n          {\r\n            todosBanners.length > 0\r\n            ? <Row>\r\n                <AppBar position=\"static\" color=\"default\" id=\"todosBanners\" style={{\"margin\":\"1em 0\",\"backgroundColor\": \"#f8f8f8\", \"zIndex\":\"1\", \"box-shadow\":\"none\"}}>\r\n                  <Tabs\r\n                    // value={0}\r\n                    // onChange={mudarCategoria}\r\n                    indicatorColor=\"primary\"\r\n                    textColor=\"primary\"\r\n                    variant=\"scrollable\"\r\n                    scrollButtons=\"auto\"\r\n                  >\r\n                      {\r\n                        (todosBanners.map((banner, index) => (\r\n                          <img className={\"bannerLojas\"} style={{\"cursor\":\"pointer\"}} src={banner.url} key={index} onClick={() =>{\r\n                            buscarCardapioId(banner.id)   \r\n                          }}/>    \r\n                        )))\r\n                      }\r\n                  </Tabs>\r\n              </AppBar>\r\n              </Row>\r\n            : null\r\n          }\r\n\r\n\r\n          \r\n\r\n          <Row>\r\n            {\r\n              (!todosBanners.length && aplicativoDados)\r\n              ? <Col xs={12} md={12} lg={12} className=\"bannerAppLogo\" style={{\"marginBottom\": \"1em\", \"backgroundImage\": `url(\"${aplicativoDados?.urlFundoSite}\")`}}>\r\n                  {/* <img src={aplicativoDados.urlLogo}/> */}\r\n                  <img src={aplicativoDados?.urlLogo} className={\"logoNoBanner\"}/>\r\n                </Col>\r\n              : null\r\n            }\r\n          </Row>\r\n\r\n          <CadastroEndereco \r\n            telaDeEstabelecimentos={true}\r\n            // retornoCep={retornoCep}\r\n            setLoading={setLoading}\r\n            alertStart={alertStart}\r\n            aplicativoDados={aplicativoDados}\r\n            usuarioLogado={usuarioLogado}\r\n            \r\n            abrirAdicionarEndereco={abrirAdicionarEndereco} setAbrirAdicionarEndereco={setAbrirAdicionarEndereco}\r\n            enderecoAtual={enderecoAtual} setEnderecoAtual={setEnderecoAtual}\r\n            popUpCep={popUpCep} setPopUpCep={setPopUpCep}\r\n            \r\n            retirarNoLocal={retirarNoLocal} filtroTipoRetirada={filtroTipoRetirada}\r\n            \r\n            setVerTodasAsLojas={setVerTodasAsLojas}\r\n            \r\n            listarEstabelecimentosPorEndereco={listarEstabelecimentosPorEndereco}\r\n            buscarCardapio={buscarCardapio}\r\n            estabelecimentoDesejado={estabelecimentoDesejado}\r\n          />\r\n         \r\n        <Row>\r\n            \r\n         \r\n          \r\n          {/* <Col xs={12} md={12} lg={12} >\r\n            <Typography gutterBottom variant=\"h6\" >\r\n              Selecione o estabelecimento\r\n            </Typography>\r\n          </Col> */}\r\n          \r\n          \r\n\r\n         \r\n        {\r\n          ( loadingLogadoEnderecos == false && (verTodasAsLojas || aplicativoDados?.exibirTodasUnidadesNoDelivery || enderecoAtual?.bairro || retirarNoLocal)) \r\n          ? <React.Fragment>\r\n              {enderecoAtual?.bairro\r\n                ?  <Col xs={12} md={12} lg={6} style={{ \"alignSelf\": \"center\"}}> \r\n                      <Typography gutterBottom variant=\"h6\" >\r\n                        {quantosEntregam == 0 \r\n                        ? null //' Nenhum entrega no seu endereo' \r\n                        : quantosEntregam == 1\r\n                          ? quantosEntregam + ' Estabelecimento'\r\n                          : quantosEntregam + ' Estabelecimentos'}\r\n                      </Typography> \r\n                  </Col>\r\n                :  <Col xs={12} md={12} lg={(enderecoAtual?.logradouro  || retirarNoLocal) ? 6 : 12} >   \r\n                    <Typography gutterBottom variant=\"h6\" style={{ \"alignSelf\": \"center\"}}>\r\n                      {quantosEntregam} {quantosEntregam > 1 ? \"Estabelecimentos encontradas\" : \"Estabelecimento encontrada\"} \r\n                    </Typography> \r\n                  </Col>}\r\n\r\n                {enderecoAtual?.logradouro \r\n                  ?  <Col xs={12} md={12} lg={6} >\r\n                      <AlertFixo icon={<PersonPinCircleIcon/>} severity=\"success\">\r\n                        {`${enderecoAtual.logradouro} - ${enderecoAtual.numero}`} \r\n                        \r\n                        <BackspaceIcon onClick={() => { \r\n                          \r\n                          localStorage.removeItem('estabelecimentosCepDeslogadoCF')\r\n                          localStorage.removeItem('enderecoAtualCF')\r\n                          setEstabelecimentos(aplicativoDados.estabelecimentos)\r\n                          setEnderecoAtual(null)\r\n                          setFiltroSelect(0)\r\n\r\n                        }} style={{\"position\": \"absolute\", \"right\": \"1em\", \"top\": \"0.5em\", \"cursor\": \"pointer\"}}/>\r\n                      </AlertFixo>  \r\n                    </Col>\r\n                  : null}\r\n\r\n                  {retirarNoLocal\r\n                    ?  <Col xs={12} md={12} lg={6} >\r\n                        <AlertFixo icon={<TransferWithinAStationIcon/>}  severity=\"success\">\r\n                          {`Filtro por retirada no local`} \r\n                          \r\n                          <BackspaceIcon onClick={() => { \r\n                            filtroTipoRetirada(false)\r\n                            \r\n                          }} style={{\"position\": \"absolute\", \"right\": \"1em\", \"top\": \"0.5em\", \"cursor\": \"pointer\"}}/>\r\n                        </AlertFixo>  \r\n                      </Col>\r\n                    : null\r\n                  }\r\n                  \r\n                  {\r\n                    // !(verTodasAsLojas || (quantosEntregam != 0 && temAlgum ) || (quantosEntregam != 0 && retirarNoLocal ) || loadingLogadoEnderecos)\r\n                    loadingLogadoEnderecos\r\n                    ? null\r\n                    : <React.Fragment>\r\n                        <Col xs={6} md={8} lg={8} style={{\"marginTop\": \"1em\"}}>\r\n                          <TextField\r\n                            fullWidth\r\n                            label=\"Procurar...\"\r\n                            onChange={procurarEstabelecimento}\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </Col>\r\n                        <Col xs={6} md={4} lg={4} style={{\"marginTop\": \"1em\" /* , \"textAlign\": \"right\" */}}>\r\n                          \r\n                              {\r\n                                enderecoAtual?.logradouro \r\n                                ? <FormControl variant=\"outlined\" style={{\"width\": \"100%\"}}>\r\n                                <InputLabel id=\"demo-simple-select-outlined-label\">Filtro</InputLabel>\r\n                                <Select\r\n                                  labelId=\"demo-simple-select-outlined-label\"\r\n                                  id=\"demo-simple-select-outlined\"\r\n                                  value={filtroSelect}\r\n                                  onChange={filtroTipoEndereco}\r\n                                  label=\"Filtro\"\r\n                                > \r\n                                  <MenuItem key={0} value={0}>{\"Todos\"}</MenuItem>\r\n                                  <MenuItem key={1} value={1}>{\"Aberto\"}</MenuItem>\r\n                                  <MenuItem key={2} value={2}>{\"Fechado\"}</MenuItem>\r\n                                  <MenuItem key={3} value={3}>{\"Entrega\"}</MenuItem>\r\n                                  {\r\n                                    ( aplicativoDados?.exibirTodasUnidadesNoDelivery || verTodasAsLojas)\r\n                                    ? <MenuItem key={4} value={4}>{\"No Entrega\"}</MenuItem>\r\n                                    : null\r\n                                  }\r\n                                  \r\n                                </Select>\r\n                              </FormControl>\r\n                                :<FormControl variant=\"outlined\" style={{\"width\": \"100%\"}}>\r\n                                <InputLabel id=\"demo-simple-select-outlined-label\">Filtro</InputLabel>\r\n                                <Select\r\n                                  labelId=\"demo-simple-select-outlined-label\"\r\n                                  id=\"demo-simple-select-outlined\"\r\n                                  value={filtroSelect}\r\n                                  onChange={filtroTipo}\r\n                                  label=\"Filtro\"\r\n                                > \r\n                                  <MenuItem key={0} value={0}>{\"Todos\"}</MenuItem>\r\n                                  <MenuItem key={1} value={1}>{\"Abertos\"}</MenuItem>\r\n                                  <MenuItem key={2} value={2}>{\"Fechados\"}</MenuItem>\r\n                                </Select>\r\n                              </FormControl>\r\n                              }\r\n                        </Col>\r\n                      </React.Fragment>\r\n                  }\r\n                  \r\n          {/* <Skeleton variant=\"circle\" width={40} height={40} /> */}\r\n\r\n          \r\n          \r\n                {\r\n                  estabelecimentos.map( (estabelecimento, index) => (\r\n                    estabelecimento.visivel && \r\n                    <React.Fragment key={index}>\r\n                      {\r\n                        ( verTodasAsLojas || (aplicativoDados?.exibirTodasUnidadesNoDelivery && !retirarNoLocal) || ((enderecoAtual?.bairro && (estabelecimento.taxaEntrega >= 0 ) || (!enderecoAtual?.bairro && retirarNoLocal && ( /*estabelecimento.possuiDelivery || estabelecimento.possuiEntrega || */ estabelecimento.permiteRetiradaBalcao)))))\r\n                        ? <Col xs={12} md={6} lg={4} key={index} style={{\"margin\": \"1em 0\"}}  className={\"estabelecimento \" \r\n                              + (estabelecimento.online ? \"aberto-Estabelecimentos\" : \"fechado-Estabelecimentos \") \r\n                              + (estabelecimento.permiteRetiradaBalcao ? \" permiteRetirada \" : \" naoPermiteRetirada \") \r\n                              + \" estabelecimento-Estabelecimentos\" \r\n                              + (enderecoAtual?.bairro && ((estabelecimento.taxaEntrega >= 0 && estabelecimento.taxaEntrega != null) ? \" entregaEndereco-Estabelecimentos\" : \" naoEntregaEndereco-Estabelecimentos\"))}>\r\n                              \r\n                              <Card className={classes.root} style={{\"height\": \"100%\"}}>\r\n                                <CardActionArea  style={{ \"height\": \"calc(100% - 30px)\", \"flexFlow\": \"column-reverse\", \"alignItems\": \"normal\"}} onClick={() =>{\r\n                                  clicarEmPedir(estabelecimento)\r\n                                }}>\r\n                                  {/* <CardContent style={{\"position\":\"absolute\", \"top\": \"0\"}} className={estabelecimento.online &&  estabelecimento.taxaEntrega>=0 ? \"disponivel\" : \"indisponivel\"}>\r\n                                    <Typography className={\"StatusEstabelecimento\"} variant=\"body2\"  component=\"p\">\r\n                                      {estabelecimento.online ? \"Aberto\" : \"Fechado\"}\r\n                                      {(enderecoAtual?.bairro) && (estabelecimento.taxaEntrega >= 0 && estabelecimento.taxaEntrega != null ? \" - Entrega\" : \" - No Entrega\")}\r\n                                    </Typography>\r\n                                  </CardContent> */}\r\n                                  <Row style={{\"textAlign\": \"center\", \"width\": \"100%\", \"padding\": \"1em\", \"alignItems\": \"center\"}}>\r\n                                    <Col xs={5} md={6} lg={6}>\r\n                                      <CardMedia\r\n                                        component=\"img\"\r\n                                        className={\"logoLojas\"}\r\n                                        alt={estabelecimento.nome}\r\n                                        image={estabelecimento.urlLogo}\r\n                                        title={estabelecimento.nome}\r\n                                      />\r\n                                    </Col>\r\n                                    <Col xs={7} md={6} lg={6}>\r\n                                      <Typography className={\"StatusEstabelecimento\"} variant=\"body2\"  component=\"p\">\r\n                                        {estabelecimento.online ? <><CheckCircleIcon style={{\"fontSize\": \"initial\", \"color\":\"#28a745\"}}/> Aberto</> : <><CancelIcon style={{\"fontSize\": \"initial\"}}/> Fechado</>}\r\n                                        {/* {(enderecoAtual?.bairro) && (estabelecimento.taxaEntrega >= 0 && estabelecimento.taxaEntrega != null ? \" - Entrega\" : \" - No Entrega\")} */}\r\n                                      </Typography>\r\n                                      \r\n                                      <Typography gutterBottom  component=\"h2\" className={\"nomeLoja\"}>                    \r\n                                        {estabelecimento.nomeAlternativo ? estabelecimento.nomeAlternativo : estabelecimento.nome}\r\n                                      </Typography>\r\n                                      <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={\"descricaoLoja\"}>\r\n                                        {estabelecimento.endereco}\r\n                                      </Typography>\r\n                                      <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                                        {estabelecimento.tempoEntregaTexto}\r\n                                      </Typography>\r\n                                      {\r\n                                        enderecoAtual?.logradouro && \r\n                                          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={estabelecimento.taxaEntrega >= 0 ? 'entrega' : 'naoEntrega'}>\r\n                                          {/* se colocar cep, mostrar quais entregam */}\r\n                                            {\r\n                                              estabelecimento.taxaEntrega >= 0\r\n                                                ? 'Entrega'\r\n                                                : 'No entrega'\r\n                                            }\r\n                                          </Typography>\r\n                                      }\r\n                                      {\r\n                                        enderecoAtual?.id == \"retirada\" &&\r\n                                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={estabelecimento.permiteRetiradaBalcao ? 'entrega' : 'naoEntrega'}>\r\n                                          {/* se colocar cep, mostrar quais entregam */}\r\n                                            {\r\n                                              estabelecimento.permiteRetiradaBalcao\r\n                                                ? 'Permite retirada'\r\n                                                : 'No permite retirada'\r\n                                            }\r\n                                          </Typography>\r\n                                      }\r\n                                    </Col>\r\n                                  \r\n                                  </Row>\r\n                                  \r\n                                  <CardContent style={{\"padding\": \"0 16px\"}}>\r\n                                  </CardContent>\r\n                                </CardActionArea>\r\n                                <CardActions style={{\"padding\":\"0\"}}>\r\n              \r\n                                  \r\n                                  {/* {\r\n                                    (estabelecimento.possuiDelivery || estabelecimento.possuiEntrega)\r\n                                    ? ( estabelecimento.taxaEntrega < 0 || !estabelecimento.online || !enderecoAtual?.logradouro\r\n                                        ? (<Button size=\"small\" className={\"botaoCinza naoArredondado\"} onClick={() => {buscarCardapioDelivery(estabelecimento)}}>\r\n                                            Entrega \r\n                                          </Button>)\r\n                                        : <Button size=\"small\" className={\"botaoVerde naoArredondado\"} onClick={() => {buscarCardapioDelivery(estabelecimento)}}>\r\n                                            Entrega {estabelecimento.taxaEntrega >=0 ? Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(estabelecimento.taxaEntrega) : null}\r\n                                          </Button>\r\n                                      )\r\n                                    : <Button size=\"small\" className={\"botaoCinza GrifadoBotao naoArredondado\"} onClick={() => {buscarCardapioDelivery(estabelecimento)}}>\r\n                                        Entrega\r\n                                      </Button>\r\n                                  } */}\r\n\r\n                                  <Button  size=\"small\" className={ estabelecimento.online ? \"botaoVerde naoArredondado\" : \"botaoCinza naoArredondado\"} \r\n                                  \r\n                                    onClick={() => {\r\n                                      clicarEmPedir(estabelecimento)    \r\n                                    }}>\r\n                                      Pedir\r\n                                  </Button>\r\n              \r\n                                  {/* {\r\n                                    estabelecimento.permiteRetiradaBalcao \r\n                                    ? ( !estabelecimento.online\r\n                                        ? <Button size=\"small\" className={\"botaoCinza naoArredondado\"} onClick={() => {buscarCardapioRetirada(estabelecimento)}}>\r\n                                            Retirar\r\n                                          </Button>\r\n                                        : <Button size=\"small\" className={\"botaoVerde naoArredondado\"} onClick={() => {buscarCardapioRetirada(estabelecimento)}}>\r\n                                            Retirar\r\n                                          </Button>\r\n                                      )\r\n                                    : null //  <Button size=\"small\" className={\"botaoCinza GrifadoBotao\"}>\r\n                                    //     Retirar\r\n                                    //   </Button>\r\n                                  } */}\r\n              \r\n              \r\n                                  {/* {\r\n                                    estabelecimento.taxaEntrega >= 0 && estabelecimento.online\r\n                                    ? <Button size=\"small\" style={{\"background\": \"#28a745\", \"color\":\"white\", \"width\": \"100%\"}} onClick={() =>{                       \r\n                                      buscarCardapio(estabelecimento)                       \r\n                                  }}>\r\n                                    Pedir\r\n                                  </Button>\r\n                                  : <Button size=\"small\"  style={{\"background\": \"#6c757d\", \"color\":\"white\", \"width\": \"100%\"}} onClick={() =>{                       \r\n                                    buscarCardapio(estabelecimento)                       \r\n                                }}>\r\n                                  Ver\r\n                                </Button>\r\n                                  } */}\r\n                                  \r\n                                </CardActions>\r\n                              </Card>\r\n                            </Col>\r\n                        : null\r\n                      }\r\n                    </React.Fragment>\r\n                  ))\r\n                }\r\n\r\n                { (verTodasAsLojas || quantosEntregam || loadingLogadoEnderecos) \r\n                ? null \r\n                : <Col xs={12} md={12} lg={12} style={{\"textAlign\": \"center\", \"marginTop\": \"3em\"}}> \r\n                    <Typography variant=\"h6\" >\r\n                      Nenhum estabelecimento disponvel\r\n                    </Typography>\r\n                  </Col> }   \r\n            </React.Fragment>\r\n          :  \r\n              (loadingLogadoEnderecos \r\n              ? <>\r\n                  {/* <Row style={(enderecoAtual?.logradouro || retirarNoLocal) ? {\"display\":\"none\"}:null}>\r\n                    <Col xs={12} md={12} lg={12} style={{\"display\":\"flex\", \"justifyContent\": \"center\"}}>\r\n                      <Skeleton variant=\"rect\" width={400} height={40} />\r\n                    </Col>\r\n                    <Col xs={12} md={12} lg={12} style={{\"display\":\"flex\", \"justifyContent\": \"center\", \"margin\": \"1em 0\"}} >\r\n                      <Skeleton variant=\"rect\" width={300} height={56} />\r\n                    </Col>\r\n                    <Col xs={12} md={12} lg={12} style={{\"display\":\"flex\", \"justifyContent\": \"center\" , \"marginBottom\": \"1em\"}}>\r\n                      <Skeleton variant=\"rect\" width={155} height={42} />\r\n                    </Col>\r\n                    <Divider style={{\"width\": \"100%\", \"margin\": \"0 0 1em 0\"}}/>\r\n                  </Row> */}\r\n                    \r\n                  <Col  xs={12} md={6} lg={6} style={{\"display\":\"flex\", \"justifyContent\": \"center\" , \"alignItems\":\"center\", \"padding\": \"0.5em\"}}>\r\n                    <Skeleton variant=\"rect\" width={\"50%\"} height={30} />\r\n                  </Col>\r\n\r\n                  <Col  xs={12} md={6} lg={6} style={{\"padding\": \"0.5em\"}}>\r\n                    <Skeleton variant=\"rect\" width={\"100%\"} height={56} />\r\n                  </Col>\r\n                  \r\n                  <Col  xs={6} md={6} lg={8} style={{\"padding\": \"0.5em\"}}>\r\n                    <Skeleton variant=\"rect\" width={\"100%\"} height={56} />\r\n                  </Col>\r\n\r\n                  <Col  xs={6} md={6} lg={4} style={{\"padding\": \"0.5em\"}}>\r\n                    <Skeleton variant=\"rect\" width={\"100%\"} height={56} />\r\n                  </Col>\r\n                \r\n                  {SkeletonQtd.map((sk, index) => (\r\n                    <Col key={index} xs={12} md={6} lg={4} style={{\"padding\": \"0.5em\"}}>\r\n                      <Skeleton variant=\"rect\" width={\"100%\"} height={165} />\r\n                    </Col>\r\n                  ))}\r\n                </>\r\n              : null )\r\n        }\r\n        </Row>\r\n\r\n        {\r\n          (aplicativoDados?.exibirTodasUnidadesNoDelivery == false && loadingLogadoEnderecos  == false && aplicativoDados.exibirLojasOcultas)\r\n          ? <Row style={{\"textAlign\": \"center\"}}>\r\n              <Col xs={12} md={12} lg={12}>\r\n                {\r\n                  (verTodasAsLojas == false)\r\n                  ?  <Button size=\"small\"  onClick={() =>{setVerTodasAsLojas(true)}}>\r\n                        Ver Todas as Lojas\r\n                      </Button>\r\n                  : <Button size=\"small\"  onClick={() =>{setVerTodasAsLojas(false)}}>\r\n                        Ocultar Todas as Lojas\r\n                    </Button>\r\n                }\r\n              </Col>\r\n            </Row>\r\n          : null\r\n        }\r\n\r\n\r\n        {loading &&\r\n        (<Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>)}\r\n\r\n      </div>\r\n\r\n    </>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as Sentry from \"@sentry/react\";\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Rating from '@material-ui/lab/Rating';\r\n\r\nimport {\r\n  AvaliarPedido\r\n} from '../../services/functions';\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport api from '../../services/api';\r\n\r\nimport './styles.css';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  rootAlert: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n  root: {\r\n    width: \"100%\",\r\n    margin: \"1em 0\",\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n}));\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\n\r\nexport default function Login(props) {\r\n\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))  \r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const search = props.location.search;\r\n  const params = new URLSearchParams(search); \r\n  const avaliacaoParamsCliente = params.get('Cliente')\r\n  const avaliacaoParamsPedido = params.get('Pedido')\r\n\r\n  if(!avaliacaoParamsCliente || !avaliacaoParamsPedido){\r\n    history.push(`/`)\r\n  }\r\n\r\n  \r\n\r\n  // FUNCOES\r\n  \r\n  //alerts e loading\r\n  const alertStart = (msg, tipo) => {\r\n    setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n  \r\n  const alertClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n\r\n  };\r\n\r\n  const avaliarPedido = async () => {\r\n\r\n    try {\r\n      if(nota <= 0 || nota > 10){\r\n        alertStart('Nota invlida!', \"warning\") \r\n        return false\r\n      }\r\n      setLoading(true)\r\n\r\n      const data = {\r\n        \"cliente\": {\"appNome\": aplicativoDados.appNome, \"id\": parseInt(atob(avaliacaoParamsCliente)), \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`},\r\n        \"pedido\": {\"appNome\": aplicativoDados.appNome, \"id\": parseInt(atob(avaliacaoParamsPedido)), \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`},\r\n        \"nota\": nota ? nota : 0,\r\n        \"respondido\": false,\r\n        'comentario': comentario,\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        \"appNome\": aplicativoDados.appNome,\r\n      }\r\n\r\n      const response = await AvaliarPedido(data, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n        setLoading(false)\r\n      }else{ \r\n        //tudo certo\r\n        alertStart(response.mensagem, \"success\") \r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 3000);\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions buscarCardapioOffline ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n\r\n    \r\n\r\n  }\r\n\r\n  \r\n  const [loading, setLoading] = React.useState(false);\r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n  const [nota, setNota] = React.useState(0);\r\n  const [comentario, setComentario] = React.useState('');\r\n\r\n  return (\r\n\r\n\r\n\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n\r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n      <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n        <Alert onClose={alertClose} severity={alert.tipo}>\r\n          {alert.mesangem}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n\r\n      <CssBaseline />\r\n            \r\n      \r\n\r\n\r\n      <div className={classes.paper}>\r\n       \r\n          <Row>\r\n            <Col>\r\n              <img src={aplicativoDados?.urlLogo} style={{\"height\": \"150px\"}} alt=\"\" />\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row style={{\"textAlign\": \"center\", \"marginTop\": \"1em\"}}>\r\n            <Col xs={12} md={12} lg={12} >\r\n              <Typography gutterBottom variant=\"h5\" >\r\n                {'#'+atob(avaliacaoParamsPedido)}\r\n              </Typography>\r\n            </Col>\r\n            <Col xs={12} md={12} lg={12} >\r\n              <Typography >\r\n                Baseado na experincia do seu pedido, quais as chances de voc indicar o aplicativo para um amigo ou familiar?\r\n              </Typography>\r\n            </Col>\r\n            <Col xs={12} md={12} lg={12} style={{\"textAlign\": \"center\", \"marginTop\": \"1em\"}}>\r\n              <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                <Typography component=\"legend\">{nota} de 10</Typography>\r\n                <Rating name=\"customized-10\"  max={10}\r\n                value={nota}\r\n                onChange={(event, newValue) => {\r\n                  setNota(newValue);\r\n                }}\r\n                 />\r\n              </Box>\r\n            </Col>\r\n            <Col xs={12} md={12} lg={12} >\r\n              <TextField\r\n                id=\"outlined-multiline-static\"\r\n                label=\"Comentrio\"\r\n                fullWidth\r\n                rows={1}\r\n                value={comentario}\r\n                onChange={(e) =>{setComentario(e.target.value)}}\r\n                variant=\"outlined\"\r\n              />\r\n            </Col>\r\n            <Col xs={12} md={12} lg={12} >\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={avaliarPedido}\r\n                className={classes.submit}\r\n              >\r\n                Avaliar\r\n              </Button>\r\n            </Col>\r\n            \r\n          </Row>\r\n         \r\n      </div>\r\n    </Container>\r\n\r\n\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\n\r\n\r\n\r\n\r\nimport './styles.css';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  rootAlert: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n  root: {\r\n    width: \"100%\",\r\n    margin: \"1em 0\",\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n}));\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\n\r\nexport default function Downloads() {\r\n\r\n  const [aplicativoDados, setAplicativoDados] = useState(JSON.parse(localStorage.getItem(\"aplicativoCF\")))\r\n\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setInterval(() => {\r\n      if(JSON.stringify(aplicativoDados) != localStorage.getItem(\"aplicativoCF\") ){\r\n        setAplicativoDados( JSON.parse(localStorage.getItem(\"aplicativoCF\")) )\r\n      }\r\n    }, 1500);\r\n  });\r\n  \r\n\r\n  // FUNCOES\r\n  \r\n  //alerts e loading\r\n  const alertStart = (msg, tipo) => {\r\n    setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n  \r\n  const alertClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n\r\n  };\r\n\r\n  //console.log('location', window.location.pathname)\r\n\r\n  \r\n  const [loading, setLoading] = React.useState(window.location.pathname.includes('/escolha') ? false : true);\r\n  const [tentativasDirecionamento, setTentativasDirecionamento] = React.useState(window.location.pathname.includes('/escolha') ? 1 : 0);\r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n\r\n  const android = navigator.userAgent.includes('Android')\r\n  const iphone = navigator.userAgent.includes('iPad') || navigator.userAgent.includes('iPhone') || navigator.userAgent.includes('Mac OS')\r\n\r\n  if(!tentativasDirecionamento){\r\n    setTentativasDirecionamento(1)\r\n    if(android){\r\n      if(aplicativoDados.urlAppAndroid){\r\n        window.location.href= 'https://play.app.goo.gl/?link='+ aplicativoDados.urlAppAndroid\r\n      }\r\n      setLoading(false)\r\n    }else if(iphone){\r\n      if(aplicativoDados.urlAppIphone){\r\n        window.location.href= aplicativoDados.urlAppIphone\r\n      }\r\n      setLoading(false)\r\n    }else{\r\n      history.push(`/`) \r\n    }  \r\n  }\r\n  \r\n  return (\r\n\r\n      <Container>\r\n      \r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n\r\n      <div className={classes.paper}>\r\n      <img src={aplicativoDados.urlLogo} style={{\"height\": \"150px\"}} alt=\"\" />\r\n      <Typography component=\"h1\" variant=\"h5\" className=\"mt-3 mb-3\">\r\n        Selecione a melhor opo para acessar o aplicativo\r\n      </Typography>\r\n      \r\n\r\n      <Button\r\n      \r\n      type=\"submit\"\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      onClick={( ) => { history.push(`/`) }}\r\n      className=\"mt-2 mb-2\"\r\n      style={{\"background\": aplicativoDados.corPadrao}}\r\n      > Aplicativo Web </Button>\r\n\r\n      {\r\n        aplicativoDados.urlAppAndroid && <Button\r\n        \r\n        type=\"submit\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className=\"mt-2 mb-2\"\r\n        onClick={( ) => { window.location.href= 'https://play.app.goo.gl/?link='+ aplicativoDados.urlAppAndroid }}\r\n        style={{\"background\": aplicativoDados.corPadrao}}\r\n        > Play Store (Android) </Button>\r\n      }\r\n\r\n      {\r\n        aplicativoDados.urlAppIphone && <Button\r\n        \r\n        type=\"submit\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={( ) => { window.location.href=aplicativoDados.urlAppIphone }}\r\n        className=\"mt-2 mb-2\"\r\n        style={{\"background\": aplicativoDados.corPadrao}}\r\n        > App Store (Iphone) </Button>\r\n      }\r\n\r\n\r\n\r\n      </div>\r\n      </Container>\r\n\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/apresentacao.28ee0e89.jpg\";","export default __webpack_public_path__ + \"static/media/apresentacao.57d9920a.jpg\";","export default __webpack_public_path__ + \"static/media/apresentacao.263a10a8.jpg\";","export default __webpack_public_path__ + \"static/media/apresentacao.a995dd65.jpg\";","export default __webpack_public_path__ + \"static/media/apresentacao.3cb6037d.jpg\";","export default __webpack_public_path__ + \"static/media/1920x1080.dbab4f04.jpg\";","export default __webpack_public_path__ + \"static/media/bigode1920x1080.070cd347.png\";","export default __webpack_public_path__ + \"static/media/1500x1500.cb8a9b85.jpg\";","export default __webpack_public_path__ + \"static/media/bigode1500x1500.586d18e5.png\";","import React, {useState} from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {Card,  Row, Col } from 'react-bootstrap';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nimport stories_diaDosPais from '../../assets/geradorDeImagens/diaDosPais/1920x1080.jpg';\r\nimport stories_bigode_diaDosPais from '../../assets/geradorDeImagens/diaDosPais/bigode1920x1080.png';\r\nimport feed_diaDosPais from '../../assets/geradorDeImagens/diaDosPais/1500x1500.jpg';\r\nimport feed_bigode_diaDosPais from '../../assets/geradorDeImagens/diaDosPais/bigode1500x1500.png';\r\n\r\nfunction download(imageURL, nameDownload){  \r\n\r\n  const a = document.createElement(\"a\");\r\n  a.href = imageURL\r\n  a.download = nameDownload;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n} \r\n\r\nexport default class DiaDosPais extends React.Component {\r\n  \r\n  componentDidMount() {\r\n    const logoEstabelecimento = new Image();            \r\n    logoEstabelecimento.src = this.props.logo;\r\n    \r\n    \r\n    const backGroundImage1920x1080 = new Image();            \r\n    backGroundImage1920x1080.src = stories_diaDosPais\r\n    const bigode1920x1080 = new Image();            \r\n    bigode1920x1080.src = stories_bigode_diaDosPais\r\n\r\n    const backGroundImage1500x1500 = new Image();            \r\n    backGroundImage1500x1500.src = feed_diaDosPais\r\n    const bigode1500x1500 = new Image();            \r\n    bigode1500x1500.src = feed_bigode_diaDosPais\r\n\r\n    var s = 0;\r\n    var f = 0;\r\n    \r\n    function criarStories(){\r\n      if(s >= 3){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1920;\r\n        canvas.width = 1080;\r\n        const context = canvas.getContext(\"2d\")\r\n        context.drawImage(backGroundImage1920x1080, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 395, 90, 300, 300);\r\n        context.drawImage(bigode1920x1080, 0, 0)\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageStories').style.display = \"none\"\r\n        document.getElementById('imageGeradaStories').src = dataURL\r\n        document.getElementById('notLoadingImageStories').style.display = \"block\"\r\n\r\n      }\r\n    }\r\n\r\n    function criarFeed(){\r\n      if(f >= 3){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1500;\r\n        canvas.width = 1500;\r\n        const context = canvas.getContext(\"2d\")\r\n        context.drawImage(backGroundImage1500x1500, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 580, 90, 350, 350);\r\n        context.drawImage(bigode1500x1500, 0, 0)\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageFeed').style.display = \"none\"\r\n        document.getElementById('imageGeradaFeed').src = dataURL\r\n        document.getElementById('notLoadingImageFeed').style.display = \"block\"\r\n      }\r\n    }\r\n\r\n\r\n    backGroundImage1920x1080.onload = () => {s++; criarStories()}\r\n    bigode1920x1080.onload = () => {s++; criarStories()}\r\n\r\n    backGroundImage1500x1500.onload = () => {f++; criarFeed()}\r\n    bigode1500x1500.onload = () => {f++; criarFeed()}\r\n\r\n    logoEstabelecimento.onload = () => {s++; f++; criarStories(); criarFeed()}\r\n\r\n    \r\n  }\r\n  render() {\r\n\r\n    return(\r\n      <Row>\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageStories\"  color=\"inherit\" />\r\n          <span id=\"notLoadingImageStories\" style={{\"display\": \"none\"}}>\r\n          <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaStories').src, \"diaDosPais-1080x1920\")  \r\n              }}\r\n              variant=\"contained\">Baixar Stories</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaStories\" className=\"hidden\" />\r\n           \r\n          </span>\r\n         \r\n        </Col>\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageFeed\" color=\"inherit\" />\r\n          <span id=\"notLoadingImageFeed\" style={{\"display\": \"none\"}}>\r\n            <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaFeed').src, \"diaDosPais-1500x1500\")  \r\n              }}\r\n              variant=\"contained\">Baixar Feed</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaFeed\" className=\"hidden\" />\r\n            \r\n          </span>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/1920x1080.7bc62d79.jpg\";","export default __webpack_public_path__ + \"static/media/1500x1500.cafc4e2a.jpg\";","import React, {useState} from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {Card,  Row, Col } from 'react-bootstrap';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport InputBase from '@material-ui/core/InputBase';\r\n\r\n\r\nimport stories from '../../assets/geradorDeImagens/blackFriday/1920x1080.jpg';\r\nimport feed from '../../assets/geradorDeImagens/blackFriday/1500x1500.jpg';\r\n\r\nconst BootstrapInput = withStyles((theme) => ({\r\n  root: {\r\n    'label + &': {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  input: {\r\n    borderRadius: 4,\r\n    position: 'relative',\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '1px solid #ced4da',\r\n    fontSize: 16,\r\n    padding: '10px 26px 10px 12px',\r\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\r\n    // Use the system font instead of the default Roboto font.\r\n    fontFamily: [\r\n      '-apple-system',\r\n      'BlinkMacSystemFont',\r\n      '\"Segoe UI\"',\r\n      'Roboto',\r\n      '\"Helvetica Neue\"',\r\n      'Arial',\r\n      'sans-serif',\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n    ].join(','),\r\n    '&:focus': {\r\n      borderRadius: 4,\r\n      borderColor: '#80bdff',\r\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\r\n    },\r\n  },\r\n}))(InputBase);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\n\r\nfunction download(imageURL, nameDownload){  \r\n\r\n  const a = document.createElement(\"a\");\r\n  a.href = imageURL\r\n  a.download = nameDownload;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n} \r\n\r\nexport default class BlackFriday extends React.Component {\r\n  \r\n  render() {\r\n\r\n    \r\n    const logoEstabelecimento = new Image();            \r\n    logoEstabelecimento.src = this.props.logo;\r\n    \r\n    \r\n    const backGroundImage1920x1080 = new Image();            \r\n    backGroundImage1920x1080.src = stories\r\n\r\n    const backGroundImage1500x1500 = new Image();            \r\n    backGroundImage1500x1500.src = feed\r\n\r\n    var s = 0;\r\n    var f = 0;\r\n    \r\n    function criarStories(){\r\n      if(s >= 2){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1920;\r\n        canvas.width = 1080;\r\n        const context = canvas.getContext(\"2d\")\r\n        context.drawImage(backGroundImage1920x1080, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 340, 150, 400, 400);\r\n\r\n        context.font = \"bold 65px Arial\";\r\n        context.fillStyle = \"BLACK\";\r\n        context.textAlign = \"center\";\r\n        context.fillText(document.getElementById('opcaoBlackFriday').value, 540, 1580);\r\n\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageStories').style.display = \"none\"\r\n        document.getElementById('imageGeradaStories').src = dataURL\r\n        document.getElementById('notLoadingImageStories').style.display = \"block\"\r\n        document.getElementById('notLoadingOpcoes').style.display = \"block\"\r\n\r\n        \r\n\r\n      } \r\n    }\r\n\r\n    function criarFeed(){\r\n      if(f >= 2){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1500;\r\n        canvas.width = 1500;\r\n        const context = canvas.getContext(\"2d\")\r\n        context.drawImage(backGroundImage1500x1500, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 600, 90, 300, 300);\r\n\r\n        context.font = \"bold 65px Arial\";\r\n        context.fillStyle = \"BLACK\";\r\n        context.textAlign = \"center\";\r\n        context.fillText(document.getElementById('opcaoBlackFriday').value, 750, 1345);\r\n\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageFeed').style.display = \"none\"\r\n        document.getElementById('imageGeradaFeed').src = dataURL\r\n        document.getElementById('notLoadingImageFeed').style.display = \"block\"\r\n        document.getElementById('notLoadingOpcoes').style.display = \"block\"\r\n\r\n      }\r\n    }\r\n\r\n\r\n    backGroundImage1920x1080.onload = () => {s++; criarStories()}\r\n\r\n    backGroundImage1500x1500.onload = () => {f++; criarFeed()}\r\n\r\n    logoEstabelecimento.onload = () => {s++; f++; criarStories(); criarFeed()}\r\n\r\n\r\n    return(\r\n      <Row>\r\n        <Col xs={12} md={12} lg={12} style={{\"margin\": \"1em 0\"}}>\r\n          <span id=\"notLoadingOpcoes\" style={{\"display\": \"none\"}}>\r\n            <NativeSelect\r\n              fullWidth\r\n              onChange={() => {\r\n                criarFeed()\r\n                criarStories()\r\n              }}\r\n              id=\"opcaoBlackFriday\"\r\n              input={<BootstrapInput />}\r\n            >\r\n              <option value={'BLACKFRIDAY10%'}>CUPOM 10% DE DESCONTO</option>\r\n              <option value={'BLACKFRIDAY10R$'}>CUPOM R$ 10,00 DE DESCONTO</option>\r\n              <option value={'BLACKFRIDAYFRETE'}>CUPOM FRETE GRTIS</option>\r\n            </NativeSelect>\r\n          </span>\r\n        </Col>\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageStories\"  color=\"inherit\" />\r\n          <span id=\"notLoadingImageStories\" style={{\"display\": \"none\"}}>\r\n          <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaStories').src, \"blackFriday-1080x1920\")  \r\n              }}\r\n              variant=\"contained\">Baixar Stories</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaStories\" className=\"hidden\" />\r\n           \r\n          </span>\r\n         \r\n        </Col>\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageFeed\" color=\"inherit\" />\r\n          <span id=\"notLoadingImageFeed\" style={{\"display\": \"none\"}}>\r\n            <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaFeed').src, \"blackFriday-1500x1500\")  \r\n              }}\r\n              variant=\"contained\">Baixar Feed</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaFeed\" className=\"hidden\" />\r\n          </span>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/1920x1080.4fbe3259.jpg\";","export default __webpack_public_path__ + \"static/media/1500x1500.cc5b3004.jpg\";","import React, {useState} from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {Card,  Row, Col } from 'react-bootstrap';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport AlertFixo from '@material-ui/lab/Alert';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport InputBase from '@material-ui/core/InputBase';\r\n\r\n\r\nimport stories from '../../assets/geradorDeImagens/natal/1920x1080.jpg';\r\nimport feed from '../../assets/geradorDeImagens/natal/1500x1500.jpg';\r\n\r\nconst BootstrapInput = withStyles((theme) => ({\r\n  root: {\r\n    'label + &': {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  input: {\r\n    borderRadius: 4,\r\n    position: 'relative',\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '1px solid #ced4da',\r\n    fontSize: 16,\r\n    padding: '10px 26px 10px 12px',\r\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\r\n    // Use the system font instead of the default Roboto font.\r\n    fontFamily: [\r\n      '-apple-system',\r\n      'BlinkMacSystemFont',\r\n      '\"Segoe UI\"',\r\n      'Roboto',\r\n      '\"Helvetica Neue\"',\r\n      'Arial',\r\n      'sans-serif',\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n    ].join(','),\r\n    '&:focus': {\r\n      borderRadius: 4,\r\n      borderColor: '#80bdff',\r\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\r\n    },\r\n  },\r\n}))(InputBase);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\n\r\nfunction download(imageURL, nameDownload){  \r\n\r\n  const a = document.createElement(\"a\");\r\n  a.href = imageURL\r\n  a.download = nameDownload;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n} \r\n\r\nexport default class Natal extends React.Component {\r\n  \r\n  render() {\r\n\r\n    \r\n    const logoEstabelecimento = new Image();            \r\n    logoEstabelecimento.src = this.props.logo;\r\n    \r\n    \r\n    const backGroundImage1920x1080 = new Image();            \r\n    backGroundImage1920x1080.src = stories\r\n\r\n    const backGroundImage1500x1500 = new Image();            \r\n    backGroundImage1500x1500.src = feed\r\n\r\n    var s = 0;\r\n    var f = 0;\r\n    \r\n    function criarStories(){\r\n      if(s >= 2){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1920;\r\n        canvas.width = 1080;\r\n        const context = canvas.getContext(\"2d\")\r\n        context.drawImage(backGroundImage1920x1080, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 340, 150, 400, 400);\r\n\r\n        context.font = \"bold 55px Arial\";\r\n        context.fillStyle = \"WHITE\";\r\n        context.textAlign = \"center\";\r\n\r\n        var texto = document.getElementById('opcoes').value\r\n\r\n        if(texto === \"LINK\"){\r\n          context.font = \"bold 55px Arial\";\r\n          context.fillStyle = \"white\";\r\n          context.textAlign = \"center\";\r\n          texto = window.location.hostname\r\n          context.fillText(texto, 540, 1800);\r\n\r\n        }else if(texto.includes(\"CUPOM_\")){\r\n          context.font = \"bold 50px Arial\";\r\n          context.fillStyle = \"white\";\r\n          context.textAlign = \"center\";\r\n          context.fillText(\"CUPOM\", 540, 1760);\r\n          \r\n          context.font = \"bold 80px Arial\";\r\n          context.fillStyle = \"white\";\r\n          context.textAlign = \"center\";\r\n          texto = texto.replace(\"CUPOM_\", \"\")\r\n          context.fillText(texto, 540, 1840);\r\n\r\n        }else if(texto === \"FRASEPEQUENA\"){\r\n          context.font = \"bold 55px Arial\";\r\n          context.fillStyle = \"white\";\r\n          context.textAlign = \"center\";\r\n          context.fillText(\"PARA VOC E A\", 540, 1800);\r\n          context.fillText(\"TODOS OS SEUS FAMILIARES.\", 540, 1860);\r\n\r\n        }\r\n        \r\n\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageStories').style.display = \"none\"\r\n        document.getElementById('imageGeradaStories').src = dataURL\r\n        document.getElementById('notLoadingImageStories').style.display = \"block\"\r\n        document.getElementById('notLoadingOpcoes').style.display = \"block\"\r\n\r\n        \r\n\r\n      } \r\n    }\r\n\r\n    function criarFeed(){\r\n      if(f >= 2){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1500;\r\n        canvas.width = 1500;\r\n        const context = canvas.getContext(\"2d\")\r\n        context.drawImage(backGroundImage1500x1500, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 840, 290, 450, 450);\r\n\r\n        var texto = document.getElementById('opcoes').value\r\n\r\n        if(texto === \"LINK\"){\r\n          context.font = \"bold 75px Arial\";\r\n          context.fillStyle = \"WHITE\";\r\n          context.textAlign = \"center\";\r\n          texto = window.location.hostname\r\n          context.fillText(texto, 750, 1375);\r\n\r\n        }else if(texto.includes(\"CUPOM_\")){\r\n          context.font = \"bold 70px Arial\";\r\n          context.fillStyle = \"WHITE\";\r\n          context.textAlign = \"center\";\r\n          context.fillText(\"CUPOM\", 750, 1330);\r\n          \r\n          context.font = \"bold 100px Arial\";\r\n          context.fillStyle = \"WHITE\";\r\n          context.textAlign = \"center\";\r\n          texto = texto.replace(\"CUPOM_\", \"\")\r\n          context.fillText(texto, 750, 1430);\r\n\r\n        }else if(texto === \"FRASEPEQUENA\"){\r\n          context.font = \"bold 70px Arial\";\r\n          context.fillStyle = \"WHITE\";\r\n          context.textAlign = \"center\";\r\n          context.fillText(\"PARA VOC E A\", 750, 1330);\r\n\r\n          context.font = \"bold 80px Arial\";\r\n          context.fillText(\"TODOS OS SEUS FAMILIARES.\", 750, 1430);\r\n\r\n        }\r\n        \r\n\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageFeed').style.display = \"none\"\r\n        document.getElementById('imageGeradaFeed').src = dataURL\r\n        document.getElementById('notLoadingImageFeed').style.display = \"block\"\r\n        document.getElementById('notLoadingOpcoes').style.display = \"block\"\r\n\r\n      }\r\n    }\r\n\r\n\r\n    backGroundImage1920x1080.onload = () => {s++; criarStories()}\r\n\r\n    backGroundImage1500x1500.onload = () => {f++; criarFeed()}\r\n\r\n    logoEstabelecimento.onload = () => {s++; f++; criarStories(); criarFeed()}\r\n\r\n\r\n    return(\r\n      <Row>\r\n        <Col xs={12} md={12} lg={12} style={{\"margin\": \"1em 0\"}}>\r\n        <AlertFixo severity={\"warning\"}>\r\n          Lembre-se: Caso seja um cupom, voc precisa criar no sistema administrativo.\r\n        </AlertFixo>    \r\n        </Col>\r\n        <Col xs={12} md={12} lg={12} style={{\"margin\": \"1em 0\"}}>\r\n          <span id=\"notLoadingOpcoes\" style={{\"display\": \"none\"}}>\r\n            <NativeSelect\r\n              fullWidth\r\n              defaultValue={`LINK`}\r\n              onChange={() => {\r\n                criarFeed()\r\n                criarStories()\r\n              }}\r\n              id=\"opcoes\"\r\n              input={<BootstrapInput />}\r\n            >\r\n              <option value={`LINK`}>LINK DO SITE</option>\r\n              <option value={'CUPOM_NATAL10%'}>CUPOM 10% DE DESCONTO</option>\r\n              <option value={'CUPOM_NATAL10REAIS'}>CUPOM R$ 10,00 DE DESCONTO</option>\r\n              <option value={'CUPOM_NATALFRETEGRATIS'}>CUPOM FRETE GRTIS</option>\r\n              <option value={`FRASEPEQUENA`}>FRASE PEQUENA</option>\r\n            </NativeSelect>\r\n          </span>\r\n        </Col>\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageStories\"  color=\"inherit\" />\r\n          <span id=\"notLoadingImageStories\" style={{\"display\": \"none\"}}>\r\n          <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaStories').src, \"blackFriday-1080x1920\")  \r\n              }}\r\n              variant=\"contained\">Baixar Stories</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaStories\" className=\"hidden\" />\r\n           \r\n          </span>\r\n         \r\n        </Col>\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageFeed\" color=\"inherit\" />\r\n          <span id=\"notLoadingImageFeed\" style={{\"display\": \"none\"}}>\r\n            <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaFeed').src, \"blackFriday-1500x1500\")  \r\n              }}\r\n              variant=\"contained\">Baixar Feed</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaFeed\" className=\"hidden\" />\r\n          </span>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/1920x1080.7020fca7.jpg\";","export default __webpack_public_path__ + \"static/media/1500x1500.10d9e8cd.jpg\";","import React, {useState} from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {Card,  Row, Col } from 'react-bootstrap';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport AlertFixo from '@material-ui/lab/Alert';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport InputBase from '@material-ui/core/InputBase';\r\n\r\n\r\nimport stories from '../../assets/geradorDeImagens/revellion/1920x1080.jpg';\r\nimport feed from '../../assets/geradorDeImagens/revellion/1500x1500.jpg';\r\n\r\nconst BootstrapInput = withStyles((theme) => ({\r\n  root: {\r\n    'label + &': {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  input: {\r\n    borderRadius: 4,\r\n    position: 'relative',\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '1px solid #ced4da',\r\n    fontSize: 16,\r\n    padding: '10px 26px 10px 12px',\r\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\r\n    // Use the system font instead of the default Roboto font.\r\n    fontFamily: [\r\n      '-apple-system',\r\n      'BlinkMacSystemFont',\r\n      '\"Segoe UI\"',\r\n      'Roboto',\r\n      '\"Helvetica Neue\"',\r\n      'Arial',\r\n      'sans-serif',\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n    ].join(','),\r\n    '&:focus': {\r\n      borderRadius: 4,\r\n      borderColor: '#80bdff',\r\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\r\n    },\r\n  },\r\n}))(InputBase);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\n\r\nfunction download(imageURL, nameDownload){  \r\n\r\n  const a = document.createElement(\"a\");\r\n  a.href = imageURL\r\n  a.download = nameDownload;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n} \r\n\r\nexport default class Revellion extends React.Component {\r\n  \r\n  render() {\r\n\r\n    \r\n    const logoEstabelecimento = new Image();            \r\n    logoEstabelecimento.src = this.props.logo;\r\n    \r\n    \r\n    const backGroundImage1920x1080 = new Image();            \r\n    backGroundImage1920x1080.src = stories\r\n\r\n    const backGroundImage1500x1500 = new Image();            \r\n    backGroundImage1500x1500.src = feed\r\n\r\n    var s = 0;\r\n    var f = 0;\r\n    \r\n    function criarStories(){\r\n      if(s >= 2){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1920;\r\n        canvas.width = 1080;\r\n        const context = canvas.getContext(\"2d\")\r\n        context.drawImage(backGroundImage1920x1080, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 340, 250, 400, 400);\r\n\r\n        var texto = document.getElementById('opcoes').value\r\n\r\n        if(texto === \"LINK\"){\r\n          context.font = \"bold 55px Arial\";\r\n          context.fillStyle = \"BLACK\";\r\n          context.textAlign = \"center\";\r\n          texto = window.location.hostname\r\n          context.fillText(texto, 540, 1700);\r\n\r\n        }else if(texto.includes(\"CUPOM_\")){\r\n          context.font = \"bold 50px Arial\";\r\n          context.fillStyle = \"BLACK\";\r\n          context.textAlign = \"center\";\r\n          context.fillText(\"CUPOM\", 540, 1660);\r\n          \r\n          context.font = \"bold 80px Arial\";\r\n          context.fillStyle = \"BLACK\";\r\n          context.textAlign = \"center\";\r\n          texto = texto.replace(\"CUPOM_\", \"\")\r\n          context.fillText(texto, 540, 1740);\r\n\r\n        }else if(texto === \"FRASEPEQUENA\"){\r\n          context.font = \"bold 55px Arial\";\r\n          context.fillStyle = \"BLACK\";\r\n          context.textAlign = \"center\";\r\n          context.fillText(\"PARA VOC E A\", 540, 1700);\r\n          context.fillText(\"TODOS OS SEUS FAMILIARES.\", 540, 1760);\r\n\r\n        }\r\n        \r\n\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageStories').style.display = \"none\"\r\n        document.getElementById('imageGeradaStories').src = dataURL\r\n        document.getElementById('notLoadingImageStories').style.display = \"block\"\r\n        document.getElementById('notLoadingOpcoes').style.display = \"block\"\r\n\r\n        \r\n\r\n      } \r\n    }\r\n\r\n    function criarFeed(){\r\n      if(f >= 2){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1500;\r\n        canvas.width = 1500;\r\n        const context = canvas.getContext(\"2d\")\r\n        context.drawImage(backGroundImage1500x1500, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 600, 100, 300, 300);\r\n\r\n\r\n        var texto = document.getElementById('opcoes').value\r\n\r\n        if(texto === \"LINK\"){\r\n          context.font = \"bold 75px Arial\";\r\n          context.fillStyle = \"BLACK\";\r\n          context.textAlign = \"center\";\r\n          texto = window.location.hostname\r\n          context.fillText(texto, 750, 1375);\r\n\r\n        }else if(texto.includes(\"CUPOM_\")){\r\n          context.font = \"bold 70px Arial\";\r\n          context.fillStyle = \"BLACK\";\r\n          context.textAlign = \"center\";\r\n          context.fillText(\"CUPOM\", 750, 1330);\r\n          \r\n          context.font = \"bold 100px Arial\";\r\n          context.fillStyle = \"BLACK\";\r\n          context.textAlign = \"center\";\r\n          texto = texto.replace(\"CUPOM_\", \"\")\r\n          context.fillText(texto, 750, 1430);\r\n\r\n        }else if(texto === \"FRASEPEQUENA\"){\r\n          context.font = \"bold 70px Arial\";\r\n          context.fillStyle = \"BLACK\";\r\n          context.textAlign = \"center\";\r\n          context.fillText(\"PARA VOC E A\", 750, 1330);\r\n\r\n          context.font = \"bold 80px Arial\";\r\n          context.fillText(\"TODOS OS SEUS FAMILIARES.\", 750, 1430);\r\n\r\n        }\r\n        \r\n\r\n\r\n        \r\n\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageFeed').style.display = \"none\"\r\n        document.getElementById('imageGeradaFeed').src = dataURL\r\n        document.getElementById('notLoadingImageFeed').style.display = \"block\"\r\n        document.getElementById('notLoadingOpcoes').style.display = \"block\"\r\n\r\n      }\r\n    }\r\n\r\n\r\n    backGroundImage1920x1080.onload = () => {s++; criarStories()}\r\n\r\n    backGroundImage1500x1500.onload = () => {f++; criarFeed()}\r\n\r\n    logoEstabelecimento.onload = () => {s++; f++; criarStories(); criarFeed()}\r\n\r\n\r\n    return(\r\n      <Row>\r\n        <Col xs={12} md={12} lg={12} style={{\"margin\": \"1em 0\"}}>\r\n        <AlertFixo severity={\"warning\"}>\r\n          Lembre-se: Caso seja um cupom, voc precisa criar no sistema administrativo.\r\n        </AlertFixo>    \r\n        </Col>\r\n        <Col xs={12} md={12} lg={12} style={{\"margin\": \"1em 0\"}}>\r\n          <span id=\"notLoadingOpcoes\" style={{\"display\": \"none\"}}>\r\n            <NativeSelect\r\n              fullWidth\r\n              defaultValue={`LINK`}\r\n              onChange={() => {\r\n                criarFeed()\r\n                criarStories()\r\n              }}\r\n              id=\"opcoes\"\r\n              input={<BootstrapInput />}\r\n            >\r\n              <option value={`LINK`}>LINK DO SITE</option>\r\n              <option value={'CUPOM_ANONOVO10%'}>CUPOM 10% DE DESCONTO</option>\r\n              <option value={'CUPOM_ANONOVO10REAIS'}>CUPOM R$ 10,00 DE DESCONTO</option>\r\n              <option value={'CUPOM_ANONOVOFRETE'}>CUPOM FRETE GRTIS</option>\r\n              <option value={`FRASEPEQUENA`}>FRASE PEQUENA</option>\r\n            </NativeSelect>\r\n          </span>\r\n        </Col>\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageStories\"  color=\"inherit\" />\r\n          <span id=\"notLoadingImageStories\" style={{\"display\": \"none\"}}>\r\n          <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaStories').src, \"blackFriday-1080x1920\")  \r\n              }}\r\n              variant=\"contained\">Baixar Stories</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaStories\" className=\"hidden\" />\r\n           \r\n          </span>\r\n         \r\n        </Col>\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageFeed\" color=\"inherit\" />\r\n          <span id=\"notLoadingImageFeed\" style={{\"display\": \"none\"}}>\r\n            <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaFeed').src, \"blackFriday-1500x1500\")  \r\n              }}\r\n              variant=\"contained\">Baixar Feed</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaFeed\" className=\"hidden\" />\r\n          </span>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}","import React from 'react'\r\n\r\nexport default function OpcoesImagemColor(props){\r\n    \r\n    const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))  \r\n\r\n    const {\r\n        criarFeed,\r\n        criarStories,\r\n    } = props\r\n    return (\r\n        <input type=\"color\" style={{width: '100%'}} defaultValue={aplicativoDados.corSitePrimaria} onChange={() => {\r\n            criarFeed()\r\n            criarStories()\r\n        }} id=\"colorBackground\"/>\r\n    )\r\n}","import React from 'react'\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport {Card,  Row, Col } from 'react-bootstrap';\r\n\r\n\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport InputBase from '@material-ui/core/InputBase';\r\n\r\nconst BootstrapInput = withStyles((theme) => ({\r\n    root: {\r\n      'label + &': {\r\n        marginTop: theme.spacing(3),\r\n      },\r\n    },\r\n    input: {\r\n      borderRadius: 4,\r\n      position: 'relative',\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '1px solid #ced4da',\r\n      fontSize: 16,\r\n      padding: '10px 26px 10px 12px',\r\n      transition: theme.transitions.create(['border-color', 'box-shadow']),\r\n      // Use the system font instead of the default Roboto font.\r\n      fontFamily: [\r\n        '-apple-system',\r\n        'BlinkMacSystemFont',\r\n        '\"Segoe UI\"',\r\n        'Roboto',\r\n        '\"Helvetica Neue\"',\r\n        'Arial',\r\n        'sans-serif',\r\n        '\"Apple Color Emoji\"',\r\n        '\"Segoe UI Emoji\"',\r\n        '\"Segoe UI Symbol\"',\r\n      ].join(','),\r\n      '&:focus': {\r\n        borderRadius: 4,\r\n        borderColor: '#80bdff',\r\n        boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\r\n      },\r\n    },\r\n  }))(InputBase);\r\n\r\nexport default function OpcoesImagemSelect(props){\r\n    const {\r\n        criarFeed,\r\n        criarStories,\r\n    } = props\r\n\r\n    return (\r\n        <span id=\"notLoadingOpcoes\" style={{\"display\": \"none\"}}>\r\n            <NativeSelect\r\n                fullWidth\r\n                defaultValue={`LINK`}\r\n                onChange={() => {\r\n                criarFeed()\r\n                criarStories()\r\n                }}\r\n                id=\"opcoes\"\r\n                input={<BootstrapInput />}\r\n            >\r\n                <option value={`LINK`}>LINK DO SITE</option>\r\n                <option value={'CUPOM_ANONOVO10%'}>CUPOM 10% DE DESCONTO</option>\r\n                <option value={'CUPOM_ANONOVO10REAIS'}>CUPOM R$ 10,00 DE DESCONTO</option>\r\n                <option value={'CUPOM_ANONOVOFRETE'}>CUPOM FRETE GRTIS</option>\r\n                <option value={`FRASEPEQUENA`}>FRASE PEQUENA</option>\r\n            </NativeSelect>\r\n        </span>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/1920x1080.73b36a06.png\";","export default __webpack_public_path__ + \"static/media/1500x1500.bbd57c62.png\";","import React, {useState} from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {Card,  Row, Col } from 'react-bootstrap';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport AlertFixo from '@material-ui/lab/Alert';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport InputBase from '@material-ui/core/InputBase';\r\n\r\nimport OpcoesImagemColor from './OpcoesImagemColor'\r\nimport OpcoesImagemSelect from './OpcoesImagemSelect'\r\n\r\nimport stories from '../../assets/geradorDeImagens/diaDasMulheres/1920x1080.png';\r\nimport feed from '../../assets/geradorDeImagens/diaDasMulheres/1500x1500.png';\r\n\r\nconst BootstrapInput = withStyles((theme) => ({\r\n  root: {\r\n    'label + &': {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n  input: {\r\n    borderRadius: 4,\r\n    position: 'relative',\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '1px solid #ced4da',\r\n    fontSize: 16,\r\n    padding: '10px 26px 10px 12px',\r\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\r\n    // Use the system font instead of the default Roboto font.\r\n    fontFamily: [\r\n      '-apple-system',\r\n      'BlinkMacSystemFont',\r\n      '\"Segoe UI\"',\r\n      'Roboto',\r\n      '\"Helvetica Neue\"',\r\n      'Arial',\r\n      'sans-serif',\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n    ].join(','),\r\n    '&:focus': {\r\n      borderRadius: 4,\r\n      borderColor: '#80bdff',\r\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\r\n    },\r\n  },\r\n}))(InputBase);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\n\r\nfunction download(imageURL, nameDownload){  \r\n\r\n  const a = document.createElement(\"a\");\r\n  a.href = imageURL\r\n  a.download = nameDownload;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n} \r\n\r\nexport default class DiaDasMulheres extends React.Component {\r\n  \r\n  render() {\r\n    \r\n    \r\n    const logoEstabelecimento = new Image();            \r\n    logoEstabelecimento.src = this.props.logo;\r\n    \r\n    \r\n    const backGroundImage1920x1080 = new Image();            \r\n    backGroundImage1920x1080.src = stories\r\n\r\n    const backGroundImage1500x1500 = new Image();            \r\n    backGroundImage1500x1500.src = feed\r\n\r\n    var s = 0;\r\n    var f = 0;\r\n    \r\n    function criarStories(){\r\n      if(s >= 2){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1920;\r\n        canvas.width = 1080;\r\n        const context = canvas.getContext(\"2d\")\r\n\r\n                \r\n        if(document.getElementById('colorBackground')){\r\n          context.fillStyle = document.getElementById('colorBackground').value\r\n          context.fillRect(0, 0, canvas.width, canvas.height);\r\n        }\r\n\r\n\r\n        context.drawImage(backGroundImage1920x1080, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 430, 230, 220, 220);\r\n\r\n        if(document.getElementById('opcoes')){\r\n          var texto = document.getElementById('opcoes').value\r\n\r\n          if(texto === \"LINK\"){\r\n            context.font = \"bold 55px Arial\";\r\n            context.fillStyle = \"BLACK\";\r\n            context.textAlign = \"center\";\r\n            texto = window.location.hostname\r\n            context.fillText(texto, 540, 1700);\r\n  \r\n          }else if(texto.includes(\"CUPOM_\")){\r\n            context.font = \"bold 50px Arial\";\r\n            context.fillStyle = \"BLACK\";\r\n            context.textAlign = \"center\";\r\n            context.fillText(\"CUPOM\", 540, 1660);\r\n            \r\n            context.font = \"bold 80px Arial\";\r\n            context.fillStyle = \"BLACK\";\r\n            context.textAlign = \"center\";\r\n            texto = texto.replace(\"CUPOM_\", \"\")\r\n            context.fillText(texto, 540, 1740);\r\n  \r\n          }else if(texto === \"FRASEPEQUENA\"){\r\n            context.font = \"bold 55px Arial\";\r\n            context.fillStyle = \"BLACK\";\r\n            context.textAlign = \"center\";\r\n            context.fillText(\"PARA VOC E A\", 540, 1700);\r\n            context.fillText(\"TODOS OS SEUS FAMILIARES.\", 540, 1760);\r\n  \r\n          }\r\n        }\r\n        \r\n        \r\n\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageStories').style.display = \"none\"\r\n        document.getElementById('imageGeradaStories').src = dataURL\r\n        document.getElementById('notLoadingImageStories').style.display = \"block\"\r\n        \r\n        if(document.getElementById('notLoadingOpcoes')){\r\n          document.getElementById('notLoadingOpcoes').style.display = \"block\"\r\n        }\r\n\r\n        \r\n\r\n      } \r\n    }\r\n\r\n    function criarFeed(){\r\n      if(f >= 2){\r\n        console.log('criar')\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = 1500;\r\n        canvas.width = 1500;\r\n        const context = canvas.getContext(\"2d\")\r\n        \r\n        if(document.getElementById('colorBackground')){\r\n          context.fillStyle = document.getElementById('colorBackground').value\r\n          context.fillRect(0, 0, canvas.width, canvas.height);\r\n        }\r\n        \r\n        context.drawImage(backGroundImage1500x1500, 0, 0)\r\n        context.drawImage(logoEstabelecimento, 240, 230, 230, 230);\r\n\r\n        if(document.getElementById('opcoes')){\r\n          var texto = document.getElementById('opcoes').value\r\n\r\n          if(texto === \"LINK\"){\r\n            context.font = \"bold 75px Arial\";\r\n            context.fillStyle = \"BLACK\";\r\n            context.textAlign = \"center\";\r\n            texto = window.location.hostname\r\n            context.fillText(texto, 750, 1375);\r\n  \r\n          }else if(texto.includes(\"CUPOM_\")){\r\n            context.font = \"bold 70px Arial\";\r\n            context.fillStyle = \"BLACK\";\r\n            context.textAlign = \"center\";\r\n            context.fillText(\"CUPOM\", 750, 1330);\r\n            \r\n            context.font = \"bold 100px Arial\";\r\n            context.fillStyle = \"BLACK\";\r\n            context.textAlign = \"center\";\r\n            texto = texto.replace(\"CUPOM_\", \"\")\r\n            context.fillText(texto, 750, 1430);\r\n  \r\n          }else if(texto === \"FRASEPEQUENA\"){\r\n            context.font = \"bold 70px Arial\";\r\n            context.fillStyle = \"BLACK\";\r\n            context.textAlign = \"center\";\r\n            context.fillText(\"PARA VOC E A\", 750, 1330);\r\n  \r\n            context.font = \"bold 80px Arial\";\r\n            context.fillText(\"TODOS OS SEUS FAMILIARES.\", 750, 1430);\r\n  \r\n          }\r\n        }\r\n        \r\n        \r\n\r\n\r\n        \r\n\r\n        context.fill();\r\n        const dataURL = canvas.toDataURL()\r\n        document.getElementById('loadingImageFeed').style.display = \"none\"\r\n        document.getElementById('imageGeradaFeed').src = dataURL\r\n        document.getElementById('notLoadingImageFeed').style.display = \"block\"\r\n\r\n        if(document.getElementById('notLoadingOpcoes')){\r\n          document.getElementById('notLoadingOpcoes').style.display = \"block\"\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n\r\n    backGroundImage1920x1080.onload = () => {s++; criarStories()}\r\n\r\n    backGroundImage1500x1500.onload = () => {f++; criarFeed()}\r\n\r\n    logoEstabelecimento.onload = () => {s++; f++; criarStories(); criarFeed()}\r\n\r\n\r\n    return(\r\n      <Row>\r\n        {/* <Col xs={12} md={12} lg={12} style={{\"margin\": \"1em 0\"}}>\r\n          <AlertFixo severity={\"warning\"}>\r\n            Lembre-se: Caso seja um cupom, voc precisa criar no sistema administrativo.\r\n          </AlertFixo>    \r\n        </Col> */}\r\n        <Col xs={12} md={12} lg={12} style={{\"margin\": \"1em 0\"}}>\r\n          <OpcoesImagemColor\r\n            criarFeed={criarFeed}\r\n            criarStories={criarStories}\r\n          />\r\n        </Col>\r\n        {/* <Col xs={12} md={12} lg={12} style={{\"margin\": \"1em 0\"}}>\r\n          <OpcoesImagemSelect\r\n            criarFeed={criarFeed}\r\n            criarStories={criarStories}\r\n          />\r\n        </Col> */}\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageStories\"  color=\"inherit\" />\r\n          <span id=\"notLoadingImageStories\" style={{\"display\": \"none\"}}>\r\n          <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaStories').src, \"diaDasMulheres-1080x1920\")  \r\n              }}\r\n              variant=\"contained\">Baixar Stories</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaStories\" className=\"hidden\" />\r\n           \r\n          </span>\r\n         \r\n        </Col>\r\n        <Col xs={12} md={6} lg={6} style={{\"margin\": \"1em 0\"}}>\r\n          <CircularProgress id=\"loadingImageFeed\" color=\"inherit\" />\r\n          <span id=\"notLoadingImageFeed\" style={{\"display\": \"none\"}}>\r\n            <Button\r\n              fullWidth\r\n              onClick={async () => {\r\n                download(await document.getElementById('imageGeradaFeed').src, \"blackFriday-1500x1500\")  \r\n              }}\r\n              variant=\"contained\">Baixar Feed</Button>\r\n            <img ref=\"image\" style={{\"width\": \"100%\"}} id=\"imageGeradaFeed\" className=\"hidden\" />\r\n          </span>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport {Card,  Row, Col } from 'react-bootstrap';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport api from '../../services/api';\r\n\r\n\r\nimport apresentacao_diaDosPais from '../../assets/geradorDeImagens/diaDosPais/apresentacao.jpg';\r\nimport apresentacao_blackFriday from '../../assets/geradorDeImagens/blackFriday/apresentacao.jpg';\r\nimport apresentacao_natal from '../../assets/geradorDeImagens/natal/apresentacao.jpg';\r\nimport apresentacao_revellion from '../../assets/geradorDeImagens/revellion/apresentacao.jpg';\r\nimport apresentacao_diaDasMulheres from '../../assets/geradorDeImagens/diaDasMulheres/apresentacao.jpg';\r\n\r\n\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nimport './styles.css';\r\nimport DiaDosPais from './DiaDosPais';\r\nimport BlackFriday from './BlackFriday';\r\nimport Natal from './Natal';\r\nimport Revellion from './Revellion';\r\nimport DiaDasMulheres from './DiaDasMulheres';\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  rootAlert: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n  root: {\r\n    width: \"100%\",\r\n    margin: \"1em 0\",\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport default function Downloads() {\r\n\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))  \r\n  \r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const history = useHistory();\r\n  \r\n\r\n  // FUNCOES\r\n  \r\n  //alerts e loading\r\n  const alertStart = (msg, tipo) => {\r\n    setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n  \r\n  const alertClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n\r\n  };\r\n\r\n  //console.log('location', window.location.pathname)\r\n\r\n  \r\n  const [loading, setLoading] = React.useState(false);\r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n  const [logo64, setLogo64] = useState('');\r\n  const [openImage, setOpenImage] = useState(false);\r\n  const [criarImagem, setCriarImagem] = useState('');\r\n\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n  useEffect(() => {\r\n    get64Logo()\r\n  }, []);\r\n  \r\n\r\n  const get64Logo = async () => {\r\n    const logo64 = await api.get('siteutil/LogoBase64/'+ aplicativoDados.appNome, {\r\n      headers: {\"Content-Type\": \"application/json\"}\r\n    })    \r\n    setLogo64(logo64.data)\r\n  }\r\n  \r\n  return (\r\n\r\n      <Container>\r\n      \r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n\r\n\r\n        <div className={classes.paper}>\r\n          <Row>\r\n\r\n            <Col xs={12} md={4} lg={3} >\r\n              <img className={\"apresentacao\"} src={apresentacao_diaDasMulheres} />   \r\n              <Button\r\n                fullWidth\r\n                onClick={() => {\r\n                  setOpenImage(true)\r\n                  setCriarImagem(\"diaDasMulheres\")\r\n                }}\r\n                type=\"submit\"\r\n                variant=\"contained\">Acessar</Button>\r\n            </Col>\r\n\r\n            <Col xs={12} md={4} lg={3} >\r\n              <img className={\"apresentacao\"} src={apresentacao_revellion} />   \r\n              <Button\r\n                fullWidth\r\n                onClick={() => {\r\n                  setOpenImage(true)\r\n                  setCriarImagem(\"revellion\")\r\n                }}\r\n                type=\"submit\"\r\n                variant=\"contained\">Acessar</Button>\r\n            </Col>\r\n            \r\n            <Col xs={12} md={4} lg={3} >\r\n              <img className={\"apresentacao\"} src={apresentacao_natal} />   \r\n              <Button\r\n                fullWidth\r\n                onClick={() => {\r\n                  setOpenImage(true)\r\n                  setCriarImagem(\"natal\")\r\n                }}\r\n                type=\"submit\"\r\n                variant=\"contained\">Acessar</Button>\r\n            </Col>\r\n\r\n\r\n            <Col xs={12} md={4} lg={3} >\r\n              <img className={\"apresentacao\"} src={apresentacao_blackFriday} />   \r\n              <Button\r\n                fullWidth\r\n                onClick={() => {\r\n                  setOpenImage(true)\r\n                  setCriarImagem(\"blackFriday\")\r\n                }}\r\n                type=\"submit\"\r\n                variant=\"contained\">Acessar</Button>\r\n            </Col>\r\n\r\n\r\n            <Col xs={12} md={4} lg={3} >\r\n              <img className={\"apresentacao\"} src={apresentacao_diaDosPais} />   \r\n              <Button\r\n                fullWidth\r\n                onClick={() => {\r\n                  setOpenImage(true)\r\n                  setCriarImagem(\"diaDosPais\")\r\n                }}\r\n                type=\"submit\"\r\n                variant=\"contained\">Acessar</Button>\r\n            </Col>\r\n\r\n            \r\n\r\n            <Col xs={12} md={4} lg={3} >\r\n             \r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n\r\n        <Dialog\r\n          open={openImage}\r\n          TransitionComponent={Transition}\r\n          fullScreen={fullScreen}\r\n          keepMounted\r\n          onClose={() => {setOpenImage(false)}}\r\n          aria-labelledby=\"imagem-gerada-title\"\r\n          aria-describedby=\"imagem-gerada-description\">\r\n          <DialogContent>          \r\n                {\r\n                  logo64 ? \r\n                    (criarImagem === \"diaDosPais\" && <DiaDosPais logo={logo64}/>) \r\n                  : <CircularProgress color=\"inherit\" />\r\n                }\r\n                {\r\n                  logo64 ? \r\n                    (criarImagem === \"blackFriday\" && <BlackFriday logo={logo64}/>) \r\n                  : <CircularProgress color=\"inherit\" />\r\n                }\r\n                {\r\n                  logo64 ? \r\n                    (criarImagem === \"natal\" && <Natal logo={logo64}/>) \r\n                  : <CircularProgress color=\"inherit\" />\r\n                }\r\n\r\n                {\r\n                  logo64 ? \r\n                    (criarImagem === \"revellion\" && <Revellion logo={logo64}/>) \r\n                  : <CircularProgress color=\"inherit\" />\r\n                }\r\n\r\n                {\r\n                  logo64 ?    \r\n                    (criarImagem === \"diaDasMulheres\" && <DiaDasMulheres logo={logo64}/>) \r\n                  : <CircularProgress color=\"inherit\" />\r\n                }\r\n\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() =>{setOpenImage(false)}} >\r\n              voltar\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Container>\r\n\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport * as Sentry from \"@sentry/react\";\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\nimport FacebookIcon from '@material-ui/icons/Facebook';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport AirlineSeatReclineNormalIcon from '@material-ui/icons/AirlineSeatReclineNormal';\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\n\r\n\r\nimport api from '../../services/api';\r\nimport {LoginGeral,AtualizarDispositivoUsuario, removeAcento, RedefinirSenha, identificarEstabelecimentoSelecionado} from '../../services/functions';\r\nimport './styles.css';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  rootAlert: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n  root: {\r\n    width: \"100%\",\r\n    margin: \"1em 0\",\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n}));\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\n\r\nexport default function Login(props) {\r\n  const [estabelecimentoAtual, setEstabelecimentoAtual] = useState(JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")));\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))  \r\n  const [tipoLogin, setTipoLogin] = useState( (aplicativoDados?.permiteLoginTelefone  && (aplicativoDados.loginApenasTelefone || localStorage.getItem('tipoLoginCF')) == 'apenasTelefone') ? 'apenasTelefone' : 'usuarioSenha' );\r\n  //login salvo pela tentativa de logincom token da izza com link expirado\r\n  localStorage.removeItem('tipoLoginCF')\r\n\r\n  // const [definirAcao, setDefinirAcao] = React.useState(tipoLogin ? true : false);\r\n  \r\n  //const [usuario, setUsuario] = useState('guilherme.jar@gmail.com');\r\n  const [usuario, setUsuario] = useState('');\r\n  //const [senha, setSenha] = useState('321321');\r\n  const [senha, setSenha] = useState('');\r\n\r\n  const [esqueceuSenha, setEsqueceuSenha] = useState({\"abrir\": false, \"email\": '', \"tipoRecuperacao\": 0});\r\n  const [telefone, setTelefone] = useState('');\r\n  const [smsOrWhatsapp, setSmsOrWhatsapp] = useState('');\r\n  const [CadastroTelefone, setCadastroTelefone] = useState(false);\r\n  const [telaCodigo, setTelaCodigo] = useState(false);\r\n  const [usuariosMesmoTelefone, setUsuariosMesmoTelefone] = useState({});\r\n  const [verificarUsuario, setVerificarUsuario] = useState({\"aberto\":false, \"usuario\":0});\r\n  const [acessToken, setAcessToken] = useState('');\r\n  const history = useHistory();\r\n  //LOGIN TOKEN\r\n  const search = props.location.search;\r\n  const params = new URLSearchParams(search);  \r\n  const [whats, setWhats] = useState(params.get('whats'));\r\n  const [chave, setChave] = useState(params.get('chave'));\r\n  const [lojaParams, setLojaParams] = useState(params.get('loja'));\r\n\r\n  const FacebookId = params.get('facebookId')\r\n  const FacebookEmail = params.get('facebookEmail')\r\n  const FacebookNome = params.get('facebookNome')\r\n\r\n  \r\n  const [tentativaMesa, setTentativaMesa] = useState(0)\r\n  const [tentativaIzza, setTentativaIzza] = useState(0)\r\n  const [tentativaFacebookLogin, setTentativaFacebookLogin] = useState(0)\r\n\r\n\r\n  const classes = useStyles();\r\n\r\n  \r\n\r\n  // FUNCOES\r\n  \r\n  //alerts e loading\r\n  const alertStart = (msg, tipo) => {\r\n    setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n  \r\n  const alertClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n\r\n  };\r\n\r\n  \r\n\r\n  const loginPedidoMesa = async () => {\r\n    setLoading(true)\r\n    setTentativaMesa(1)\r\n\r\n    try {\r\n\r\n      var data = {}\r\n\r\n      if(params.get('mesa')){\r\n        data = {\r\n          \"appNome\": aplicativoDados.appNome,\r\n          \"nome\": \"Mesa \" + params.get('mesa'),\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        }\r\n      }else if(params.get('comanda')){\r\n        data = {\r\n          \"appNome\": aplicativoDados.appNome,\r\n          \"nome\": \"Comanda \" + params.get('comanda'),\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        }\r\n      }\r\n\r\n      \r\n\r\n      await api.post('clientefiel/CadastrarUsuarioMesa', data, {\r\n        headers: { \"Content-Type\": \"application/json\" }\r\n      }).then(response => {\r\n       console.log('CadastrarUsuarioMesa', response)\r\n\r\n        if(typeof response.data != 'string' && !response.data.codErro > 0){\r\n          response.data.logado = true\r\n          response.data.cliente.telefone = \"\"\r\n          localStorage.setItem('usuarioCF', JSON.stringify(response.data));\r\n          response.data.cliente.nome = \"\"\r\n          localStorage.setItem('usuarioPedidoMesaCF_Date', new Date())\r\n          localStorage.setItem('usuarioPedidoMesaCF', JSON.stringify(response.data))\r\n\r\n          localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({}))\r\n          localStorage.setItem('carrinhoCF', JSON.stringify({}));\r\n          \r\n\r\n          const lojaId = params.get('loja')\r\n          aplicativoDados.estabelecimentos.forEach((loja) => {\r\n            if(loja.id == lojaId){ \r\n              localStorage.setItem(\"estabelecimentoAtualCF\", JSON.stringify(loja))\r\n            }\r\n          })\r\n          \r\n\r\n          if(localStorage.getItem(\"estabelecimentoAtualCF\")){\r\n           //console.log('buscarcarapio')\r\n            buscaCardapioInicial(response.data)\r\n          }else{\r\n            localStorage.removeItem('usuarioPedidoMesaCF')\r\n            localStorage.removeItem('usuarioCF')\r\n            localStorage.removeItem('usuarioPedidoMesaCF_Date')\r\n            setLoading(false)\r\n            alertStart(\"Nenhum estabelecimento disponivel para essa mesa\", \"error\")   \r\n          }\r\n          \r\n          //realizarLogin_UsuarioSenha(false , response.data.cliente.email, response.data.cliente.hashSenha)\r\n        }else{\r\n          setLoading(false)\r\n          alertStart(\"Houve um erro ao buscar mesa\", \"error\")\r\n        }\r\n\r\n      })\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`${aplicativoDados.appNome} - ${error} - CadastrarUsuarioMesa`);\r\n      alertStart(\"Erro inesperado ao buscar mesa\", \"error\")\r\n      setLoading(false)\r\n    }\r\n\r\n  }\r\n  function calcularValorTotal(carrinho){\r\n    \r\n    const cardapio = JSON.parse(localStorage.getItem('cardapioCF'))\r\n    // const carrinho = JSON.parse(localStorage.getItem('carrinhoCF'))\r\n    const enderecoAtual = JSON.parse(localStorage.getItem('enderecoAtualCF'))\r\n\r\n    let valorTotalItens = 0;\r\n    let valorProdutosPromocionais = 0;\r\n\r\n    carrinho.pedido.itens.forEach(item => {\r\n      valorTotalItens += item.valorProdutoHistorico      \r\n      if(item.produto.promocional){\r\n        valorProdutosPromocionais += item.valorProdutoHistorico\r\n      }\r\n    })\r\n\r\n   //console.log(\"valorProdutosPromocionais\", valorProdutosPromocionais)\r\n   //console.log(\"valorPrduto\", valorTotalItens)\r\n    \r\n    \r\n\r\n\r\n    let taxaDeEntrega = 0\r\n    if(enderecoAtual?.id !== \"retirada\" && !(valorTotalItens > cardapio.minimoEntregaGratis && cardapio.minimoEntregaGratis > 0)){ // NAO FOR RETIRADA NO LOCAL\r\n      taxaDeEntrega = carrinho.pedido.valorEntrega ? carrinho.pedido.valorEntrega : enderecoAtual.taxaEntrega ? enderecoAtual.taxaEntrega : 0\r\n    }\r\n\r\n    let valorFinalProdutos = 0;\r\n    if(cardapio.percentualDesconto && (cardapio.valorDesconto === 0 || !cardapio.valorDesconto)){\r\n      //desconto percetual - apenas em produtos nao promocionais\r\n      var descontoPercentual = ((valorTotalItens - valorProdutosPromocionais) * cardapio.percentualDesconto) / 100\r\n\r\n      //maximo que pode dar de desconto\r\n      if(cardapio.maximoDesconto && descontoPercentual > cardapio.maximoDesconto){\r\n        descontoPercentual = cardapio.maximoDesconto\r\n      }\r\n      \r\n\r\n      carrinho.percentualDescontoValor = descontoPercentual\r\n      valorFinalProdutos = ( valorTotalItens - descontoPercentual ) \r\n\r\n    }else{\r\n      //desconto fixo - apenas em produtos nao promocionais\r\n      var descontoFixo = carrinho.pedido.valorDesconto\r\n\r\n      //maximo que pode dar de desconto\r\n      if(cardapio.maximoDesconto && descontoFixo > cardapio.maximoDesconto){\r\n        descontoFixo = cardapio.maximoDesconto\r\n      }\r\n\r\n      // let produtosNaoPromocionais = valorTotalItens - valorProdutosPromocionais\r\n      // produtosNaoPromocionais -= descontoFixo      \r\n      // valorFinalProdutos = valorProdutosPromocionais + (produtosNaoPromocionais > 0 ? produtosNaoPromocionais : 0)     \r\n      valorFinalProdutos = valorTotalItens - descontoFixo   \r\n\r\n    }\r\n\r\n   //console.log(\"valorFinalProdutos\", valorFinalProdutos)\r\n    if(valorFinalProdutos < 0){\r\n      carrinho.pedido.valorTotal = taxaDeEntrega\r\n    }else{\r\n      carrinho.pedido.valorTotal = valorFinalProdutos + taxaDeEntrega\r\n    }\r\n\r\n\r\n\r\n    if(carrinho.pedido.valorTotal < 0){\r\n      carrinho.pedido.valorTotal = 0.0\r\n    }\r\n\r\n    localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinho))     \r\n\r\n\r\n  }\r\n\r\n  const adicionarEndereco = async (usuarioLogado) => {  \r\n      var resp = null;\r\n      try {\r\n        const enderecoBackUp = JSON.parse(localStorage.getItem(\"enderecoAtualCF\"))\r\n        const data = {\r\n          \"idCliente\": usuarioLogado.cliente.id,\r\n          \"idEstabelecimento\": JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))?.id,\r\n          \"cep\": enderecoBackUp.cep,\r\n          \"uf\": enderecoBackUp.uf,\r\n          \"cidade\": enderecoBackUp.cidade,\r\n          \"bairro\": enderecoBackUp.bairro,\r\n          \"logradouro\": enderecoBackUp.logradouro,\r\n          \"numero\": enderecoBackUp.numero,\r\n          \"complemento\": enderecoBackUp.complemento,\r\n          \"referencia\": enderecoBackUp.referencia,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        }\r\n        \r\n        if(enderecoBackUp.bairroEspecifico){\r\n          data.bairroEspecifico = 1\r\n        }else{\r\n          data.bairroEspecifico = 0\r\n        }\r\n        \r\n        await api.post('cliente/CadastrarEnderecoCliente', data, {\r\n          headers: { \"Content-Type\": \"application/json\" }\r\n        }).then(retorno => {\r\n          console.log('CadastrarEnderecoCliente', retorno)\r\n  \r\n          if(typeof retorno.data == 'string' ){\r\n            alertStart(\"Erro inesperado ao cadastrar endereo\", \"error\")     \r\n          }else if(!(retorno.data.codErro > 0) ){\r\n            \r\n            if(usuarioLogado.cliente && usuarioLogado.cliente.enderecos){\r\n              usuarioLogado.cliente.enderecos.push(retorno.data)\r\n              localStorage.setItem('usuarioCF', JSON.stringify(usuarioLogado))\r\n              resp = retorno.data.id\r\n            }else{\r\n              alertStart('No foi possivel cadastrar o seu endereo!', \"error\")     \r\n            }\r\n            \r\n          }else{\r\n            alertStart(retorno.data.mensagem, \"error\")     \r\n          }\r\n        })\r\n      } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`${aplicativoDados.appNome} - ${error} - CadastrarEnderecoCliente`);\r\n        alertStart(\"Algo deu errado ao adicionar endereo.\", \"error\")     \r\n      }\r\n      return resp;\r\n  }\r\n  \r\n  async function buscaCardapioInicial(usuarioLogado) {\r\n    const cardapio = JSON.parse(localStorage.getItem(\"cardapioCF\"))\r\n    try {\r\n      if(aplicativoDados.possuiDelivery === true){\r\n        // if(!cardapio || cardapio.id === \"usuarioDeslogado\" || !!JSON.parse(localStorage.getItem('usuarioPedidoMesaCF'))?.logado){\r\n          var idEndereco = null\r\n          if(!!JSON.parse(localStorage.getItem(\"enderecoAtualCF\")).bairro){\r\n            idEndereco = await adicionarEndereco(usuarioLogado);\r\n            console.log('cadastrar endereco', idEndereco)\r\n          }\r\n\r\n\r\n          let data = {\r\n            \"idCliente\": usuarioLogado.cliente.id,\r\n            \"idEstabelecimento\": localStorage.getItem('estabelecimentoAtualCF') ? JSON.parse(localStorage.getItem('estabelecimentoAtualCF')).id : usuarioLogado.estabelecimentos[0].id,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          }     \r\n\r\n\r\n          \r\n          if(idEndereco){\r\n            data.idEndereco = idEndereco\r\n          }\r\n          var response = {};\r\n          if(!!JSON.parse(localStorage.getItem('usuarioPedidoMesaCF'))?.logado){\r\n            response = await api.post('clientefiel/ObterCardapioPedidoMesa', data, {\r\n              headers: { \"Content-Type\": \"application/json\",  \"plataforma\": \"site\" }\r\n            })\r\n            console.log(\"ObterCardapioPedidoMesa\", data, response)\r\n          }else{\r\n            response = await api.post('clientefiel/ObterCardapioCompletoV1', data, {\r\n              headers: { \"Content-Type\": \"application/json\",  \"plataforma\": \"site\" }\r\n            })\r\n            console.log(\"ObterCardapioCompletoV1\", data, response)\r\n\r\n          }\r\n          \r\n          if(response.data.codErro > 0){\r\n            alertStart(response.data.mensagem, \"error\")\r\n          }else{\r\n    \r\n            const retorno = response.data\r\n            \r\n            console.log('ObterCardapioCompletoV1 retorno> ', retorno)\r\n\r\n            if(!usuarioLogado?.logado){\r\n            // if(!JSON.parse(localStorage.getItem('usuarioCF'))?.logado){\r\n              retorno.id = \"usuarioDeslogado\"\r\n            }\r\n\r\n            localStorage.setItem(\"cardapioCF\", JSON.stringify(retorno))                        \r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(( retorno?.enderecos != null && retorno?.enderecos.length > 0) ? retorno.enderecos[0] : {}))\r\n\r\n            \r\n            const carrinhoRetorno = JSON.parse(localStorage.getItem(\"carrinhoCF\")) \r\n    \r\n            carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n            carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n            carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n            carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n            carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n            carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n            carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n    \r\n            const produtosDoCarrinho = JSON.parse(localStorage.getItem('backupItensCarrinhoCF'))\r\n\r\n            carrinhoRetorno.data = new Date()\r\n            carrinhoRetorno.pedido = {\r\n              \"entregaImediata\": false,\r\n              \"formaPagamento\": {},\r\n              \"itens\": produtosDoCarrinho?.length > 0 ? produtosDoCarrinho :  [],\r\n              \"taxaEntrega\": ( retorno?.endereco != null && retorno?.endereco.length > 0) ? retorno.enderecos[0].taxaEntrega : null,\r\n              //\"tipoDesconto\": null,\r\n              \"tokenCartaoCredito\": null,\r\n              \"troco\": null,\r\n              \"valorDesconto\": carrinhoRetorno.valorDesconto,\r\n              \"valorEntrega\": null,\r\n              \"valorTotal\": 0,\r\n              \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n            }\r\n\r\n            if(produtosDoCarrinho?.length > 0){\r\n              calcularValorTotal(carrinhoRetorno)\r\n            }else{\r\n              localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno))     \r\n            }\r\n\r\n\r\n            \r\n            if(JSON.parse(localStorage.getItem('usuarioPedidoMesaCF'))?.logado || (usuarioLogado.estabelecimentos.length === 1 || (JSON.parse(localStorage.getItem('estabelecimentoAtualCF'))?.id && produtosDoCarrinho?.length > 0) || (JSON.parse(localStorage.getItem('estabelecimentoAtualCF'))?.id == lojaParams || JSON.parse(localStorage.getItem('estabelecimentoAtualCF'))?.codigo == lojaParams) ) ){\r\n              history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n            }else if(usuarioLogado.estabelecimentos.length > 1 ){\r\n              history.push(`/estabelecimento`)\r\n            }\r\n    \r\n    \r\n          }\r\n      }else{\r\n        history.push(`/fidelidade${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n      }  \r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`${aplicativoDados.appNome} - ${error} - ObterCardapio`);\r\n      alertStart(\"Erro nao identificado ObterCardapioCompletoV1\" + error, \"error\")  \r\n      console.log(error)\r\n      setLoading(false)       \r\n    }\r\n  }\r\n\r\n\r\n  \r\n  \r\n\r\n  \r\n  const [loading, setLoading] = React.useState(!!chave);\r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n\r\n\r\n  \r\n  \r\n  if(tentativaMesa === 0 && (params.get(\"mesa\") || params.get(\"comanda\"))){\r\n    loginPedidoMesa()  \r\n  }\r\n  \r\n  if(tentativaIzza === 0){\r\n    if(!!chave && !!whats){\r\n      realizarLogin_tokenizza(chave, whats)\r\n    }  \r\n  }\r\n\r\n  if(tentativaFacebookLogin === 0){\r\n    if(!!FacebookId){\r\n      realizarLogin_UsuarioSenha(null, null, null, FacebookId, FacebookEmail, FacebookNome)\r\n    }  \r\n  }\r\n\r\n  async function cadastrarUsuarioLoginTelefone(e){\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setCadastroTelefone(false)\r\n    try {\r\n      let telefoneReplace = telefone.replace(' ', '').replace('.','').replace('-','').replace('(','').replace(')','').replace('/','')\r\n      const data = {\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"nome\": document.getElementById('nomeCadastroTelefone').value,\r\n        \"telefone\": telefone,\r\n        \"dataNascimentoTexto\": '',\r\n        \"email\": '55'+telefoneReplace+\"@c.us\",\r\n        \"hashSenha\": '!@#$%semsenha\\nok?',\r\n        \"cpf\": '',\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n\r\n      /*\r\n        if(codigoIndicacao){\r\n          data.codigoAmigo = codigoIndicacao.codigo\r\n        }\r\n      */\r\n  \r\n     //console.log(\"CadastrarUsuario\", data)\r\n      await api.post('cliente/CadastrarUsuario' , data , {\r\n        headers: {\"Content-Type\": \"application/json\"}\r\n      }).then(resposta => {\r\n       //console.log(\"Cadastrar Usuario\", resposta)\r\n        if(resposta.data.codErro > 0){ // ERRO\r\n          alertStart(resposta.data.mensagem, \"error\")\r\n          setLoading(false)\r\n          return false\r\n        }else{ // DEU CERTO\r\n          alertStart(\"Seu usuario foi cadastrado corretamente!\", \"success\")\r\n          realizarLogin_UsuarioTelefone(e)\r\n          //CHAMAR LOGIN\r\n        }\r\n\r\n      });\r\n\r\n      \r\n      return true\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`${aplicativoDados.appNome} - ${error} - CadastrarUsuario`);\r\n      alertStart(\"Erro nao identificado ao cadastrar usuario por login telefone!\", \"error\") \r\n      setLoading(false)\r\n    }\r\n  }\r\n  async function realizarLogin_tokenizza(chave, whats){\r\n   //console.log(\"realizarLogin_tokenizza\")\r\n   setTentativaIzza(1)\r\n   alertStart(\"Estou tentando te conectar diretamente com o link clicado no whatsapp!\", \"warning\") \r\n    try {\r\n      const clientefiel = {\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"cliente\":{\r\n          \"email\": chave,\r\n          \"hashSenha\": chave, \r\n          \"appNome\": aplicativoDados.appNome,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        },\r\n        \"localizacao\":{\r\n          \"latitude\": \"\",\r\n          \"longitude\": \"\",\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          \"appNome\": aplicativoDados.appNome,\r\n        },\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n      \r\n\r\n      const response = await api.post('clientefiel/LoginToken', clientefiel, {\r\n        headers: {\"Content-Type\": \"application/json\"}\r\n      });\r\n      \r\n    console.log(\"loginToken\", response)\r\n      if(response.data.codErro > 0 ){   \r\n        \r\n        localStorage.setItem('tipoLoginCF', 'apenasTelefone')\r\n        console.log('loginToken', lojaParams)\r\n        if(lojaParams){\r\n          history.push(`/?loja=${lojaParams}`)\r\n        }else{\r\n          history.push(`/`)\r\n        }\r\n\r\n        \r\n        //informe o telefone para fazer login\r\n        // if(whats){\r\n        //   window.location.href = `https://api.whatsapp.com/send?phone=${whats}&text=Ola,%20tudo%20bem?%20Tentei%20conectar%20com%20acesso%20expirado,%20me%20envia%20um%20novo%20link%20do%20cardpio%20ja%20conectado?`\r\n        // }\r\n        // alertStart(response.data.mensagem, \"error\")\r\n        // setChave('')\r\n        // setWhats('')\r\n        // setDefinirAcao(false)\r\n        // setTipoLogin('apenasTelefone')\r\n        // setLoading(false)\r\n      }else{\r\n        localStorage.setItem('usuarioIzzaCF', JSON.stringify(response.data));\r\n        localStorage.setItem('usuarioCF', JSON.stringify(response.data));\r\n\r\n        if(!JSON.parse(localStorage.getItem(\"enderecoAtualCF\"))?.bairro){\r\n          localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({}))\r\n        }\r\n        \r\n        if(lojaParams){\r\n          const estabelecimentoEncontrado = response.data.estabelecimentos.filter((e) => (e.id == lojaParams || e.codigo == lojaParams))\r\n          if(estabelecimentoEncontrado.length > 0){\r\n            localStorage.setItem(\"estabelecimentoAtualCF\", JSON.stringify(estabelecimentoEncontrado[0]))\r\n          }else{\r\n            localStorage.setItem(\"estabelecimentoAtualCF\", JSON.stringify(response.data.estabelecimentos[0]))\r\n          }\r\n          \r\n        }else{\r\n          localStorage.setItem(\"estabelecimentoAtualCF\", JSON.stringify(response.data.estabelecimentos[0]))\r\n        }\r\n        \r\n\r\n        localStorage.setItem('carrinhoCF', JSON.stringify({}));\r\n\r\n        if(response.data.estabelecimentos.length > 0){\r\n          await buscaCardapioInicial(response.data)\r\n        }else{\r\n          alertStart(\"Nenhum estabelecimento disponivel nesse aplicativo\", \"error\")   \r\n        }\r\n\r\n      }\r\n    } catch (error) {        \r\n      Sentry.captureMessage(localStorage.getItem('versao')+`${aplicativoDados.appNome} - ${error} - LoginToken`);\r\n      alertStart(\"Erro nao identificado LoginToken\", \"error\")    \r\n    }   \r\n  }\r\n  \r\n  function asteriscosUsuarioLoginTelefone(recebi){\r\n    const tamanho = recebi.length\r\n    let retorno = recebi[0]\r\n    let astericos = '';\r\n    for(let i = 1; i < (tamanho-1); i++){\r\n      if(recebi[i] === '@'){\r\n        astericos += \"@\" + recebi[i+1]\r\n        i++\r\n      }else if(recebi[i] === '.'){\r\n        astericos += \".\" + recebi[i+1]\r\n        i++\r\n      }\r\n      astericos += \"*\"\r\n    }\r\n    retorno += astericos + recebi[tamanho-1]\r\n    return retorno\r\n  }\r\n\r\n  \r\n  async function verificarTokenLoginTelefone(codigo) {\r\n    \r\n    try {\r\n\r\n      alertClose()\r\n\r\n      if(codigo !== acessToken){\r\n        alertStart(\"Cdigo invalido!\", \"error\")\r\n        setTelaCodigo(false)\r\n        return false\r\n      }\r\n\r\n      setLoading(true)\r\n\r\n      const data = {\r\n        \"idCliente\": -1,\r\n        \"appName\": aplicativoDados.appNome,\r\n        \"telefone\": telefone,\r\n        \"codigoAcesso\": codigo,\r\n      }\r\n\r\n      api.post('clientefiel/oauth/Autenticar' , data , {\r\n        headers: {\"Content-Type\": \"application/json\"}\r\n      }).then(resposta => {\r\n\r\n        if(resposta.data.codErro > 0){ // ERRO\r\n          alertStart(resposta.data.mensagem, \"error\")\r\n          return false\r\n        }else{ // DEU CERTO  \r\n\r\n          \r\n\r\n          //Existe outros usuarios\r\n          if(resposta.data.length > 1){            \r\n            setTelaCodigo(false)\r\n            setUsuariosMesmoTelefone(resposta.data)\r\n            setLoading(false)  \r\n            alertStart(\"Existem outros usuarios com mesmo telefone! Identifique o seu usurio.\", \"warning\")\r\n          }else{\r\n            realizarLogin_UsuarioSenha(null, resposta.data[0].email, resposta.data[0].hashSenha)\r\n            \r\n            //fazendo Login\r\n            /*setUsuarioLogado(resposta.data[0])\r\n            localStorage.setItem('usuarioCF', JSON.stringify(resposta.data[0]));\r\n            localStorage.setItem(\"enderecoAtualCF\", '{}')\r\n            localStorage.setItem(\"estabelecimentoAtualCF\", JSON.stringify(resposta.data[0].estabelecimentos[0]))\r\n            localStorage.setItem('carrinhoCF', '{}');\r\n\r\n            if(resposta.data[0].estabelecimentos.length > 0){\r\n              buscaCardapioInicial(resposta.data[0])\r\n            }else{\r\n              alertStart(\"Nenhum estabelecimento disponivel para esse usuario\", \"error\")   \r\n            }*/\r\n          }\r\n        }    \r\n\r\n      });\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions verificarTokenLoginTelefone ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")   \r\n    }\r\n  }\r\n\r\n  async function realizarLogin_UsuarioTelefone(e) {\r\n    \r\n    try {\r\n      e.preventDefault()\r\n    \r\n      if(!(telefone.length >= 10 && telefone.length <= 11)){\r\n        alertStart(\"Seu telefone esta incompleto, verifique se voc digitou o DDD e o digito 9!\", \"warning\")\r\n        document.getElementById('telefone').focus()\r\n        return false\r\n      }   \r\n      \r\n      setLoading(true)\r\n\r\n      const data = {\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"cliente\":{\r\n          \"telefone\": telefone,\r\n          \"appNome\": aplicativoDados.appNome,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        },\r\n        \"localizacao\":{\r\n          \"latitude\": \"\",\r\n          \"longitude\": \"\",\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          \"appNome\": aplicativoDados.appNome,\r\n        },\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n\r\n      //AJAX ENVIAR CONDIGO\r\n      let urlEnviarCodigo = ''\r\n      if(smsOrWhatsapp === 'WHATSAPP'){\r\n        urlEnviarCodigo = 'clientefiel/oauth/GerarChaveTelefoneWhatsApp'\r\n      }else if(smsOrWhatsapp === 'SMS'){\r\n        urlEnviarCodigo = 'clientefiel/oauth/GerarChaveTelefoneSms'\r\n      }\r\n      \r\n\r\n      api.post(urlEnviarCodigo , data , {\r\n        headers: {\"Content-Type\": \"application/json\", \"Plataforma\": \"Site\"}\r\n      }).then(resposta => { \r\n       //console.log('respostaa', resposta, data, urlEnviarCodigo)\r\n        if(resposta.data.codErro > 0){ // ERRO\r\n          alertStart(resposta.data.mensagem, \"error\")\r\n          setLoading(false) \r\n          \r\n          if(resposta.data.mensagem === \"Usurio no encontrado\") setCadastroTelefone(true)\r\n          return false\r\n        }else{ // DEU CERTO              \r\n          setAcessToken(resposta.data.access_token)      \r\n          alertStart(`Cdigo de verificao foi enviado por ${smsOrWhatsapp}!`, \"success\")   \r\n          setTelaCodigo(true)   \r\n          setLoading(false)   \r\n        }\r\n        \r\n         \r\n\r\n      });\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions realizarLogin_UsuarioTelefone ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")   \r\n    }\r\n  }\r\n\r\n\r\n  \r\n  async function realizarLogin_UsuarioSenha(e = false, usuarioVerificado, senhaVerificado, facebookId = null, facebookEmail = null, facebookNome = null) {\r\n    \r\n    try {\r\n      if(e){\r\n        e.preventDefault();\r\n      }\r\n  \r\n      // os 2 parametros: usuarioVerificado e senhaVerificado\r\n      // so para usuarios que conectao por telefone, apenas reutilizei essa funcao para nao criar outra\r\n  \r\n      setLoading(true)\r\n      let clientefiel = {\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"cliente\":{\r\n          \"appNome\": aplicativoDados.appNome,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        },\r\n        \"localizacao\":{\r\n          \"latitude\": \"\",\r\n          \"longitude\": \"\",\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          \"appNome\": aplicativoDados.appNome,\r\n        },\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n\r\n      if(!facebookId && (facebookEmail || facebookNome)){\r\n        // login facebook sem id\r\n        alertStart(\"Seu Facebook no permite esse tipo de login!\", \"wharning\")\r\n\r\n        return false\r\n      }else if(facebookId){\r\n        //LOGIN FACEBOOK\r\n        setTentativaFacebookLogin(1)\r\n        clientefiel.cliente.email = facebookEmail ? facebookEmail : `${facebookId}@facebook.com.br`\r\n        clientefiel.cliente.facebookId = facebookId\r\n        clientefiel.cliente.nome = facebookNome ? facebookNome : \"Nome No Identificado\"\r\n      }else if(usuarioVerificado || usuario){\r\n        //LOGIN NORMAL\r\n        if(!usuarioVerificado && usuario.length < 10){\r\n          setLoading(false)\r\n          alertStart(\"Email ou telefone incorreto!\", \"warning\")\r\n          return false\r\n        }\r\n        clientefiel.cliente.email = usuarioVerificado ? usuarioVerificado : usuario\r\n        clientefiel.cliente.hashSenha = senhaVerificado ? senhaVerificado : senha\r\n      }else{\r\n        setLoading(false)\r\n        alertStart(\"Funo chamada incorretamente\", \"warning\")\r\n        return false\r\n      }\r\n\r\n      const response = await LoginGeral(clientefiel, aplicativoDados)\r\n      \r\n      console.log(\"LoginGeral\", response)\r\n      if(response.retornoErro){\r\n        alertStart(response.mensagem, \"error\")\r\n        setLoading(false)\r\n      }else{\r\n        \r\n        if(localStorage.getItem('tokenNotificationFirebase')){\r\n          if( response.cliente.codigoDispositivo !== localStorage.getItem('tokenNotificationFirebase' )){\r\n            response.cliente.codigoDispositivo = localStorage.getItem('tokenNotificationFirebase')\r\n            response.cliente.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n            AtualizarDispositivoUsuario(response.cliente, aplicativoDados)\r\n          }\r\n        }\r\n\r\n        localStorage.setItem('usuarioCF', JSON.stringify(response));\r\n        \r\n        if(!JSON.parse(localStorage.getItem(\"enderecoAtualCF\"))?.bairro){\r\n          localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({}))\r\n        }\r\n\r\n        if(!localStorage.getItem(\"estabelecimentoAtualCF\")){\r\n          localStorage.setItem(\"estabelecimentoAtualCF\", JSON.stringify(response.estabelecimentos[0]))\r\n        }\r\n        \r\n        \r\n        localStorage.setItem('carrinhoCF', JSON.stringify({}));\r\n\r\n        if(response.estabelecimentos.length > 0){\r\n          await buscaCardapioInicial(response)\r\n        }else{\r\n          alertStart(\"Nenhum estabelecimento disponivel para esse usuario\", \"error\")   \r\n        }\r\n      }\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions LoginGeral - ${aplicativoDados.appNome} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\") \r\n      setLoading(false)       \r\n    }\r\n  }\r\n\r\n\r\n\r\n  async function recuperarSenha(){\r\n\r\n    try {\r\n      const dadoDigitado = document.getElementById(\"esqueceuSenhaCampo\").value\r\n    //console.log(\"dadoDigitado\", dadoDigitado)\r\n      if( esqueceuSenha.tipoRecuperacao === 0 && !(dadoDigitado.includes(\"@\") && dadoDigitado.includes(\".\")) ){\r\n        //SEM PADRAO DE EMAIL\r\n        alertStart(\"Informe um email vlido.\", \"error\")\r\n        document.getElementById('esqueceuSenhaCampo').focus()                   \r\n      }else if(esqueceuSenha.tipoRecuperacao === 2 && !(dadoDigitado.length >= 10 && dadoDigitado.length <= 11) ){\r\n        //SEM PADRAO TELEFONE WHATSAPP\r\n        alertStart(\"Seu telefone esta incompleto, verifique se voc digitou o DDD e o digito 9!\", \"warning\")\r\n        document.getElementById('esqueceuSenhaCampo').focus()    \r\n      }else{\r\n\r\n        /*\r\n\r\n          ENVIANDO CODIGO NOVA SENHA\r\n          existe 3 tipos de recuperao de senha\r\n\r\n          - 0 email\r\n          - 1 sms\r\n          - 2 whatsapp\r\n\r\n        */\r\n        setEsqueceuSenha({\"abrir\": false, \"email\": esqueceuSenha.email, \"tipoEsqueceu\": 0})\r\n        setLoading(true)\r\n\r\n        let data = {}\r\n\r\n        if(esqueceuSenha.tipoRecuperacao == 0){\r\n          data = {\r\n            \"appNome\": aplicativoDados.appNome,\r\n            \"email\": esqueceuSenha.email,\r\n            \"tipoVerificacao\": esqueceuSenha.tipoRecuperacao,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          } \r\n        }else{\r\n          data = {\r\n            \"appNome\": aplicativoDados.appNome,\r\n            \"telefone\": esqueceuSenha.email,\r\n            \"tipoVerificacao\": esqueceuSenha.tipoRecuperacao,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          } \r\n        }\r\n        \r\n        const response = await RedefinirSenha(data, aplicativoDados)\r\n    \r\n        if(response.retornoErro){\r\n          //algum erro\r\n          alertStart(response.mensagem, \"error\")\r\n        }else{ \r\n          //tudo certo\r\n          alertStart(response.mensagem, \"success\")\r\n        }\r\n        setLoading(false)\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions recuperarSenha ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n\r\n\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n\r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n      <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n        <Alert onClose={alertClose} severity={alert.tipo}>\r\n          {alert.mesangem}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n\r\n      <CssBaseline />\r\n            \r\n      \r\n\r\n\r\n      <div className={classes.paper}>\r\n           \r\n        <img src={aplicativoDados.urlLogo} style={{\"height\": \"150px\"}} alt=\"\" />\r\n      \r\n            <Typography component=\"h1\" variant=\"h5\" className=\"mt-3\">\r\n              {telaCodigo ? `Verifique o Cdigo Enviado Por ${smsOrWhatsapp}` : \"Conectar ao Usurio\"}\r\n            </Typography>\r\n\r\n            {\r\n              // INICIO LOGIN COMUM usuario e senha\r\n              tipoLogin === 'usuarioSenha'\r\n              &&  \r\n              (<form className={classes.form, \"container\"} onSubmit={realizarLogin_UsuarioSenha}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                onChange={e => {\r\n                  setUsuario((e.target.value).replace(/ /, ''))\r\n                }}\r\n                id=\"usuario\"\r\n                value={usuario}\r\n                label=\"Email ou Telefone\"\r\n                name=\"usuario\"\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                value={senha}\r\n                onChange={e => setSenha(e.target.value)}\r\n                name=\"senha\"\r\n                label=\"Senha\"\r\n                type=\"password\"\r\n                id=\"senha\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Entrar\r\n              </Button>\r\n\r\n              {estabelecimentoAtual?.possuiPedidoMesa? <Button\r\n                type=\"button\"\r\n                fullWidth\r\n                onClick={() => {\r\n                  history.push(\"conectar-mesa\")\r\n                }}\r\n                variant=\"contained\"\r\n                style={{\"margin\": \"0 0 1em 0\", \"background\":\"#3c3c3c\", \"color\":\"white\"}}\r\n              >\r\n                <AirlineSeatReclineNormalIcon/>  Conectar na mesa\r\n              </Button> : null} \r\n\r\n              <Button\r\n                type=\"button\"\r\n                fullWidth\r\n                onClick={() => {\r\n                  setLoading(true)\r\n                  window.location.href = `https://delivery.pedidosite.com.br/login/loginUnificado?urlLogo=${aplicativoDados.urlLogo}&urlDominio=${(aplicativoDados.urlAcesso).replace(\"www.\",'')}&facebookApplicationId=&corFundo=${aplicativoDados.corSitePrimaria}&corSecundaria=${aplicativoDados.corSiteSecundaria}&imgFundo=null`\r\n                }}\r\n                variant=\"contained\"\r\n                style={{\"margin\": \"0 0 1em 0\", \"background\":\"#3a5593\", \"color\":\"white\"}}\r\n              >\r\n                <FacebookIcon/>  Entrar Com Facebook\r\n              </Button>\r\n              \r\n              {\r\n                aplicativoDados.permiteLoginTelefone \r\n                ? <Button\r\n                    type=\"button\"\r\n                    fullWidth\r\n                    onClick={() => {\r\n                      setTipoLogin('apenasTelefone')\r\n                    }}\r\n                    variant=\"contained\"\r\n                    style={{\"margin\": \"0 0 1em 0\", \"background\":\"#24cc63\", \"color\":\"white\"}}\r\n                  >\r\n                    <WhatsAppIcon/>  Entrar Com Whatsapp\r\n                  </Button>\r\n                : null\r\n              }\r\n              \r\n              \r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link to=\"#\" onClick={((e) =>{\r\n                    setEsqueceuSenha({\"abrir\": true, \"email\": '', \"tipoRecuperacao\": 0})\r\n                  })} variant=\"body2\" style={{\"color\":`${aplicativoDados.corSitePrimaria}`}}>\r\n                    Esqueci senha\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link to={`/cadastro${identificarEstabelecimentoSelecionado(aplicativoDados)}`} variant=\"body2\" style={{\"color\":`${aplicativoDados.corSitePrimaria}`}}>\r\n                    {\"Cadastrar usurio\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              { ( aplicativoDados.inicioTelaLogin === false && aplicativoDados.estabelecimentos.length > 1) ?\r\n                <Button\r\n                  type=\"button\"\r\n                  fullWidth\r\n                  style={{\"color\":`${aplicativoDados.corSitePrimaria}`}}\r\n                  onClick={() => {\r\n                    history.push(`/lojas`)\r\n                  }}\r\n                >\r\n                  Ver Lojas\r\n                </Button>\r\n                : null\r\n              }\r\n\r\n              <Dialog\r\n                  open={esqueceuSenha.abrir}\r\n                  aria-labelledby=\"esqueceuSenha\">\r\n                  <DialogTitle id=\"esqueceuSenha\">{\"Esqueceu Sua Senha?\"}</DialogTitle>\r\n\r\n\r\n                  <DialogContent>\r\n\r\n                    \r\n                  <Select \r\n                      fullWidth\r\n                      variant=\"outlined\"\r\n                      onChange={(e) => {setEsqueceuSenha({\"abrir\": true, \"email\": esqueceuSenha.email, \"tipoRecuperacao\": e.target.value})}}\r\n                      defaultValue={esqueceuSenha.tipoRecuperacao} \r\n                      id=\"selectRecuperacao\">\r\n                    <MenuItem value={0}>{\"Email\"}</MenuItem>\r\n                    <MenuItem value={2}>{\"Whatsapp\"}</MenuItem>\r\n                  </Select>\r\n                  \r\n                    {\r\n                      esqueceuSenha.tipoRecuperacao === 0 \r\n                      ? \r\n                      (<TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        onChange={(e) =>{setEsqueceuSenha({\"abrir\": true, \"email\": e.target.value, \"tipoRecuperacao\": esqueceuSenha.tipoRecuperacao})}}\r\n                        value={esqueceuSenha.email}\r\n                        id=\"esqueceuSenhaCampo\"\r\n                        label=\"Email do usurio\"\r\n                        name=\"esqueceuSenhaCampo\"\r\n                        type=\"email\"\r\n                        autoFocus\r\n                      />)\r\n                      :\r\n                      (<TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        onChange={(e) =>{setEsqueceuSenha({\"abrir\": true, \"email\": e.target.value, \"tipoRecuperacao\": esqueceuSenha.tipoRecuperacao})}}\r\n                        value={esqueceuSenha.email}\r\n                        id=\"esqueceuSenhaCampo\"\r\n                        label=\"Telefone do usurio\"\r\n                        name=\"esqueceuSenhaCampo\"\r\n                        type=\"number\"\r\n                        autoFocus\r\n                      />)\r\n                    }\r\n                  </DialogContent>\r\n\r\n                  <DialogActions>\r\n                    \r\n                    <Button onClick={(e) => {setEsqueceuSenha({\"abrir\": false, \"email\": '', \"tipoRecuperacao\": 0})}} style={{\"color\":\"#dc3545\"}}>\r\n                      Cancelar\r\n                    </Button>\r\n                    <Button onClick={() => {recuperarSenha()}} style={{\"color\": \"white\", \"backgroundColor\":\"#28a745\"}}>\r\n                      Recuperar Senha\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n            </form>)\r\n        }\r\n\r\n        \r\n\r\n        {     \r\n          // INICIO LOGIN POR WHATSAPP\r\n          tipoLogin === 'apenasTelefone' && !(usuariosMesmoTelefone.length > 0)  &&\r\n          (       \r\n            <form className={classes.form, \"container\"} onSubmit={realizarLogin_UsuarioTelefone}>              \r\n              { \r\n                //DIGITA O TELEFONE\r\n                !telaCodigo && \r\n                (<>\r\n                  \r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      required\r\n                      fullWidth\r\n                      onChange={e => setTelefone(e.target.value)}\r\n                      id=\"telefone\"\r\n                      value={telefone}\r\n                      label=\"Telefone\"\r\n                      name=\"telefone\"\r\n                      type=\"number\"\r\n                      autoFocus\r\n                    />\r\n\r\n                    \r\n\r\n\r\n                    <Button\r\n                      fullWidth\r\n                      type=\"submit\"\r\n                      onClick={() => {setSmsOrWhatsapp('WHATSAPP')}}\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      style={{\"background\": \"#28a745\"}}\r\n                    >\r\n                      Whatsapp\r\n                    </Button>\r\n\r\n\r\n                    <Grid container>\r\n                      <Grid item>\r\n                        <Typography onClick={() => {\r\n                          setTipoLogin('usuarioSenha')\r\n                          }}  style={{\"cursor\": \"pointer\", \"color\":`${aplicativoDados.corSitePrimaria}`}}>\r\n                          {\"Outras Opes\"}\r\n                        </Typography>\r\n                      </Grid>\r\n                    </Grid>\r\n\r\n\r\n                    {/* <Button\r\n                      fullWidth\r\n                      type=\"submit\"\r\n                      onClick={() => {setSmsOrWhatsapp('SMS')}}\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      style={{\"background\": \"#6c757d\"}}\r\n                    >\r\n                      SMS\r\n                    </Button> */}\r\n                </>) \r\n              }   \r\n\r\n              {\r\n                //DIGITA O CDIGO\r\n                telaCodigo\r\n                &&\r\n                (<><TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  onChange={e => {\r\n                    if(e.target.value.length === 6){\r\n                      verificarTokenLoginTelefone(e.target.value)\r\n                    }\r\n\r\n                  }}\r\n                  id=\"CodigoVerificacao\"\r\n                  label=\"Codigo de Verificao\"\r\n                  name=\"CodigoVerificacao\"\r\n                  type=\"number\"\r\n                  autoFocus\r\n                />\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <Link to='#' onClick={() => {setTelaCodigo(false)}} variant=\"body2\" style={{\"color\":`${aplicativoDados.corSitePrimaria}`}}>\r\n                      Editar telefone\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n                </>) \r\n              }     \r\n\r\n              <Dialog\r\n                open={CadastroTelefone}\r\n                aria-labelledby=\"cadastrarLoginTelefone\">\r\n                <DialogTitle id=\"cadastrarLoginTelefone\">{\"Cadastrar Usuario\"}</DialogTitle>\r\n\r\n\r\n                <DialogContent>\r\n                  <TextField\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"nomeCadastroTelefone\"\r\n                      label=\"Nome\"\r\n                      name=\"nomeCadastroTelefone\"\r\n                      autoFocus\r\n                    />\r\n                  <TextField\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      required\r\n                      fullWidth\r\n                      onChange={e => setTelefone(e.target.value)}\r\n                      id=\"telefone\"\r\n                      value={telefone}\r\n                      label=\"Telefone\"\r\n                      name=\"telefone\"\r\n                      type=\"number\"\r\n                    />\r\n\r\n                </DialogContent>\r\n\r\n                <DialogActions>\r\n                  \r\n                  <Button onClick={(e) => {setCadastroTelefone(false)}}>\r\n                    Cancelar\r\n                  </Button>\r\n                  <Button onClick={cadastrarUsuarioLoginTelefone}>\r\n                    Cadastrar\r\n                  </Button>\r\n                </DialogActions>\r\n              </Dialog>     \r\n            </form>  \r\n            \r\n          )           \r\n        }\r\n              \r\n        {\r\n          // FIM INICIO POR WHATSAPP\r\n          usuariosMesmoTelefone.length > 0\r\n          &&\r\n          (<>\r\n            {\r\n              usuariosMesmoTelefone.map((usuario, index) => (              \r\n                <Card key={usuario.id} className={classes.root}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h5\" component=\"h2\">\r\n                      { \r\n                        asteriscosUsuarioLoginTelefone(usuario.nome)\r\n                      }\r\n                    </Typography>\r\n                    <Typography className={classes.pos} color=\"textSecondary\">\r\n                      {asteriscosUsuarioLoginTelefone(usuario.email)}\r\n                    </Typography>                 \r\n                  </CardContent>\r\n                  <CardActions>\r\n                    <Button size=\"small\" onClick={() => {\r\n                      setVerificarUsuario({\"aberto\": true, \"usuario\":index})\r\n                      \r\n                    }}>Este Usurio</Button>\r\n                  </CardActions>\r\n                </Card>\r\n              ))\r\n            }\r\n            <Dialog\r\n              open={verificarUsuario.aberto}\r\n              aria-labelledby=\"verificarUsuario\">\r\n              <DialogTitle id=\"verificarUsuario\">{\"Verificar Usuario\"}</DialogTitle>\r\n\r\n\r\n              <DialogContent>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"verificarUsuarioDigitado\"\r\n                  label=\"Digite o nome do usurio\"\r\n                  name=\"verificarUsuarioDigitado\"\r\n                  type=\"text\"\r\n                  autoFocus\r\n                />\r\n              </DialogContent>\r\n\r\n              <DialogActions>\r\n                <Button onClick={(e) => {\r\n\r\n                  const digitou = removeAcento(((document.getElementById(\"verificarUsuarioDigitado\").value).replace(/ /, '')).toLocaleLowerCase())\r\n                  const nomeCorreto = removeAcento(((usuariosMesmoTelefone[verificarUsuario.usuario].nome).replace(/ /, '')).toLocaleLowerCase())\r\n\r\n                  if(digitou === nomeCorreto){\r\n                    // acertou\r\n                    realizarLogin_UsuarioSenha(e, usuariosMesmoTelefone[verificarUsuario.usuario].email, usuariosMesmoTelefone[verificarUsuario.usuario].hashSenha)\r\n                    setVerificarUsuario({\"aberto\": false, \"usuario\":0})\r\n                    setLoading(true)\r\n                  }else{\r\n                    //erro\r\n                    alertStart(`Desculpe voc digitou errado!`, \"error\") \r\n                    setVerificarUsuario({\"aberto\": false, \"usuario\":0})\r\n                    setTelefone('')\r\n                    setUsuariosMesmoTelefone({})\r\n                  }\r\n                  \r\n                }} style={{\"color\": \"white\",\"backgroundColor\":\"#28a745\"}}>\r\n                  Verificar\r\n                </Button>\r\n              </DialogActions>\r\n            </Dialog>\r\n          </>)\r\n        }         \r\n      </div>\r\n    </Container>\r\n\r\n\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport * as Sentry from \"@sentry/react\";\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport {\r\n  CadastrarUsuario,\r\n  AtualizarDispositivoUsuario,\r\n  ObterCardapioCompletoV1,\r\n  LoginGeral,\r\n  identificarEstabelecimentoSelecionado,\r\n  CadastrarEnderecoCliente,\r\n} from '../../services/functions';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport api from '../../services/api';\r\n\r\nimport './styles.css';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  rootAlert: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\n\r\nexport default function Login(props) {\r\n\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))  \r\n  \r\n  \r\n  const [nome, setNome] = useState('');\r\n  const [senha, setSenha] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [telefone, setTelefone] = useState('');\r\n  const [confirmarSenha, setConfirmarSenha] = useState('');\r\n  const [estabelecimentoAtual, setEstabelecimentoAtual] = useState(JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")));\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const search = props.location.search;\r\n  const params = new URLSearchParams(search);\r\n  const [codigoIndicacao, setCodigoIndicacao] = React.useState({\"abrir\": false, \"codigo\": params.get('codigoAmigo') ? params.get('codigoAmigo') : \"\" });\r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n\r\n\r\n\r\n  const cadastrarUsuario = async (e) =>{\r\n    try {\r\n      e.preventDefault()\r\n      //console.log(\"cadastrarUsuario\", cadastrarUsuario)\r\n\r\n      let telefoneReplace = telefone.replace(' ', '').replace('.','').replace('-','').replace('(','').replace(')','').replace('/','')\r\n      \r\n      if(telefoneReplace.charAt(0) == \"0\"){\r\n        telefoneReplace = telefoneReplace.substring(1)\r\n      }\r\n\r\n      \r\n      \r\n      if(senha.length < 6){\r\n        alertStart(\"Sua senha deve conter no minimo 6 caracteres!\", \"warning\")\r\n        return false\r\n      }else if(confirmarSenha !== senha){\r\n        alertStart(\"Senhas digitadas no so compativeis!\", \"warning\")      \r\n        return false\r\n      }else if(!(telefoneReplace.length >= 10 && telefoneReplace.length <= 11)){\r\n        alertStart(\"Seu telefone esta incompleto, verifique se voc digitou o DDD e o digito 9!\", \"warning\")\r\n        return false\r\n      }\r\n\r\n      setLoading(true)\r\n\r\n      //ENVIAR CADASTRO\r\n      \r\n      const data = {\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"nome\": nome,\r\n        \"telefone\": telefone,\r\n        \"dataNascimentoTexto\": '',\r\n        \"email\": email ? email : '55'+telefoneReplace+\"@c.us\",\r\n        \"hashSenha\": senha,\r\n        \"cpf\": '',\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n\r\n      if(codigoIndicacao){\r\n        data.codigoAmigo = codigoIndicacao.codigo\r\n      }\r\n  \r\n      //console.log(\"CadastrarUsuario\", data)\r\n\r\n      const response = await CadastrarUsuario(data, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(email === \"\" ? response.mensagem.replace(\"email\", \"telefone\") : response.mensagem, \"error\")\r\n        setLoading(false)\r\n        return false\r\n      }else{ \r\n        //tudo certo\r\n\r\n        if(aplicativoDados.pixelFacebook){\r\n            ReactPixel.track('CompleteRegistration')\r\n        }\r\n\r\n        alertStart(\"Seu usuario foi cadastrado corretamente! Aguarde o login automatico.\", \"success\")\r\n        realizarLogin_UsuarioSenha(response.email, response.hashSenha)\r\n        //CHAMAR LOGIN\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions CadastrarUsuario ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \" + error.message, \"error\")  \r\n        setLoading(false)\r\n    }\r\n    return true\r\n  }\r\n\r\n  function calcularValorTotal(carrinho){\r\n    \r\n    const cardapio = JSON.parse(localStorage.getItem('cardapioCF'))\r\n    const enderecoAtual = JSON.parse(localStorage.getItem('enderecoAtualCF'))\r\n\r\n    let valorTotalItens = 0;\r\n    let valorProdutosPromocionais = 0;\r\n\r\n    carrinho.pedido.itens.forEach(item => {\r\n      valorTotalItens += item.valorProdutoHistorico      \r\n      if(item.produto.promocional){\r\n        valorProdutosPromocionais += item.valorProdutoHistorico\r\n      }\r\n    })\r\n\r\n    //console.log(\"valorProdutosPromocionais\", valorProdutosPromocionais)\r\n    //console.log(\"valorPrduto\", valorTotalItens)\r\n    \r\n    \r\n\r\n\r\n    let taxaDeEntrega = 0\r\n    if(enderecoAtual?.id !== \"retirada\" && !(valorTotalItens > cardapio.minimoEntregaGratis && cardapio.minimoEntregaGratis > 0)){ // NAO FOR RETIRADA NO LOCAL\r\n      taxaDeEntrega = carrinho.pedido.valorEntrega ? carrinho.pedido.valorEntrega : enderecoAtual.taxaEntrega ? enderecoAtual.taxaEntrega : 0\r\n    }\r\n\r\n    let valorFinalProdutos = 0;\r\n    if(cardapio.percentualDesconto && (cardapio.valorDesconto === 0 || !cardapio.valorDesconto)){\r\n      //desconto percetual - apenas em produtos nao promocionais\r\n      var descontoPercentual = ((valorTotalItens - valorProdutosPromocionais) * cardapio.percentualDesconto) / 100\r\n\r\n      //maximo que pode dar de desconto\r\n      if(cardapio.maximoDesconto && descontoPercentual > cardapio.maximoDesconto){\r\n        descontoPercentual = cardapio.maximoDesconto\r\n      }\r\n      \r\n\r\n      carrinho.percentualDescontoValor = descontoPercentual\r\n      valorFinalProdutos = ( valorTotalItens - descontoPercentual ) \r\n\r\n    }else{\r\n      //desconto fixo - apenas em produtos nao promocionais\r\n      var descontoFixo = carrinho.pedido.valorDesconto\r\n\r\n      //maximo que pode dar de desconto\r\n      if(cardapio.maximoDesconto && descontoFixo > cardapio.maximoDesconto){\r\n        descontoFixo = cardapio.maximoDesconto\r\n      }\r\n\r\n      // let produtosNaoPromocionais = valorTotalItens - valorProdutosPromocionais\r\n      // produtosNaoPromocionais -= descontoFixo      \r\n      // valorFinalProdutos = valorProdutosPromocionais + (produtosNaoPromocionais > 0 ? produtosNaoPromocionais : 0)   \r\n      valorFinalProdutos = valorTotalItens - descontoFixo   \r\n\r\n    }\r\n\r\n    //console.log(\"valorFinalProdutos\", valorFinalProdutos)\r\n    if(valorFinalProdutos < 0){\r\n      carrinho.pedido.valorTotal = taxaDeEntrega\r\n    }else{\r\n      carrinho.pedido.valorTotal = valorFinalProdutos + taxaDeEntrega\r\n    }\r\n\r\n\r\n\r\n    if(carrinho.pedido.valorTotal < 0){\r\n      carrinho.pedido.valorTotal = 0.0\r\n    }\r\n\r\n    localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinho))     \r\n\r\n  }\r\n\r\n  const adicionarEndereco = async (usuarioLogado) => {  \r\n    var resp = null;\r\n\r\n    try {\r\n      const enderecoBackUp = JSON.parse(localStorage.getItem(\"enderecoAtualCF\"))\r\n      const data = {\r\n        \"idCliente\": usuarioLogado.cliente.id,\r\n        \"idEstabelecimento\": JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))?.id ? JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))?.id  : null,\r\n        \"cep\": enderecoBackUp.cep,\r\n        \"uf\": enderecoBackUp.uf,\r\n        \"cidade\": enderecoBackUp.cidade,\r\n        \"bairro\": enderecoBackUp.bairro,\r\n        \"logradouro\": enderecoBackUp.logradouro,\r\n        \"numero\": enderecoBackUp.numero,\r\n        \"complemento\": enderecoBackUp.complemento,\r\n        \"referencia\":  enderecoBackUp.referencia,\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n\r\n      if(enderecoBackUp.bairroEspecifico){\r\n        data.bairroEspecifico = 1\r\n      }else{\r\n        data.bairroEspecifico = 0\r\n      }\r\n\r\n      const response = await CadastrarEnderecoCliente(data, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n      }else{ \r\n        //tudo certo\r\n        usuarioLogado.cliente.enderecos.push(response)\r\n        localStorage.setItem('usuarioCF', JSON.stringify(usuarioLogado))\r\n        resp = response.id\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions CadastrarEnderecoCliente ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro CadastrarEnderecoCliente: \"+error.message, \"error\")    \r\n    }\r\n    return resp\r\n  }\r\n\r\n  async function buscaCardapioInicial(usuarioLogado) {\r\n    try {\r\n      const cardapio = JSON.parse(localStorage.getItem(\"cardapioCF\"))\r\n      if(aplicativoDados.possuiDelivery === true){\r\n        if(!cardapio || cardapio.id === \"usuarioDeslogado\"){\r\n          \r\n          var idEndereco = null\r\n          if(!!JSON.parse(localStorage.getItem(\"enderecoAtualCF\")).bairro){\r\n            idEndereco = await adicionarEndereco(usuarioLogado);\r\n            console.log('cadastrar endereco', idEndereco)\r\n          }\r\n\r\n          let data = {\r\n            \"idCliente\": usuarioLogado.cliente.id,\r\n            \"idEstabelecimento\": localStorage.getItem('estabelecimentoAtualCF') ? JSON.parse(localStorage.getItem('estabelecimentoAtualCF')).id : usuarioLogado.estabelecimentos[0].id,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          }      \r\n          \r\n          if(idEndereco){\r\n            data.idEndereco = idEndereco\r\n          }\r\n\r\n          const response = await ObterCardapioCompletoV1(data, aplicativoDados)\r\n  \r\n          if(response.retornoErro){\r\n            //algum erro\r\n            alertStart(response.mensagem, \"error\")\r\n          }else{ \r\n            //tudo certo\r\n            const retorno = response\r\n      \r\n              localStorage.setItem(\"cardapioCF\", JSON.stringify(retorno))                        \r\n              localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(!!retorno.enderecos[0] ? retorno.enderecos[0] : {}))\r\n      \r\n              const carrinhoRetorno = JSON.parse(localStorage.getItem(\"carrinhoCF\")) \r\n      \r\n              carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n              carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n              carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n              carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n              carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n              carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n              carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n\r\n              const produtosDoCarrinho = JSON.parse(localStorage.getItem('backupItensCarrinhoCF'))\r\n              localStorage.removeItem('backupItensCarrinhoCF')\r\n              carrinhoRetorno.pedido = {\r\n                \"entregaImediata\": false,\r\n                \"formaPagamento\": {},\r\n                \"itens\": produtosDoCarrinho?.length > 0 ? produtosDoCarrinho :  [],\r\n                \"taxaEntrega\": !!retorno.enderecos[0] ? retorno.enderecos[0].taxaEntrega : null,\r\n                //\"tipoDesconto\": null,\r\n                \"tokenCartaoCredito\": null,\r\n                \"troco\": null,\r\n                \"valorDesconto\": carrinhoRetorno.valorDesconto,\r\n                \"valorEntrega\": null,\r\n                \"valorTotal\": 0,\r\n                \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n              }\r\n              localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno))     \r\n      \r\n              if(produtosDoCarrinho?.length > 0){\r\n                calcularValorTotal(carrinhoRetorno)\r\n              }\r\n              \r\n              if(usuarioLogado.estabelecimentos.length === 1 || (JSON.parse(localStorage.getItem('estabelecimentoAtualCF'))?.id && produtosDoCarrinho?.length > 0)){\r\n                history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n              }else if(usuarioLogado.estabelecimentos.length > 1 ){\r\n                history.push(`/estabelecimento`)\r\n              }\r\n          }\r\n        \r\n        }else{\r\n          history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n        }\r\n      }else{\r\n        history.push(`/fidelidade${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n      }  \r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions adicionarEndereco ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro adicionarEndereco: \"+error.message, \"error\")\r\n        setLoading(false)        \r\n    }\r\n\r\n  \r\n\r\n  }\r\n\r\n  async function realizarLogin_UsuarioSenha(usuarioVerificado, senhaVerificado) {\r\n\r\n    // os 2 parametros: usuarioVerificado e senhaVerificado\r\n    // so para usuarios que conectao por telefone, apenas reutilizei essa funcao para nao criar outra\r\n\r\n    try {\r\n      setLoading(true)\r\n      const data = {\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"cliente\":{\r\n          \"email\": usuarioVerificado,\r\n          \"hashSenha\": senhaVerificado,\r\n          \"appNome\": aplicativoDados.appNome,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        },\r\n        \"localizacao\":{\r\n          \"latitude\": \"\",\r\n          \"longitude\": \"\",\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          \"appNome\": aplicativoDados.appNome,\r\n        },\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n      const response = await LoginGeral(data, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n        setLoading(false)\r\n\r\n      }else{ \r\n        //tudo certo\r\n\r\n        if(localStorage.getItem('tokenNotificationFirebase')){\r\n          if( response.cliente.codigoDispositivo !== localStorage.getItem('tokenNotificationFirebase' )){\r\n            response.cliente.codigoDispositivo = localStorage.getItem('tokenNotificationFirebase')\r\n            response.cliente.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n            AtualizarDispositivoUsuario(response.cliente, aplicativoDados)\r\n          }\r\n        }\r\n\r\n        \r\n        localStorage.setItem('usuarioCF', JSON.stringify(response));\r\n\r\n        if(!JSON.parse(localStorage.getItem(\"enderecoAtualCF\"))?.bairro){\r\n          localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({}))\r\n        }\r\n\r\n        if(!JSON.parse(localStorage.getItem(\"carrinhoCF\"))){\r\n          localStorage.setItem(\"carrinhoCF\", JSON.stringify({}))\r\n        }\r\n\r\n        if(!localStorage.getItem(\"estabelecimentoAtualCF\")){\r\n          localStorage.setItem(\"estabelecimentoAtualCF\", JSON.stringify(response.estabelecimentos[0]))\r\n        }\r\n\r\n        if(response.estabelecimentos.length > 0){\r\n          await buscaCardapioInicial(response)\r\n        }else{\r\n          alertStart(\"Nenhum estabelecimento disponivel para esse usuario\", \"error\")   \r\n        }\r\n      }\r\n    }\r\n    catch (error) {\r\n        console.log('error ', error)\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions LoginGeral ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro LoginGeral: \"+error.message, \"error\")    \r\n    }\r\n      \r\n  }\r\n\r\n  const alertStart = (msg, tipo) => {\r\n    setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n  const alertClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setAlert({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n\r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n      <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n        <Alert onClose={alertClose} severity={alert.tipo}>\r\n          {alert.mesangem}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n      \r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Cadastrar Usurio\r\n        </Typography>\r\n        <form className={classes.form + \" container\"} onSubmit={cadastrarUsuario} >\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            onChange={e => setNome(e.target.value)}\r\n            id=\"nome\"\r\n            value={nome}\r\n            label=\"Nome\"\r\n            name=\"nome\"\r\n          />\r\n          \r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            min=\"10\"\r\n            max=\"11\"\r\n            value={telefone}\r\n            onChange={e => { setTelefone(e.target.value) }}\r\n            name=\"telefone\"\r\n            label=\"Telefone\"\r\n            type=\"number\"\r\n            id=\"telefone\"\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n            name=\"email\"\r\n            label=\"Email (opcional)\"\r\n            type=\"email\"\r\n            id=\"email\"\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            min=\"6\"\r\n            required\r\n            fullWidth\r\n            value={senha}\r\n            onFocus={ () => {\r\n              window.scrollTo(0, document.querySelector(\"html\").scrollHeight)\r\n            }}\r\n            onChange={e => setSenha(e.target.value)}\r\n            name=\"senha\"\r\n            label=\"Senha\"\r\n            type=\"password\"\r\n            id=\"senha\"\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            min=\"6\"\r\n            onFocus={ () => {\r\n              window.scrollTo(0, document.querySelector(\"html\").scrollHeight)\r\n            }}\r\n            value={confirmarSenha}\r\n            onChange={e => setConfirmarSenha(e.target.value)}\r\n            name=\"confirmarSenha\"\r\n            label=\"Confirmar Senha\"\r\n            type=\"password\"\r\n            id=\"confirmarSenha\"\r\n          />\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link onClick={() => {\r\n                setCodigoIndicacao({\"abrir\": true, \"codigo\": codigoIndicacao.codigo})\r\n              }} variant=\"body2\" style={{\"color\":`${aplicativoDados.corSitePrimaria}`}}>\r\n                Cdigo do Amigo {<b>{codigoIndicacao.codigo}</b>} \r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Cadastrar\r\n          </Button>\r\n\r\n          <Grid container style={{\"textAlign\": \"center\"}}>\r\n            <Grid item xs>\r\n              <Link to={`/login${identificarEstabelecimentoSelecionado(aplicativoDados)}`} variant=\"body2\" style={{\"color\":`${aplicativoDados.corSitePrimaria}`}}>\r\n                Ja tenho usurio\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n          \r\n        </form>\r\n      </div>\r\n\r\n\r\n            <Dialog\r\n              open={codigoIndicacao.abrir}\r\n              aria-labelledby=\"codigoIndicacao\">\r\n              <DialogTitle id=\"codigoIndicacao\">{\"Cdigo de Indicao\"}</DialogTitle>\r\n\r\n\r\n              <DialogContent>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  onChange={(e) =>{setCodigoIndicacao({\"abrir\": true, \"codigo\": e.target.value})}}\r\n                  value={codigoIndicacao.codigo}\r\n                  id=\"codigoIndicacao\"\r\n                  label=\"Cdigo de Amigo\"\r\n                  name=\"codigoIndicacao\"\r\n                  type=\"text\"\r\n                  //autoFocus\r\n                />\r\n              </DialogContent>\r\n\r\n              <DialogActions>\r\n\r\n                <Button onClick={(e) => {setCodigoIndicacao({\"abrir\": false, \"codigo\": codigoIndicacao.codigo})}} style={{\"color\": \"#dc3545\"}}>\r\n                  Voltar\r\n                </Button>\r\n                \r\n                <Button onClick={(e) => {setCodigoIndicacao({\"abrir\": false, \"codigo\": codigoIndicacao.codigo})}} style={{\"color\": \"white\", \"backgroundColor\":\"#28a745\"}}>\r\n                  Pronto\r\n                </Button>\r\n              </DialogActions>\r\n            </Dialog>\r\n    </Container>\r\n\r\n\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/loading-flat.a4da8b3d.gif\";","export default __webpack_public_path__ + \"static/media/fail-flat.7344d619.svg\";","export default __webpack_public_path__ + \"static/media/source.8ec8a7e2.gif\";","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport api from '../../services/api';\r\nimport flatLoading from '../../assets/loading-flat.gif';\r\nimport flatErro from '../../assets/fail-flat.svg';\r\nimport setaErro from '../../assets/source.gif';\r\nimport * as Sentry from \"@sentry/react\";\r\nimport {\r\n  ObterCardapio,\r\n  AplicativoDadosUrl,\r\n  identificarEstabelecimentoSelecionado\r\n} from '../../services/functions';\r\n\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nexport default function Filter(props) {\r\n  const [estabelecimentoAtual, setEstabelecimentoAtual] = useState(JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")));\r\n  const history = useHistory();\r\n  //let qtdTest = 3;\r\n  \r\n  const search = props.location.search;\r\n  const params = new URLSearchParams(search); \r\n  //console.log('filter params', params)\r\n\r\n  const pedidoMesaParams = params.get('pedidoMesa')\r\n  const loginIzzaParams = params.get('loginIzza')\r\n  const cadastroParams = params.get('cadastro')\r\n  const mesaParams = params.get('mesa')\r\n  const comandaParams = params.get('comanda')\r\n  const lojaParams = params.get('loja')\r\n  const visualizacaoParams = params.get('visualizacao')\r\n\r\n  const direcionarParaLoja = (lojaParams && (!mesaParams && !comandaParams && !loginIzzaParams))\r\n\r\n  const avaliacaoParams = params.get('avaliacao')\r\n  const imagensParams = params.get('downloadImagens')\r\n  const downloadParams = params.get('download')\r\n  const downloadEscolhaParams = params.get('downloadEscolha')\r\n  const avaliacaoParamsCliente = params.get('Cliente')\r\n  const avaliacaoParamsPedido = params.get('Pedido')\r\n  const paramsChaveIzza = params.get('chave')\r\n  \r\n  const android = navigator.userAgent.includes('Android')\r\n\r\n  \r\n  var tentouSemWWW = false\r\n  const [textoErro, setTextoErro] = useState('')\r\n  const [naoEncontrou, setNaoEncontrou] = useState(false)\r\n  \r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n    \r\n  function Alert(props) {\r\n      return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n  \r\n  const alertStart = (msg, tipo) => {\r\n      setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n\r\n  const alertClose = (event, reason) => {\r\n      if (reason === 'clickaway') {\r\n          return;\r\n      }\r\n      setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n  };\r\n\r\n  async function buscarAppDados(site){\r\n    console.log('filter buscarAppDados ' + site)\r\n    try {\r\n      \r\n      const response = await AplicativoDadosUrl(site, window.location.hostname)\r\n      \r\n\r\n      if(response.retornoErro){\r\n        console.log('retornoErro')\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n      }else if( !(response && typeof response !== 'string') ){\r\n        console.log('!(response && typeof response !== \"string\") ')\r\n\r\n        setTextoErro(site + \" - \" + response)\r\n        setNaoEncontrou(true)\r\n        alertStart(`Erro ao procurar aplicativo`, \"error\")\r\n        setTimeout(() => {\r\n          window.location.reload()\r\n        }, 10000); \r\n\r\n      }else if(response.codErro > 0){\r\n        console.log('response.codErro > 0')\r\n        \r\n        console.log('tentouSemWWW', tentouSemWWW)\r\n        if(tentouSemWWW == false){\r\n          var siteSemWWW = site.includes('www.') ? site.replace('www.','') : 'www.'+site\r\n          tentouSemWWW = true\r\n          await buscarAppDados(siteSemWWW)\r\n          return false\r\n        }\r\n        setNaoEncontrou(true)\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`${window.location.hostname} No encontrou o aplicativo`);\r\n        alertStart(response.mensagem, \"error\")  \r\n        setTimeout(() => {\r\n          window.location.reload()\r\n        }, 10000);\r\n      }else{\r\n        console.log('else')\r\n\r\n        // response.tagManager = 'GTM-M4J3JK4'\r\n        localStorage.setItem('aplicativoCF', JSON.stringify(response));      \r\n        localStorage.setItem('dateAplicativoDadosCF', new Date())  \r\n        telaInicial()\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions buscarAppDados ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  async function verificarAppDados(){ \r\n\r\n    if (navigator.onLine){   \r\n      if(window.location.hostname == \"www.clientefiel.app\"){\r\n        window.location.href = \"https://appclientefiel.com.br/?utm_source=clienteFiel.App\"\r\n        return true;\r\n      }else if(window.location.hostname == \"www.pedidosite.com.br\"){\r\n        window.location.href = \"https://appclientefiel.com.br/?utm_source=pedidosite.Com.Br\"\r\n        return true;\r\n      }\r\n      else if(window.location.protocol == \"http:\" && !(window.location.hostname).includes('localhost') && !(window.location.hostname).includes('192.168')){\r\n        console.log('replace location ', window.location.href, ((window.location.href).replace(\"http:\", \"https:\")).replace('www.',''))\r\n        window.location.href = ((window.location.href).replace(\"http:\", \"https:\")).replace('www.','')\r\n        return true\r\n      }\r\n      \r\n      try {\r\n\r\n          if(!localStorage.getItem('aplicativoCF') || params.get('estabelecimento')){\r\n            localStorage.clear()\r\n            await buscarAppDados(params.get('estabelecimento') ? params.get('estabelecimento') : window.location.hostname)\r\n          }else{\r\n              telaInicial()\r\n          }\r\n      } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`${window.location.hostname} - ${error} - BuscarAplicativoDados`);\r\n        alertStart(\"Erro nao identificado ao buscar aplicativo\", \"error\") \r\n        //console.log(\"Erro nao identificado ao buscar aplicativo\", err)\r\n        setTimeout(() => {\r\n          window.location.reload()\r\n        }, 3000);\r\n      }   \r\n    }else{\r\n      alertStart(\"Sem Internet!\", \"error\") \r\n\r\n      setTimeout(() => {\r\n        window.location.reload()\r\n      }, 3000);\r\n      // history.push('/offline');\r\n    } \r\n  }\r\n  \r\n  async function iniciarClienteFielStart(aplicativoDados){\r\n    if(aplicativoDados.estabelecimentos.length > 0){\r\n      await buscarCardapioOffline(aplicativoDados.estabelecimentos[0], aplicativoDados)\r\n    }else{\r\n      alertStart(\"Esse aplicativo no tem estabelecimento cadastrado\", \"error\") \r\n    }\r\n  }\r\n\r\n\r\n  async function telaInicial() {\r\n    const aplicativoDados = JSON.parse(localStorage.getItem('aplicativoCF'))\r\n    console.log('telaInicial', aplicativoDados)\r\n    //verifica se  ferramenta gratuita ClienteFielStart\r\n    if(aplicativoDados.clienteFielStart){\r\n      iniciarClienteFielStart(aplicativoDados)\r\n    }else if(cadastroParams){\r\n      history.push(`/cadastro${search}`)\r\n    }else if(direcionarParaLoja){//console.log('pedidoMesaParams,', pedidoMesaParams)\r\n      await buscarCardapioOffline(buscarLojaId(lojaParams), aplicativoDados, visualizacaoParams ? true : false)\r\n    }else if(avaliacaoParams){ //ir para avaliar pedido\r\n      history.push(`/delivery/avaliacaoPedido?Cliente=${avaliacaoParamsCliente}&Pedido=${avaliacaoParamsPedido}`);\r\n      return true\r\n    }else if(imagensParams){ //ir para gerador de imagens\r\n      history.push(`/downloads/imagensTematicas`);\r\n      return true\r\n    }else if(downloadEscolhaParams){ //ir para downloads\r\n      history.push(`/downloads/escolha`);\r\n      return true\r\n    }else if(downloadParams){ //ir para downloads\r\n      history.push(`/downloads`);\r\n      return true\r\n    }else if(loginIzzaParams){ //login izza\r\n      history.push(`/login${search}${identificarEstabelecimentoSelecionado(aplicativoDados)}`);      \r\n      return true\r\n    }else if(JSON.parse(localStorage.getItem('usuarioPedidoMesaCF'))?.logado){\r\n      //desconectar automaticamente usuario de mesa\r\n      if(new Date() - new Date(localStorage.getItem('usuarioPedidoMesaCF_Date')) > 5400000  ){\r\n        localStorage.removeItem('usuarioPedidoMesaCF')\r\n      }else{\r\n        history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`);\r\n        return true\r\n      }    \r\n    }else if( (aplicativoDados.possuiDelivery === false || loginIzzaParams || paramsChaveIzza || pedidoMesaParams || comandaParams || lojaParams || mesaParams) ){\r\n      //apenas fidelidade, login mesa ou login izza\r\n      history.push(`/login${search}${identificarEstabelecimentoSelecionado(aplicativoDados)}`);\r\n      return true\r\n    }else if(aplicativoDados.inicioTelaLogin){ //iniciar na tela de login \r\n      history.push(`/login${search}${identificarEstabelecimentoSelecionado(aplicativoDados)}`);      \r\n    }else{ //iniciar tela de cardapio\r\n      if(aplicativoDados?.estabelecimentos?.length === 1){ \r\n        await buscarCardapioOffline(aplicativoDados.estabelecimentos[0], aplicativoDados)\r\n      }else{\r\n        history.push('/lojas')\r\n      }\r\n    }\r\n  }\r\n\r\n  const buscarLojaId = (codigo) => {\r\n    const aplicativoDados = JSON.parse(localStorage.getItem('aplicativoCF'))\r\n    var loja = aplicativoDados.estabelecimentos[0]\r\n\r\n    for(var i = 0; i < aplicativoDados.estabelecimentos.length; i++){\r\n      if(codigo == aplicativoDados.estabelecimentos[i].id || codigo == aplicativoDados.estabelecimentos[i].codigo){\r\n        loja = aplicativoDados.estabelecimentos[i]\r\n        break;\r\n      }\r\n    }\r\n\r\n    return loja;\r\n  }\r\n\r\n  const buscarCardapioOffline = async (estabelecimento, aplicativoDados, view = false) => {   \r\n    try {\r\n      localStorage.setItem('estabelecimentoAtualCF', JSON.stringify(estabelecimento));\r\n      estabelecimento.token = process.env.REACT_APP_CLIENTEFIEL_TOKEN\r\n      const response = await ObterCardapio(estabelecimento, aplicativoDados)\r\n\r\n      if(response.retornoErro){\r\n        alertStart(response.mensagem, \"error\")\r\n        // setLoading(false)\r\n      }else{\r\n        const retorno = response\r\n        //console.log(\"ObterCardapio\", retorno)  \r\n        const carrinhoRetorno = {}\r\n        carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n        carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n        carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n        carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n        carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n        carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n        carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n  \r\n        carrinhoRetorno.pedido = {\r\n          \"entregaImediata\": false,\r\n          \"formaPagamento\": {},\r\n          \"itens\": [],\r\n          \"taxaEntrega\": null,\r\n          \"tokenCartaoCredito\": null,\r\n          \"troco\": null,\r\n          \"valorDesconto\": null,\r\n          \"valorEntrega\": null,\r\n          \"valorTotal\": 0,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        }\r\n        \r\n        localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno)) \r\n\r\n\r\n        const dataRetorno = {}\r\n        dataRetorno.categorias = retorno\r\n        dataRetorno.id = \"usuarioDeslogado\"\r\n        localStorage.setItem(\"cardapioCF\", JSON.stringify(dataRetorno))                      \r\n\r\n        if(!localStorage.getItem('usuarioCF')){\r\n          localStorage.setItem(\"usuarioCF\", JSON.stringify({}))    \r\n\r\n        }\r\n\r\n        if(!localStorage.getItem('enderecoAtualCF')){\r\n          localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({}))  \r\n        }\r\n  \r\n        if(view){\r\n          history.push(`/delivery?view=true${identificarEstabelecimentoSelecionado(aplicativoDados)}`);      \r\n          \r\n        }else{\r\n          history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`);      \r\n        }\r\n        \r\n      }\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions buscarCardapioOffline ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  \r\n  useEffect(() => {\r\n    if(naoEncontrou === false){\r\n      verificarAppDados()\r\n    }else{\r\n      setTimeout(() => {\r\n        window.location.reload()\r\n      }, 3000);\r\n    }\r\n  }, []);\r\n  \r\n  \r\n\r\n\r\n  return (\r\n    \r\n    \r\n    ((navigator.userAgent).includes(\"Instagram\") && android)\r\n     ? <div className=\"divImageCentroErro\" >\r\n          <><img src={setaErro} alt={\"erro instagram android\"} className=\"pretoEBranco\" style={{\"width\": \"150px\",\"float\":\"right\", \"marginRight\": \"1em\", \"transform\": \"rotate(25deg)\"}}/>\r\n            <h6 style={{\"fontWeight\": \"100\", \"float\": \"right\"}}>Por favor, clique nos 3 (trs) pontinhos e depois em Abrir</h6></>\r\n      </div>\r\n    : <div className=\"divImageCentro\" >\r\n        <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n            <Alert onClose={alertClose} severity={alert.tipo}>\r\n            {alert.mesangem}\r\n            </Alert>\r\n        </Snackbar>\r\n\r\n        { naoEncontrou === false\r\n          ? <><img src={flatLoading}  alt={\"loading foguete\"} className=\"pretoEBranco\" style={{\"width\": '350px'}}/>\r\n            <h6 style={{\"fontWeight\": \"100\"}}>Carregando Aplicativo...</h6></>\r\n\r\n          : <><img src={flatErro} alt={\"loading erro\"} className=\"pretoEBranco\" style={{\"width\": '350px'}}/>\r\n            <h6 style={{\"fontWeight\": \"100\"}}>No Encontramos Esse Aplicativo... [{window.location.hostname}] ou o Sistema est fora do ar temporariamente. {textoErro}</h6></>\r\n        }                          \r\n      </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { fade, makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\n\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport NativeSelect from \"@material-ui/core/NativeSelect\";\r\n\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport { AplicativoDadosUrl, Buscardescontos } from \"../../services/functions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: \"33.33%\",\r\n    flexShrink: 0,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\nexport default function GanheDescontos(props) {\r\n  const {\r\n    openGanheDescontos,\r\n    setOpenGanheDescontos,\r\n    usuario,\r\n    temDesconto,\r\n    cardapio,\r\n    jaEstou,\r\n    setConfiguracoesPerfilModal,\r\n    setCompartilharCodigoAmigo,\r\n    aplicativoDados,\r\n    estabelecimentoAtual = {}, // s tem ele na tela de cardpio ou quando o aplicativo.estabelecimento  igual a 1 no perfil\r\n    pedidoMesa,\r\n  } = props; //parmetros que recebe da tela de perfil e de cardpio\r\n\r\n\r\n  const [progress, setProgress] = React.useState(10);\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (panel) => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n\r\n  const handleClickOpen = () => {\r\n    setOpenGanheDescontos(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpenGanheDescontos(false);\r\n  };\r\n\r\n  const [estadoSelect, setEstadoSelect] = React.useState(\"\");\r\n\r\n  const handleChangeSelect = async (event) => {\r\n    setEstadoSelect(event.target.value);\r\n    if (event.target.value === \"\") {\r\n      setDescontos([]);\r\n      return false;\r\n    }\r\n    const retorno = await Buscardescontos(event.target.value, aplicativoDados);\r\n    if (retorno.retornoErro) {\r\n      setDescontos([]);\r\n      return false;\r\n    } else {\r\n      setDescontos(retorno);\r\n    }\r\n  };\r\n\r\n  const [descontos, setDescontos] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    setTimeout(async () => {\r\n      if (estabelecimentoAtual.id) {\r\n        const retorno = await Buscardescontos(\r\n          estabelecimentoAtual.id,\r\n          aplicativoDados\r\n        );\r\n        if (retorno.retornoErro) {\r\n        } else {\r\n          setDescontos(retorno);\r\n        }\r\n      }\r\n    }, 0);\r\n  }, []);\r\n\r\n  const [estabelecimentos, setEstabelecimentos] = React.useState(\r\n    aplicativoDados.estabelecimentos\r\n  );\r\n\r\n  const finalizarCadastro = () => {\r\n    if (usuario?.logado) {\r\n      if (jaEstou) {\r\n        setConfiguracoesPerfilModal(true);\r\n      } else {\r\n        history.push(`/perfil/configuracao`);\r\n      }\r\n    } else {\r\n      history.push(`/cadastro`);\r\n    }\r\n  };\r\n\r\n  const indicarAmigo = () => {\r\n    if (usuario?.logado) {\r\n      if (jaEstou) {\r\n        setCompartilharCodigoAmigo(true);\r\n      } else {\r\n        history.push(`/perfil/indicacao-amigos`);\r\n      }\r\n    } else {\r\n      history.push(`/login`);\r\n    }\r\n  };\r\n\r\n  const cartelaFidelidade = () => {\r\n    usuario?.logado\r\n      ? history.push(`/delivery/fidelidade`)\r\n      : history.push(`/login`);\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      fullScreen={fullScreen}\r\n      onClose={handleClose}\r\n      open={openGanheDescontos}\r\n      style={{ zIndex: \"1299\" }}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">Descontos</DialogTitle>\r\n      <DialogContent>\r\n        {!estabelecimentoAtual.id && (\r\n          <Col xs={12} md={12} lg={12} className=\"colSelect\">\r\n            <FormControl\r\n              variant=\"outlined\"\r\n              className={classes.formControl}\r\n              id=\"divSelect\"\r\n            >\r\n              <InputLabel htmlFor=\"outlined-age-native-simple\">\r\n                Escolha um estabelecimento\r\n              </InputLabel>\r\n              <Select\r\n                native\r\n                value={estadoSelect}\r\n                onChange={handleChangeSelect}\r\n                label=\"Escolha um estabelecimento\"\r\n                inputProps={{\r\n                  name: \"age\",\r\n                  id: \"outlined-age-native-simple\",\r\n                }}\r\n              >\r\n                <option aria-label=\"None\" value=\"\" />\r\n                {estabelecimentos.map((estabelecimento) => (\r\n                  <option value={estabelecimento.id}>\r\n                    {estabelecimento.nome}\r\n                  </option>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Col>\r\n        )}\r\n\r\n        <Col xs={12} md={12} lg={12} className=\"colGanheDescontos\">\r\n          <div className={classes.root}>\r\n            { descontos.filter((desconto) => desconto.possui === true).length > 0 \r\n              ? (\r\n              descontos.map(\r\n                (desconto) =>\r\n                  desconto.possui && (\r\n                    <Accordion\r\n                      expanded={expanded === desconto.titulo}\r\n                      onChange={handleChange(desconto.titulo)}\r\n                    >\r\n                      <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id=\"panel1bh-header\"\r\n                      >\r\n                        <Typography className={classes.heading}>\r\n                          {desconto.titulo}\r\n                        </Typography>\r\n                        <Typography className={classes.secondaryHeading}>\r\n                          {desconto.comoGanhar}\r\n                        </Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails className=\"buttonFinalizeCadastro\">\r\n                        <Typography>\r\n                          {desconto.oQueGanhar.replace(\"ANIVERSARIO10\", \"\")}\r\n                        </Typography>\r\n                        {desconto.titulo != \"Cupom de Desconto\" &&\r\n                          desconto.titulo != \"Forma de Pagamento\" && (\r\n                            <Button\r\n                              className=\"buttonFinalizar\"\r\n                              color=\"primary\"\r\n                              autoFocus\r\n                              variant=\"outlined\"\r\n                              onClick={() => {\r\n                                if (desconto.titulo === \"Finalize Cadastro\") {\r\n                                  finalizarCadastro();\r\n                                } else if (\r\n                                  desconto.titulo === \"Indicao de Amigo\"\r\n                                ) {\r\n                                  indicarAmigo();\r\n                                } else if (\r\n                                  desconto.titulo === \"Cartela de Fidelidade\"\r\n                                ) {\r\n                                  cartelaFidelidade();\r\n                                } else if (\r\n                                  desconto.titulo === \"Cupom de Desconto\"\r\n                                ) {\r\n                                }\r\n                              }}\r\n                            >\r\n                              {desconto.titulo === \"Finalize Cadastro\"\r\n                                ? \"Finalizar Cadastro\"\r\n                                : desconto.titulo === \"Indicao de Amigo\"\r\n                                ? \"Indicar um amigo\"\r\n                                : desconto.titulo === \"Cartela de Fidelidade\"\r\n                                ? \"Completar cartela\"\r\n                                : null}\r\n                            </Button>\r\n                          )}\r\n                      </AccordionDetails>\r\n                    </Accordion>\r\n                  )\r\n              )\r\n            ) : estadoSelect != \"\" || estabelecimentoAtual.id ? (\r\n              <Col xs={12} md={12} lg={12}>\r\n                Este estabelecimento no momento no possui formas de ganhar\r\n                descontos cadastradas.\r\n              </Col>\r\n            ) : null}\r\n          </div>\r\n        </Col>\r\n        <Col xs={12} md={12} lg={12} className=\"colAlertInfo\">\r\n          {temDesconto ? (\r\n            <Alert severity=\"info\">\r\n              <AlertTitle>Desconto ativo!</AlertTitle>\r\n              Voc possui um desconto de{\" \"}\r\n              {cardapio.valorDesconto\r\n                ? `${Intl.NumberFormat(\"pt-BR\", {\r\n                    style: \"currency\",\r\n                    currency: \"BRL\",\r\n                  }).format(cardapio.valorDesconto)}`\r\n                : cardapio.percentualDesconto\r\n                ? `${cardapio.percentualDesconto}%`\r\n                : `Frete Grtis`}{\" \"}\r\n              -{\" \"}\r\n              <strong>\r\n                {cardapio.cupomDesconto\r\n                  ? cardapio.cupomDesconto.codigoCupom\r\n                  : \"Desconto referente a cartela de fidelidade\"}\r\n              </strong>\r\n            </Alert>\r\n          ) : null}\r\n        </Col>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          color=\"sucess\"\r\n          onClick={() => {\r\n            handleClose();\r\n          }}\r\n          // style={\r\n          //   {\"color\": '#9A153E'}\r\n          // }\r\n          autoFocus\r\n          fullWidth\r\n        >\r\n          FECHAR\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, {useState} from \"react\"\r\nimport {Card,  Row, Col, Container } from 'react-bootstrap';\r\nimport AlertFixo from '@material-ui/lab/Alert';\r\nimport Button from '@material-ui/core/Button';\r\nimport GanheDescontos from './ganheDescontos'\r\n\r\n\r\nimport {\r\n  identificarEstabelecimentoSelecionado\r\n} from '../../services/functions';\r\n\r\nexport default function InfoCardapio(props){\r\n\r\n    const [openGanheDescontos, setOpenGanheDescontos] = useState(false);\r\n\r\n    const {\r\n        isEntregaNoEndereco,\r\n        isRetiradaNoLocal,\r\n        estabelecimentoAtual,\r\n        enderecoAtual,\r\n        opcoesParaEntregaeRetirada,\r\n        temEndereco,\r\n        cardapio,\r\n        setRodarFuncaoAposIsso,\r\n        aplicativoDados,\r\n        history,\r\n        usuario,\r\n        visualizacao,\r\n        usuarioPedidoMesa,\r\n        isUsuarioPedidoMesa  = usuarioPedidoMesa?.logado,\r\n    } = props\r\n\r\n    const taxa = enderecoAtual.taxaEntrega == null || enderecoAtual.taxaEntrega == undefined ? estabelecimentoAtual.taxaEntrega : enderecoAtual.taxaEntrega\r\n\r\n    const temDesconto = cardapio.valorDesconto || cardapio.percentualDesconto || (cardapio?.cupomDesconto?.freteGratis)\r\n    return(\r\n        <>\r\n\r\n            <Row className=\"infoCardapio\">\r\n                <Col xs={12} md={12} lg={12} className=\"colLogoEstabelecimento\" >\r\n                    <img src={estabelecimentoAtual.urlLogo} className=\"logoEstabelecimento\">\r\n                      \r\n                    </img>\r\n                </Col>\r\n                <Col xs={12} md={12} lg={12} style={{\"height\": \"35px\"}}>\r\n                    \r\n                </Col>\r\n                <Col xs={12} md={12} lg={12} className=\"colInfosMenu\">\r\n                    {estabelecimentoAtual.categoria}  {\r\n                          estabelecimentoAtual.tempoEntregaTexto \r\n                            ? estabelecimentoAtual.tempoEntregaTexto\r\n                            : ' 70-80 min'\r\n                        }\r\n                </Col>\r\n              {\r\n                !(visualizacao || aplicativoDados.clienteFielStart)\r\n                  ? <Col xs={12} md={12} lg={12} className=\"colInfosMenu colInfoEntrega\">\r\n                      {\r\n                        !usuarioPedidoMesa?.logado\r\n                        ? temEndereco\r\n                            ?  (isEntregaNoEndereco && taxa >= 0)\r\n                              ?\r\n                                  <Button variant=\"outlined\" className=\"caixaInfo\" onClick={() =>{ opcoesParaEntregaeRetirada() }}>\r\n                                    Entrega: { taxa === 0 ? 'Grtis' :  Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(taxa)}\r\n                                  </Button>\r\n                              : \r\n                                  <Button variant=\"outlined\" className=\"caixaInfo\" onClick={() =>{ opcoesParaEntregaeRetirada() }}>\r\n                                    NO ENTREGA\r\n                                  </Button>\r\n                            : usuario.logado\r\n                              ? isRetiradaNoLocal\r\n                                ? <Button variant=\"outlined\" className=\"caixaInfo\" onClick={() =>{ \r\n                                    setRodarFuncaoAposIsso(\"\")  \r\n                                    opcoesParaEntregaeRetirada() \r\n                                  }}>\r\n                                    Retirada No Local\r\n                                  </Button>\r\n                                : <Button variant=\"outlined\" className=\"caixaInfo\" onClick={ () => {\r\n                                    history.push(`/delivery/enderecos`)\r\n                                  }}>\r\n                                    Adicione endereo\r\n                                  </Button>\r\n                              :  <Button variant=\"outlined\" className=\"caixaInfo\" onClick={ () => {\r\n                                history.push(`/login${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n                              }}>\r\n                                  Faa Login\r\n                                </Button>\r\n                        : null\r\n                    }\r\n\r\n                    {\r\n                      temDesconto\r\n                        ?\r\n                            <Button variant=\"outlined\" className=\"caixaInfo\"\r\n                              onClick={ () => {\r\n                                setOpenGanheDescontos(true);\r\n                            }}>\r\n                                {\r\n                                  cardapio.valorDesconto\r\n                                    ? `Desconto: ${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(cardapio.valorDesconto)}`\r\n                                    :  cardapio.percentualDesconto\r\n                                      ? `Desconto: ${cardapio.percentualDesconto}%`\r\n                                      : `Frete Grtis`\r\n                                }\r\n                              </Button>\r\n                        :  !isUsuarioPedidoMesa\r\n                          ?  <Button variant=\"outlined\" className=\"caixaInfo\" onClick={ () => {\r\n                            setOpenGanheDescontos(true);\r\n                          }}>\r\n                              GANHE DESCONTOS\r\n                            </Button>\r\n                          : null\r\n\r\n                    }\r\n\r\n                    \r\n\r\n                </Col>\r\n                : null\r\n              }\r\n            </Row>\r\n\r\n            {\r\n              openGanheDescontos && <GanheDescontos \r\n              setOpenGanheDescontos={setOpenGanheDescontos}\r\n              openGanheDescontos={openGanheDescontos}\r\n              usuario={usuario}\r\n              temDesconto={temDesconto}\r\n              cardapio={cardapio}\r\n              aplicativoDados={aplicativoDados}\r\n              estabelecimentoAtual={estabelecimentoAtual}\r\n            /> }\r\n\r\n        </>\r\n    \r\n    )\r\n    \r\n}","export default __webpack_public_path__ + \"static/media/pratos.f6231b84.svg\";","export default __webpack_public_path__ + \"static/media/megafone.8459f261.svg\";","export default __webpack_public_path__ + \"static/media/comida.ba089612.svg\";","export default __webpack_public_path__ + \"static/media/desenvolvidoPor.2a8aa3de.png\";","export default __webpack_public_path__ + \"static/media/cart-empty-flat.d6b4b008.gif\";","import React, {useState} from 'react'\r\nimport Fab from '@material-ui/core/Fab';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Button from '@material-ui/core/Button';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel'; \r\nimport Select from '@material-ui/core/Select';\r\nimport CadastroEndereco from '../../components/cadastroEndereco';\r\n\r\nimport InfoCardapio from \"./infoCardapio\"\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\n//loading\r\n//import Loading from '../loading';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport InputBase from '@material-ui/core/InputBase';\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport DirectionsWalkIcon from '@material-ui/icons/DirectionsWalk';\r\nimport Prato from '../../assets/pratos.svg';\r\nimport Megafone from '../../assets/megafone.svg';\r\nimport Comida from '../../assets/comida.svg';\r\nimport DesenvolvidoPor from '../../assets/desenvolvidoPor.png';\r\nimport {fade, makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport ViewColumnOutlinedIcon from '@material-ui/icons/ViewColumnOutlined';\r\n\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport ConfirmationNumberIcon from '@material-ui/icons/ConfirmationNumber';\r\nimport PaymentIcon from '@material-ui/icons/Payment';\r\n\r\nimport AlertFixo from '@material-ui/lab/Alert';\r\n\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport api from '../../services/api';\r\n/*import './styles.css';*/\r\n\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport MotorcycleIcon from '@material-ui/icons/Motorcycle';\r\n\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport carrinhoVazio from '../../assets/cart-empty-flat.gif';\r\n\r\n\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\n// import Estabelecimentos from '../Deslogado/estabelecimentos';\r\n\r\n\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\n\r\nexport default function Carrinho (props) {\r\n    const{\r\n        carrinho,\r\n        iphone,\r\n        android,\r\n        classes,\r\n        valorTaxaEntrega,\r\n        setCarrinhoOpen,\r\n        estabelecimentoAtual,\r\n        aplicativoDados,\r\n        quantidadeProdutos,\r\n        removeItem,\r\n        setRemoveItem,\r\n        removeItemSelecionado,\r\n        setCarrinho,\r\n        calcularValorTotal,\r\n        setAdicionarCupom,\r\n        adicionarCupom,\r\n        fullScreen,\r\n        carrinhoOpen,\r\n        isEntregaNoEndereco,\r\n        usuarioPedidoMesa,\r\n        setInformacoesDoTipoEntrega,\r\n        isRetiradaNoLocal,\r\n        isUsuarioPedidoMesa,\r\n        temEndereco,\r\n        enderecoAtual,\r\n        setTelaRetiradaOuEntrega,\r\n        usuarioLogado,\r\n        isFreteGratisMinimoEntrega,\r\n        setPagamentoOpen,\r\n        setContinuarSemCadastro,\r\n        continuarSemCadastro,\r\n        alertStart,\r\n        setRodarFuncaoAposIsso,\r\n        setInformacoesPedido,\r\n        irParaEnderecos,\r\n        qrCodeModal,\r\n        setQrCodeModal,\r\n        informacoesPedido,\r\n        isNumeric,\r\n        nomeMesa,\r\n        numeroMesas,\r\n        confirmacaoInformacoes,\r\n        formaDePagamento,\r\n        setFormaDePagamento,\r\n        setLoading,\r\n        obterMeusCartoesSalvos,\r\n        setPagamentoOnline,\r\n        troco,\r\n        setTroco,\r\n        formatReal,\r\n        getMoney,\r\n        setCriarCartao,\r\n        setAbrirMostrarFotoProduto,\r\n        irParaProduto,\r\n        selecioneiRetiradaNoLocal,\r\n        selecioneiEndereco,\r\n        cardapio,\r\n        descontoCardapio,\r\n        removerCupom,\r\n        setRemoveItemSelecionado,\r\n        pagamentoOpen,\r\n        irParaLogin,\r\n        AdicionarCupom,\r\n        AvatarTipoEntrega,\r\n        ReactPixel,\r\n        EnderecoPedidoMesa,\r\n        QRCode,\r\n        PagamentoOnline,\r\n        MeusCartoes,\r\n        CriarCartao,\r\n        VerificarPagamentoOnline,\r\n        EscolhiMeuCartaoPagamentoOnline,\r\n        InformacoesDoTipoEntrega,\r\n        AbrirMostrarFotoProduto,\r\n        MostrarFotoProduto,\r\n        TelaRetiradaOuEntrega,\r\n        setEnderecoAtual,\r\n        solicitarNomeAoFinalizar,\r\n        solicitarTelefoneAoFinalizar,\r\n    } = props\r\n\r\n    const [abrirAdicionarEndereco, setAbrirAdicionarEndereco] = useState(false)\r\n    const [popUpCep, setPopUpCep] = useState(false);\r\n\r\n\r\n    const prontoTroco = () => {\r\n        var valorTroco = parseFloat(troco[1].replace('R$ ', '').replace('.', '').replace(',', '.'))\r\n        ////console.log(\"valorTroco\", /*valorTroco */)\r\n\r\n        if(document.getElementsByName('naoPrecisoDeTroco')[0].checked && !valorTroco){\r\n        valorTroco = 0   \r\n        }else if(valorTroco < carrinho.pedido.valorTotal){\r\n        alertStart(\"Valor do troco deve ser maior que o total.\", \"warning\")\r\n        document.getElementById('valorTroco').focus()\r\n        return false\r\n        }else if(!valorTroco){\r\n        alertStart(\"Valor invlido!\", \"warning\")\r\n        document.getElementById('valorTroco').focus()\r\n        return false\r\n        }      \r\n\r\n        carrinho.pedido.troco = valorTroco\r\n        setTroco([false, troco[1]])\r\n        \r\n        if(continuarSemCadastro && !temEndereco && !isRetiradaNoLocal){\r\n            setPopUpCep(true)\r\n            setAbrirAdicionarEndereco(true)\r\n        }else{\r\n            setInformacoesPedido(true)   \r\n        }\r\n    }\r\n\r\n    const selecionarFormaDePagamento = async (valor) => {\r\n\r\n        setFormaDePagamento(valor)\r\n        const formaPagamentoSelecionado = cardapio.formasPagamento[valor.replace(\"forma\",\"\")]\r\n        carrinho.formaPagamentoDescricao = formaPagamentoSelecionado.descricao\r\n        carrinho.pedido.formaPagamento = formaPagamentoSelecionado\r\n        localStorage.setItem('carrinhoCF', JSON.stringify(carrinho));\r\n        setCarrinho(carrinho)\r\n        ////console.log(\"formaPagamentoSelecionado\", /**formaPagamentoSelecionado */)\r\n        if(formaPagamentoSelecionado.descricao === \"DINHEIRO\"){\r\n            setTroco([true, ''])\r\n        }else if(formaPagamentoSelecionado.descricao === \"Pagamento Online\"){\r\n            setLoading(true)\r\n            await obterMeusCartoesSalvos()\r\n            setLoading(false)\r\n            setPagamentoOnline([true, {}])\r\n        }else if(continuarSemCadastro === true && !isRetiradaNoLocal && !temEndereco){\r\n            setPopUpCep(true)\r\n            setAbrirAdicionarEndereco(true)\r\n        }else{\r\n            setInformacoesPedido(true)    \r\n            //enviarPedido()\r\n        }\r\n        calcularValorTotal()\r\n\r\n    }\r\n\r\n    const calcularValorProdutos = () => {\r\n        let valor = 0.0\r\n        if(carrinho?.pedido && carrinho?.pedido?.itens){\r\n            if(carrinho.pedido.itens.length === 0){\r\n\r\n            }else if(carrinho.pedido.itens.length === 1){\r\n                valor = carrinho.pedido.itens[0].valorProdutoHistorico\r\n            }else{\r\n                valor = carrinho.pedido.itens.reduce((acumulado, x) => {\r\n                    return acumulado.valorProdutoHistorico + x.valorProdutoHistorico;\r\n                });\r\n            }\r\n        }\r\n        return valor\r\n    }\r\n\r\n    const valorDesconto = informacoesPedido === true ? (calcularValorProdutos() + valorTaxaEntrega) - carrinho.pedido.valorTotal : 0.0\r\n    \r\n    return(\r\n        <>\r\n            {\r\n                (aplicativoDados?.permitirContinuarSemCadastro && continuarSemCadastro === true) && \r\n                <CadastroEndereco\r\n                    setInformacoesPedido={setInformacoesPedido}\r\n                    telaDeCardapio={true}\r\n                    setInformacoesDoTipoEntrega={setInformacoesDoTipoEntrega}\r\n                    setPagamentoOpen={setPagamentoOpen}\r\n                    calcularValorTotal={calcularValorTotal}\r\n                    estabelecimentoAtual={estabelecimentoAtual}\r\n                    setLoading={setLoading}\r\n                    alertStart={alertStart}\r\n                    aplicativoDados={aplicativoDados}\r\n                    enderecoAtual={enderecoAtual}\r\n                    retirarNoLocal={isRetiradaNoLocal}\r\n                    usuarioLogado={usuarioLogado}\r\n                    setEnderecoAtual={setEnderecoAtual}\r\n                    abrirAdicionarEndereco={abrirAdicionarEndereco}\r\n                    setAbrirAdicionarEndereco={setAbrirAdicionarEndereco}\r\n                    setPopUpCep={setPopUpCep}\r\n                    popUpCep={popUpCep}\r\n                    continuarSemCadastro={continuarSemCadastro}\r\n                />\r\n            }\r\n\r\n            {\r\n            (carrinho.pedido?.itens?.length > 0 && !props.visualizacao) && \r\n                <Fab\r\n                    variant=\"extended\"\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    aria-label=\"add\"\r\n                    style={(iphone || android) ? null : {\"padding\": \"25px\"}  }\r\n                    onClick={() => {setCarrinhoOpen(true)}}\r\n                    className={ usuarioPedidoMesa ? classes.fixedMesa : classes.fixed  } id=\"botaoCarrinho\"\r\n                    >\r\n                    <ShoppingBasketIcon className={classes.extendedIcon} />\r\n                    {/* carrinho.pedido?.itens?.length + \" \" */}\r\n                    {/* { carrinho.pedido?.itens?.length > 1 ? \"Produtos\" : \"Produto\" } */}\r\n                    Meu Pedido\r\n                    <span className=\"valorFinalizarPedido\" style={{\"color\":aplicativoDados.corSitePrimaria}}>\r\n                        {\r\n                        estabelecimentoAtual.somarQtdItens == true \r\n                        ? quantidadeProdutos() //carrinho.pedido?.itens.length\r\n                        : Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.pedido?.valorTotal)      \r\n                        }\r\n                    </span>\r\n                </Fab>\r\n            }\r\n            \r\n            {/* {\r\n                (carrinho.pedido?.itens?.length > 0)\r\n                &&\r\n                <Dialog\r\n                open={removeItem}\r\n                aria-labelledby=\"excluirProduto\">\r\n                <DialogTitle id=\"excluirProduto\">{\"Remover Produto\"}</DialogTitle>\r\n                <DialogActions style={{\"justifyContent\": \"center\"}}>  \r\n                    <Button onClick={() => {\r\n                    setRemoveItem(false)\r\n                    }} style={{\"color\": \"#dc3545\"}}>\r\n                        No\r\n                    </Button>\r\n\r\n                    <Button onClick={async () => {\r\n\r\n                    setRemoveItem(false)\r\n\r\n\r\n                    carrinho.pedido.itens.splice(removeItemSelecionado, 1)\r\n                    \r\n                    localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinho))\r\n                    setCarrinho(carrinho)\r\n\r\n                    //calcula valor total\r\n                    await calcularValorTotal()\r\n\r\n                    \r\n\r\n                    \r\n                    }} style={{\"color\": \"white\", \"backgroundColor\": \"#28a745\"}}>\r\n                    Sim\r\n                    </Button>    \r\n                                \r\n                </DialogActions>\r\n                </Dialog> \r\n            } */}\r\n\r\n            {(carrinho.pedido?.itens?.length > 0) &&\r\n                <Dialog\r\n                open={AdicionarCupom}\r\n                aria-labelledby=\"adicionarCupom\">\r\n                <DialogTitle id=\"adicionarCupom\">{\"Adicionar Cupom\"}</DialogTitle>\r\n                <DialogContent>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    autoFocus\r\n                    id=\"codigoAddCupom\"\r\n                    label=\"Cdigo Cupom\"\r\n                    name=\"codigoAddCupom\"\r\n                />  \r\n                </DialogContent>\r\n                <DialogActions style={{\"justifyContent\": \"center\"}}>  \r\n                <Button onClick={() => {\r\n                    setAdicionarCupom(false)\r\n                }} style={{\"color\": \"#dc3545\"}}>\r\n                    Cancelar\r\n                </Button>\r\n\r\n                <Button onClick={adicionarCupom} style={{\"color\": 'white', 'backgroundColor': '#28a745'}}>\r\n                    Adicionar\r\n                </Button>    \r\n                                \r\n                </DialogActions>\r\n            </Dialog>\r\n            }\r\n\r\n            { (carrinho.pedido?.itens?.length > 0) ?\r\n            (<>\r\n                <Dialog\r\n                fullScreen={true}\r\n                // fullScreen={fullScreen}\r\n                open={carrinhoOpen}\r\n                onClose={() => {\r\n                    setCarrinhoOpen(false)\r\n                }}\r\n                aria-labelledby=\"Carrinho-de-Pedidos\">\r\n                <DialogTitle id=\"Carrinho-de-Pedidos\">{\"Pedido\"}</DialogTitle>\r\n\r\n\r\n                \r\n                <DialogContent>\r\n                \r\n                {\r\n                    (isEntregaNoEndereco || isRetiradaNoLocal)\r\n                    ? <DialogActions>\r\n                        <Button \r\n                            // onClick={!usuarioPedidoMesa?.logado ? () => { setInformacoesDoTipoEntrega(true) } : null}\r\n                            onClick={!usuarioPedidoMesa?.logado ? () => { \r\n                                setRodarFuncaoAposIsso(\"\")\r\n                                setTelaRetiradaOuEntrega(true) \r\n                            } : null}\r\n                        >\r\n                        {((isRetiradaNoLocal || isEntregaNoEndereco) && !isUsuarioPedidoMesa)\r\n                        ? isEntregaNoEndereco ? \"Entrega - \" : \"Retirada - \" \r\n                        : null}  Valor Total\r\n                        </Button>\r\n                        <Button >\r\n                        {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.pedido.valorTotal)}\r\n                        </Button>\r\n                    </DialogActions>\r\n                    : null\r\n                }\r\n\r\n                        <List\r\n                        component=\"div\"\r\n                        aria-labelledby=\"nested-list-subheader\"\r\n                        className={classes.rootCarrinho}\r\n                        >\r\n\r\n                            {\r\n                                (isEntregaNoEndereco === false  && temEndereco)\r\n                                && \r\n                                (<>\r\n                                    <AlertFixo style={{\"marginBottom\": \"1em\"}} severity=\"error\"> Essa loja no entrega no seu endereo <b>{enderecoAtual.logradouro}, {enderecoAtual.numero}</b> <Button onClick={() => { setTelaRetiradaOuEntrega(true)}} style={{\"padding\": \"0px\", \"fontSize\": \"80%\"}}>Trocar</Button></AlertFixo>\r\n                                </>)\r\n                            }\r\n                            \r\n                            \r\n                                \r\n                            {/* { (!isUsuarioPedidoMesa && usuarioLogado?.logado && (isRetiradaNoLocal || isEntregaNoEndereco))  && */}\r\n                            { (!isUsuarioPedidoMesa && (isRetiradaNoLocal || isEntregaNoEndereco))  &&\r\n                                \r\n                                (<span>\r\n                                    {( !isUsuarioPedidoMesa && !isRetiradaNoLocal && isEntregaNoEndereco && carrinho.minimoEntregaGratis > 0 && carrinho.minimoEntregaGratis < 999) &&\r\n                                    <AlertFixo style={{\"marginBottom\": \"1em\"}} severity={isFreteGratisMinimoEntrega ? \"success\" : \"warning\"} className=\"campoDeUmAlert\">\r\n                                        Frete Grtis acima de <b>\r\n                                        {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.minimoEntregaGratis)}</b> no total dos produtos.\r\n                                    </AlertFixo>}\r\n\r\n                                    { /* ========== ALERTA MINIMO PARA REALIZAR PEDIDO ============ */\r\n                                        carrinho.valorMinimoPedido > 0 && <AlertFixo severity={carrinho.pedido.valorTotal  > carrinho.valorMinimoPedido ? \"success\" : \"warning\"} className=\"campoDeUmAlert\">O valor minimo do pedido  de <b>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.valorMinimoPedido)} </b></AlertFixo>}\r\n\r\n\r\n                                    <ListItem button  onClick={() =>{\r\n                                            setRodarFuncaoAposIsso(\"\")\r\n                                            setTelaRetiradaOuEntrega(true)\r\n                                        }}>\r\n                                        <ListItemAvatar>\r\n                                        <AvatarTipoEntrega retirada={isRetiradaNoLocal}/>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText \r\n                                        primary={isRetiradaNoLocal ? \"Retirada\" : isEntregaNoEndereco && \"Entrega\"}\r\n                                        />\r\n                                        <ListItemText \r\n                                        primary={(isRetiradaNoLocal || isFreteGratisMinimoEntrega) ? \"\" : Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format((carrinho?.pedido && carrinho?.pedido?.taxaEntrega !== null) ? carrinho?.pedido?.taxaEntrega  : enderecoAtual.taxaEntrega)} className=\"carrinho-produto-valor\"\r\n                                        secondary={\r\n                                            <Button \r\n                                            // onClick={() => { /*setTelaRetiradaOuEntrega(true) */}} \r\n                                            style={{\"padding\": \"0px\", \"float\": \"right\", \"fontSize\": \"80%\" /*,\"color\": `${aplicativoDados.corSitePrimaria}` */}}\r\n                                            >\r\n                                            Trocar\r\n                                            </Button>\r\n                                        }    \r\n                                        />\r\n                                    </ListItem>\r\n                                    <List component=\"div\" disablePadding  >\r\n                                        <ListItem  className={classes.nested} style={{\"paddingTop\": \"0\"}}>\r\n                                        <ListItemText \r\n                                            secondary={\r\n                                            isRetiradaNoLocal \r\n                                            ? `${estabelecimentoAtual?.nome}: ${estabelecimentoAtual?.endereco} - ${estabelecimentoAtual?.telefone}`\r\n                                            : `${enderecoAtual.logradouro} - n ${enderecoAtual.numero}`\r\n                                            } \r\n                                        />\r\n                                        </ListItem>\r\n                                    </List>            \r\n                                    <Divider/>\r\n                                </span>)\r\n                            }\r\n                            \r\n\r\n\r\n                            \r\n                        \r\n\r\n                        {((cardapio.percentualDesconto || cardapio.valorDesconto) && cardapio.informacao)\r\n                        ? (\r\n                        <span>\r\n                            <ListItem button  >\r\n                            <ListItemAvatar>\r\n                                <Avatar>\r\n                                <FavoriteIcon />\r\n                                </Avatar>\r\n                            </ListItemAvatar>\r\n                            <ListItemText primary={cardapio.informacao.includes(\"resgate de cartela\") ? \"Fidelidade\" : \"Desconto\"} />\r\n                            <ListItemText \r\n                                primary={Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format( -descontoCardapio )} className=\"carrinho-produto-valor-negativo\"\r\n                                secondary={\r\n                                <Button \r\n                                    onClick={removerCupom} \r\n                                    style={{\"padding\": \"0px\", \"float\": \"right\", \"fontSize\": \"80%\" /*,\"color\": `${aplicativoDados.corSitePrimaria}` */}}\r\n                                >\r\n                                    No Usar\r\n                                </Button>\r\n                                }   \r\n                            />\r\n                            </ListItem> \r\n                            <List component=\"div\" disablePadding >\r\n                                <ListItem  className={classes.nested} style={{\"paddingTop\": \"0\"}}>\r\n                                    <ListItemText secondary={cardapio.informacao} />\r\n                                </ListItem>\r\n                            </List>  \r\n                            <Divider/>\r\n                        </span>\r\n                        ): null}\r\n\r\n\r\n                        {cardapio.cupomDesconto \r\n                        ? (\r\n                        <span>\r\n                            <ListItem button >\r\n                            <ListItemAvatar>\r\n                                <Avatar>\r\n                                <ConfirmationNumberIcon />\r\n                                </Avatar>\r\n                            </ListItemAvatar>\r\n                            <ListItemText primary={cardapio.cupomDesconto.codigoCupom} />\r\n                            <ListItemText \r\n                                primary={Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format( -descontoCardapio )} className=\"carrinho-produto-valor-negativo\"\r\n                                secondary={\r\n                                <Button \r\n                                    onClick={removerCupom} \r\n                                    style={{\"padding\": \"0px\", \"float\": \"right\", \"fontSize\": \"80%\" /*,\"color\": `${aplicativoDados.corSitePrimaria}` */}}\r\n                                >\r\n                                    Remover\r\n                                </Button>\r\n                                }    \r\n                            />\r\n                            </ListItem>                       \r\n                            <List component=\"div\" disablePadding >\r\n                            <ListItem  className={classes.nested} style={{\"paddingTop\": \"0\"}}>\r\n                                <ListItemText secondary={cardapio.cupomDesconto.mensagem ? cardapio.cupomDesconto.mensagem : \r\n                                `Cupom de desconto ${cardapio.cupomDesconto.codigoCupom} ${cardapio.cupomDesconto.freteGratis ? \"com frete grtis\" : \"\"}`} />\r\n                            </ListItem>\r\n                            </List>   \r\n                            <Divider/>\r\n                        </span> \r\n                        ): (usuarioLogado.logado && !usuarioPedidoMesa?.logado && !(cardapio.percentualDesconto || cardapio.valorDesconto)) &&\r\n                            <span> \r\n                                <ListItem button onClick={()=>{setAdicionarCupom(true)}} >\r\n                                <ListItemAvatar>\r\n                                    <Avatar>\r\n                                    <ConfirmationNumberIcon />\r\n                                    </Avatar>\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary={'Adicionar Cupom'} />\r\n                                </ListItem>        \r\n                                <Divider/>\r\n                            </span> }\r\n                            \r\n\r\n                        {\r\n                            (carrinho?.pedido && carrinho.pedido?.formaPagamento && carrinho.pedido.formaPagamento?.desconto) &&\r\n                            <span>\r\n                                <ListItem button  >\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                        <PaymentIcon />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={`Desconto em ${carrinho.pedido.formaPagamento.descricao}`} />\r\n                                    <ListItemText \r\n                                        primary={`${carrinho.pedido.formaPagamento.desconto} %`} className=\"carrinho-produto-valor-negativo\"\r\n                                    />\r\n                                </ListItem> \r\n                                <Divider/>\r\n                            </span>\r\n                        }\r\n                            \r\n\r\n\r\n\r\n                        <ListSubheader component=\"div\" id=\"nested-list-subheader\" className=\"mt-4\">\r\n                            <b> ({carrinho.pedido?.itens.length}) Produtos adicionados:</b>\r\n                        </ListSubheader>\r\n                        \r\n                        \r\n                        \r\n                        {carrinho.pedido?.itens.map((item, index) => (\r\n                            \r\n                            <div key={index} style={{\"position\": \"relative\"}}>\r\n                            \r\n                            <ListItem button onClick={() => {\r\n                                setRemoveItemSelecionado(index)\r\n                                setRemoveItem(true)\r\n                                }} >\r\n                                <ListItemAvatar>\r\n                                {\r\n                                    item.produto.urlImagem ? \r\n                                    <Avatar style={{\"backgroundImage\": `url(${item.produto.urlImagem})`, \"backgroundSize\": \"cover\"}}>\r\n                                        <> </>\r\n                                    </Avatar>\r\n                                    : <Avatar className={\"opacity05\"} style={{\"backgroundImage\": `url(${(item.produto.produtoExibicao ? Megafone : /**Prato */ Comida)})`, \"backgroundSize\": \"cover\", \"backgroundColor\": \"white\"}}>\r\n                                        <> </>\r\n                                    </Avatar>\r\n                                }\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary={item.quantidade + \"x \"+ item.produto.nome} />\r\n                                <ListItemText \r\n                                primary={Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(item.valorProdutoHistorico)} \r\n                                secondary={\r\n                                    <Button\r\n                                    style={{\"padding\": \"0px\", \"float\": \"right\", \"fontSize\": \"80%\", \"color\": `#dc3545`}}\r\n                                    // onClick={() => {\r\n                                        // setRemoveItemSelecionado(index)\r\n                                        // setRemoveItem(true)\r\n                                    // }}\r\n                                    onClick={async () => {\r\n                                        setRemoveItem(false)\r\n                                        carrinho.pedido.itens.splice(index, 1)\r\n                                        localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinho))\r\n                                        setCarrinho(carrinho)\r\n                                        //calcula valor total\r\n                                        await calcularValorTotal()\r\n                                    }}\r\n                                    >Remover</Button>\r\n                                }\r\n                                className=\"carrinho-produto-valor\"/>\r\n                                \r\n                            </ListItem>    \r\n\r\n                            {\r\n                                (item.produto.promocional && cardapio.percentualDesconto && !cardapio.valorDesconto)\r\n                                ?\r\n                                <List key={index} component=\"div\" disablePadding >\r\n                                    <ListItem  className={classes.nested} style={{\"paddingTop\": \"0\"}}>\r\n                                       <p className=\"promocionalElement\">\r\n                                            promocional, ento no recebe descontos percentuais.\r\n                                       </p>\r\n                                    </ListItem>\r\n                                </List> \r\n                                \r\n                                : null \r\n                            }\r\n                            {!!item.itensOpcaoProduto.length &&\r\n                                item.itensOpcaoProduto.map((adicional, index) =>(\r\n                                <List key={index} component=\"div\" disablePadding >\r\n                                    <ListItem  className={classes.nested} style={{\"paddingTop\": \"0\"}}>\r\n                                    <ListItemText secondary={adicional.quantidade + \"x \" + adicional.opcaoProduto.nome} />\r\n                                    </ListItem>\r\n                                </List>     \r\n                                ))\r\n                            }\r\n                            \r\n                            \r\n\r\n                            <Divider/>\r\n                            </div>\r\n                            \r\n                        ))}\r\n                        \r\n                    </List>     \r\n\r\n                </DialogContent>\r\n\r\n                <DialogActions>\r\n                \r\n                <Button onClick={() => {setCarrinhoOpen(false)}} style={{\"color\": \"#dc3545\"}}>\r\n                    Voltar ao Cardpio\r\n                </Button>\r\n                \r\n                \r\n                \r\n                <Button variant=\"contained\" fullWidth onClick={() => {\r\n                    if(aplicativoDados.clienteFielStart){\r\n                    setPagamentoOpen(true)\r\n                    }else{\r\n                    if(estabelecimentoAtual.online === false){\r\n                        alertStart(\"Estamos fechados no momento. Tente novamente mais tarde!\", \"warning\")              \r\n                    // }else if( enderecoAtual.taxaEntrega === -1 || carrinho?.pedido?.taxaEntrega === -1){\r\n                    }else if(estabelecimentoAtual.online && estabelecimentoAtual.pausado){\r\n                        alertStart(\"Estamos abertos, porm pausados nesse momento. Tente novamente mais tarde!\", \"warning\")              \r\n                    }else if( isEntregaNoEndereco === false && temEndereco){\r\n                        alertStart(\"No entregamos no seu endereo atualmente.\", \"warning\")  \r\n                    }else if( carrinho.pedido.valorTotal < carrinho.valorMinimoPedido && !usuarioPedidoMesa?.logado){\r\n                        alertStart(`O valor mnimo para pedido  de ${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.valorMinimoPedido)}.`, \"warning\")  \r\n                    }else{\r\n\r\n                        if(aplicativoDados.pixelFacebook){\r\n                        ReactPixel.track('InitiateCheckout')\r\n                        }\r\n\r\n                        setRodarFuncaoAposIsso('formaPagamento')\r\n                        if(!usuarioLogado.logado && !usuarioPedidoMesa?.logado ){\r\n                        //PEDE PRA FAZER LOGIN\r\n                        setInformacoesDoTipoEntrega(true)\r\n                        }else if(usuarioPedidoMesa?.logado){\r\n                        EnderecoPedidoMesa()\r\n                        if(cardapio.formasPagamento?.length > 0){\r\n                            setPagamentoOpen(true) \r\n                        }else if(continuarSemCadastro){\r\n                            setPopUpCep(true)\r\n                            setAbrirAdicionarEndereco(true)\r\n                        }else{\r\n                            setInformacoesPedido(true)\r\n                        }\r\n                        }else if((isRetiradaNoLocal || temEndereco)){\r\n                            setPagamentoOpen(true) \r\n                        }else{\r\n                        if(estabelecimentoAtual.permiteRetiradaBalcao){\r\n                            setTelaRetiradaOuEntrega(true)\r\n                        }else{\r\n                            localStorage.setItem('backupItensCarrinhoCF', JSON.stringify(JSON.parse(localStorage.getItem('carrinhoCF')).pedido.itens))\r\n                            irParaEnderecos()\r\n                        }\r\n                        }                             \r\n                    }}\r\n                    // }} style={(enderecoAtual.taxaEntrega === -1 || carrinho?.pedido?.taxaEntrega === -1) ? {} : {\"background\": \"#28a745\", \"color\":\"white\"}}>\r\n                    }} style={( isEntregaNoEndereco === false && temEndereco) ? {} : {\"background\": \"#28a745\", \"color\":\"white\"}}>\r\n                    Finalizar  \r\n                    {\r\n                    // (enderecoAtual.taxaEntrega === -1 || carrinho?.pedido?.taxaEntrega === -1)\r\n                    ( isEntregaNoEndereco === false && temEndereco)\r\n                    ? null\r\n                    : <span className=\"valorFinalizarPedido\">\r\n                        {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.pedido.valorTotal ? carrinho.pedido.valorTotal : 0.0)}\r\n                        </span>\r\n                    }\r\n                    \r\n                </Button>          \r\n                \r\n                \r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n                    \r\n                {\r\n                ( usuarioPedidoMesa?.logado && estabelecimentoAtual.solicitarComanda ) &&\r\n                <Dialog\r\n                    fullScreen={fullScreen}\r\n                    open={qrCodeModal}\r\n                    aria-labelledby=\"qrCodeComanda\">\r\n\r\n                    <DialogTitle id=\"qrCodeComanda\">{\"Leia o QRCode na COMANDA\"}</DialogTitle>\r\n                    <DialogContent>\r\n\r\n                    <QRCode/>\r\n\r\n                    </DialogContent>\r\n                    <DialogActions>                \r\n                    <Button onClick={() => {setQrCodeModal(false)}} >\r\n                        Cancelar\r\n                    </Button>                \r\n                    </DialogActions>\r\n                </Dialog>\r\n                }\r\n                \r\n                <Dialog\r\n                // fullScreen={fullScreen}\r\n                fullScreen={true}\r\n                open={informacoesPedido}\r\n                onClose={() => {setInformacoesPedido(false)}}\r\n                aria-labelledby=\"responsive-dialog-informacoes-nome-pedido\">\r\n                <DialogTitle id=\"responsive-dialog-informacoes-nome-pedido\">{\"Confirmao Dados\"}</DialogTitle>\r\n                <DialogContent>\r\n\r\n                    {/* { (!isRetiradaNoLocal && !usuarioPedidoMesa?.logado)\r\n                    && <Typography>\r\n                        <b>Entregar</b> na {enderecoAtual.logradouro + \" - n: \" + enderecoAtual.numero} - Bairro {enderecoAtual.bairro} - {enderecoAtual.cidade + \" - \" + enderecoAtual.uf}\r\n                        <b> Complemento:</b> {enderecoAtual.complemento} e <b>Referncia: </b>{enderecoAtual.referencia}\r\n                        <br/>\r\n                        </Typography>\r\n                    } */}\r\n                    <div style={{\"textAlign\": \"center\"}}>\r\n                        {\r\n                            !isUsuarioPedidoMesa &&\r\n                            <Button onClick={() => {\r\n                                if(continuarSemCadastro === true){\r\n                                    setPopUpCep(true)\r\n                                    setAbrirAdicionarEndereco(true)\r\n                                    window.setTimeout(function(){\r\n                                        setInformacoesPedido(false)\r\n                                    },500)\r\n                                    \r\n                                }else{\r\n                                    setTelaRetiradaOuEntrega(true)\r\n                                    // irParaEnderecos()\r\n                                }\r\n                            }} style={{\"padding\": \"0px\", \"color\": `${aplicativoDados.corSitePrimaria}`}}>Trocar forma de entrega</Button>\r\n                        }\r\n                    </div>\r\n                    <br></br>\r\n                    {\r\n                        (!isUsuarioPedidoMesa &&\r\n                            temEndereco \r\n                            ? <Typography style={{\"textAlign\": \"center\"}}>\r\n                                <b>Entregar</b> na {enderecoAtual.logradouro + \" - n: \" + enderecoAtual.numero} - Bairro {enderecoAtual.bairro} - {enderecoAtual.cidade + \" - \" + enderecoAtual.uf}\r\n                                <b> Complemento:</b> {enderecoAtual.complemento} e <b>Referncia: </b>{enderecoAtual.referencia}\r\n                                <br/>\r\n                                </Typography>\r\n                            : isRetiradaNoLocal\r\n                                ? <Typography style={{\"textAlign\": \"center\"}}>\r\n                                    <b>Retirar no estabelecimento: </b>{estabelecimentoAtual.nome}<br/>\r\n                                    Endereco: {estabelecimentoAtual.endereco}<br/>\r\n                                    Telefone: {estabelecimentoAtual.telefone}<br/>\r\n                                </Typography>\r\n                                : null\r\n                        )\r\n                    }\r\n                    <br></br>\r\n                    <Typography>\r\n                        Produtos: + {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format( calcularValorProdutos() )}<br/>\r\n                        {valorDesconto ? <>Descontos: - {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format( valorDesconto )}<br/></> : null}\r\n                        {(temEndereco && !isUsuarioPedidoMesa) ? <>Taxa Entrega: + {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format( valorTaxaEntrega )}<br/></>: null}\r\n                        <b>Valor Final = {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format( carrinho.pedido.valorTotal  )}</b><br/>\r\n\r\n                    </Typography>\r\n\r\n                    \r\n\r\n                    {\r\n                    ( solicitarNomeAoFinalizar ) &&\r\n                        <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        autoFocus={(usuarioLogado?.cliente?.nome && !usuarioPedidoMesa?.logado) ? false : true}\r\n                        defaultValue={usuarioPedidoMesa?.logado ? usuarioPedidoMesa?.cliente?.nome : usuarioLogado?.cliente?.nome}\r\n                        id=\"nomePedido\"\r\n                        label=\"Seu Nome\"\r\n                        name=\"nomePedido\"\r\n                        />  \r\n                    }\r\n\r\n                    {\r\n                    ( solicitarTelefoneAoFinalizar ) &&\r\n                        <TextField\r\n                        variant=\"outlined\"\r\n                        autoFocus={(!usuarioPedidoMesa?.logado && usuarioLogado?.cliente?.nome && !usuarioLogado?.cliente?.telefone ) ? true : false}\r\n                        defaultValue={(usuarioLogado?.cliente?.telefone)?.replace(' ', '').replace('.','').replace('-','').replace('(','').replace(')','').replace('/','')}\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        id=\"telefonePedido\"\r\n                        label=\"Seu Telefone\"\r\n                        name=\"telefonePedido\"\r\n                        />  \r\n                    }\r\n                    \r\n                    {\r\n                    usuarioPedidoMesa?.logado &&\r\n                    \r\n                    <FormControl disabled={(isNumeric(nomeMesa) || carrinho?.mesa) ? true : false} variant=\"outlined\" style={{\"width\": \"100%\", \"marginTop\": \"1.5em\"}}>\r\n                        <InputLabel id=\"numeroDaMesaLabel\">Mesa</InputLabel>\r\n                        <Select\r\n                        defaultValue={isNumeric(nomeMesa) ? nomeMesa : (carrinho?.mesa ? carrinho?.mesa : 0)}\r\n                        labelId=\"numeroDaMesaLabel\"\r\n                        id=\"numeroDaMesa\"\r\n                        label=\"Mesa\"\r\n                        fullWidth\r\n                        > \r\n                        <MenuItem key={0} value={0}>{\"No Selecionada\"} </MenuItem>\r\n                        {\r\n                            numeroMesas.map((num) => (\r\n                            <MenuItem key={num} value={num}>{\"Mesa \" + num} </MenuItem>\r\n                            ))\r\n                        }\r\n                        </Select>\r\n                    </FormControl>              \r\n                    }\r\n\r\n                    <TextField style={{\"margin\": \"1em 0\"}}\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        id=\"observacaoPedido\"\r\n                        label=\"Observao\"\r\n                        name=\"observacaoPedido\"\r\n                        type=\"text\"\r\n                        ></TextField>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => {setInformacoesPedido(false)}} style={{\"color\": \"#dc3545\"}}>\r\n                    Fechar\r\n                    </Button> \r\n                    <Button variant=\"contained\" style={{\"background\": \"#28a745\", \"color\":\"white\"}} onClick={confirmacaoInformacoes}>\r\n                    Enviar Pedido\r\n                    <span className=\"valorFinalizarPedido\">\r\n                    {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.pedido.valorTotal ? carrinho.pedido.valorTotal : 0.0)}\r\n                    </span>\r\n                    </Button>\r\n                </DialogActions>\r\n                </Dialog>\r\n\r\n                {cardapio.formasPagamento ? <Dialog\r\n                // fullScreen={fullScreen}\r\n                fullScreen={true}\r\n                open={pagamentoOpen}\r\n                onClose={() => {setPagamentoOpen(false)}}\r\n                aria-labelledby=\"responsive-dialog-pagamento\">\r\n                <DialogTitle id=\"responsive-dialog-pagamento\">{\"Formas de Pagamento\"}</DialogTitle>\r\n                <DialogContent style={{padding: '8px 15px'}}>\r\n                    <FormControl component=\"fieldset\">\r\n                        <FormLabel component=\"legend\">Selecione a melhor opo</FormLabel>\r\n                        <RadioGroup aria-label=\"formaDePagamento\" name=\"formaDePagamento\" value={formaDePagamento} onChange={async (e) => {\r\n                        \r\n                            selecionarFormaDePagamento(e.target.value)\r\n\r\n                        }}>\r\n                        {\r\n                        cardapio.formasPagamento.map((formaDePagamento, index) => (                  \r\n                            <span key={formaDePagamento.id} >\r\n                            {formaDePagamento.urlImagem ? <img src={formaDePagamento.urlImagem} alt={formaDePagamento.descricao} className=\"bandeiraCartao\"/> : <PaymentIcon className=\"bandeiraCartao\"/>}                    \r\n                            <FormControlLabel value={\"forma\"+index} control={<Radio />} label={`${formaDePagamento.descricao} ${formaDePagamento.desconto ? ` - ${formaDePagamento.desconto}% Desconto` : \"\"}` } />                \r\n                            </span>\r\n                        ))\r\n                        }       \r\n                        </RadioGroup>\r\n                    </FormControl>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => {setPagamentoOpen(false)}} style={{\"color\": \"#dc3545\"}}>\r\n                    Fechar\r\n                    </Button>  \r\n                    { formaDePagamento\r\n                    ? (<Button variant=\"contained\" style={{\"background\": \"#28a745\", \"color\":\"white\"}} onClick={ async () => {\r\n\r\n                        selecionarFormaDePagamento(formaDePagamento)\r\n\r\n                    }}>Confirmar\r\n                    </Button>)\r\n                    : (<Button variant=\"contained\" disabled >Confirmar\r\n                    </Button>)\r\n                    }\r\n                \r\n                    \r\n                \r\n                </DialogActions>\r\n                </Dialog> : null} \r\n\r\n                </>) : null}\r\n\r\n\r\n                <Dialog\r\n                open={troco[0]}\r\n                aria-labelledby=\"trocoModal\">\r\n                <DialogTitle id=\"trocoModal\">{\"Insira o valor para trocar\"}</DialogTitle>\r\n                <DialogContent>\r\n                            <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            fullWidth\r\n                            autoFocus\r\n                            value={troco[1]}\r\n                            onChange={(e) => {\r\n                                setTroco([true, e.target.value === \"\" ? \"R$ 0,00\"  : \"R$ \"+formatReal(getMoney(e.target.value))])\r\n                            }}\r\n                            id=\"valorTroco\"\r\n                            label=\"Valor para Trocar\"\r\n                            name=\"valorTroco\"\r\n                            />  \r\n\r\n                <FormControlLabel\r\n                    control={\r\n                    <Checkbox\r\n                        icon={<CheckBoxOutlineBlankIcon fontSize=\"small\" />}\r\n                        checkedIcon={<CheckBoxIcon fontSize=\"small\" />}\r\n                        name=\"naoPrecisoDeTroco\"\r\n                        onClick={() => { \r\n                            setTroco([true, '' ]) \r\n                            prontoTroco()\r\n                        }}\r\n                    />\r\n                    }\r\n                    label=\"No preciso de troco\"\r\n                />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => {setTroco([false, ''])}} style={{\"color\": \"#dc3545\"}}>\r\n                    Trocar\r\n                    </Button>  \r\n                    <Button onClick={prontoTroco} style={{\"backgroundColor\": \"#28a745\", \"color\": \"white\"}}>\r\n                    Pronto\r\n                    </Button>  \r\n                </DialogActions>\r\n                </Dialog>\r\n\r\n\r\n                <Dialog\r\n                open={PagamentoOnline[0]}\r\n                aria-labelledby=\"pagamentoOnlineModal\">\r\n                <DialogTitle id=\"pagamentoOnlineModal\">{MeusCartoes === 0 ? \"Pagamento Online\" : \"Meus Cartes\"}</DialogTitle>\r\n                \r\n                { MeusCartoes.length === 0 || CriarCartao === true\r\n                ?(<form id=\"payment-form\"  name=\"payment-form\" method=\"POST\" autoComplete=\"off\" onSubmit={(e) => {VerificarPagamentoOnline(e)}}>\r\n\r\n                <DialogContent>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        \r\n                        //autoFocus\r\n                        //value={troco[1]}\r\n                        /*onChange={(e) => {\r\n                            setTroco([true, \"R$ \"+formatReal(getMoney(e.target.value))])\r\n                        }}*/\r\n                        id=\"numeroCartao_PagamentoOnline\"\r\n                        label=\"Nmero Carto\"\r\n                        name=\"numeroCartao_PagamentoOnline\"\r\n                        className=\"credit_card_number\"\r\n                        inputProps={{ 'data-iugu': 'number' }} \r\n                        required\r\n                        type=\"number\"\r\n\r\n                    />  \r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        type=\"number\"\r\n                        fullWidth\r\n                        //autoFocus\r\n                        //value={troco[1]}\r\n                        /*onChange={(e) => {\r\n                            setTroco([true, \"R$ \"+formatReal(getMoney(e.target.value))])\r\n                        }}*/\r\n                        id=\"cvv_PagamentoOnline\"\r\n                        label=\"CVV\"\r\n                        name=\"cvv_PagamentoOnline\"\r\n                        inputProps={{ 'data-iugu': 'verification_value' }} \r\n                        required\r\n                        className=\"credit_card_cvv\"\r\n\r\n                    /> \r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        required\r\n                        inputProps={{ 'data-iugu': 'full_name' }} \r\n                        //autoFocus\r\n                        //value={troco[1]}\r\n                        /*onChange={(e) => {\r\n                            setTroco([true, \"R$ \"+formatReal(getMoney(e.target.value))])\r\n                        }}*/\r\n                        id=\"titular_PagamentoOnline\"\r\n                        label=\"Titular do Carto\"\r\n                        name=\"titular_PagamentoOnline\"\r\n                        className=\"credit_card_name\"\r\n                    />  \r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        required\r\n                        //value={troco[1]}\r\n                        id=\"expiracao_PagamentoOnline\"\r\n                        className=\"credit_card_expiration\"\r\n                        inputProps={{ 'data-iugu': 'expiration' }} \r\n                        label=\"MM/AA\"\r\n                        name=\"expiracao_PagamentoOnline\"\r\n                    />    \r\n\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        required\r\n                        id=\"cpf_PagamentoOnline\"\r\n                        label=\"CPF\"\r\n                        name=\"cpf_PagamentoOnline\"\r\n                    />\r\n                    \r\n                    \r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => {setPagamentoOnline([false, {}])}} style={{\"color\": \"#dc3545\"}}>\r\n                    Trocar\r\n                    </Button>  \r\n                    <Button type=\"submit\" style={{\"backgroundColor\": \"#28a745\", \"color\": \"white\"}} >\r\n                    Pronto\r\n                    </Button>  \r\n                </DialogActions>\r\n                </form>)\r\n                \r\n                : MeusCartoes.length && (<div>\r\n                    <DialogContent>\r\n                        {\r\n                        MeusCartoes.map((cartao, index) => (\r\n                            <div key={index}>\r\n                            <ListItem button onClick={() => EscolhiMeuCartaoPagamentoOnline(index)}  style={{\"padding\": \"8px 0\"}}>\r\n                                <ListItemAvatar>\r\n                                <Avatar>\r\n                                    <PaymentIcon />\r\n                                </Avatar>\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary={cartao.numeroCartao} />\r\n                            </ListItem>   \r\n                            <Divider/>\r\n                            </div>                   \r\n                        ))\r\n                        }\r\n                    </DialogContent>\r\n                    <DialogActions> \r\n                        <Button onClick={() => {setPagamentoOnline([false, {}])}} style={{\"color\": \"#dc3545\"}}>\r\n                        Trocar\r\n                        </Button>  \r\n                        <Button onClick={() =>{ setCriarCartao(true) }} style={{\"color\": \"#28a745\"}}>\r\n                        Outro Carto\r\n                        </Button>  \r\n                    </DialogActions>\r\n                </div>)}\r\n                \r\n                </Dialog>\r\n\r\n\r\n\r\n\r\n\r\n                {cardapio.id ?\r\n                <><Dialog\r\n                open={InformacoesDoTipoEntrega}\r\n                // fullScreen={fullScreen}\r\n\r\n                onClose={() => {\r\n                    setContinuarSemCadastro(false)\r\n                    setInformacoesDoTipoEntrega(false)  \r\n                }}\r\n                aria-labelledby=\"informacoesFormaDeEntregaModal\">\r\n\r\n                \r\n\r\n                {\r\n                (usuarioLogado?.logado) \r\n                ? <DialogTitle id=\"informacoesFormaDeEntregaModal\">\r\n                    {\r\n                        (isRetiradaNoLocal\r\n                        ? \"Para Retirada\" \r\n                        : \"Para Entrega\" )\r\n                    }\r\n                    </DialogTitle>\r\n                : <DialogTitle id=\"informacoesFormaDeEntregaModal\">\r\n                    Voc No Est Logado\r\n                    </DialogTitle>\r\n                }\r\n\r\n                \r\n                <DialogContent>\r\n                {/* {\r\n                    temEndereco\r\n                        ?<Typography>\r\n                            <b>Rua: </b>{enderecoAtual.logradouro + \" - n: \" + enderecoAtual.numero}<br/><br/>\r\n                            <b>Bairro: </b>{enderecoAtual.bairro}<br/><br/>\r\n                            <b>Cidade: </b>{enderecoAtual.cidade + \" - \" + enderecoAtual.uf}<br/><br/>\r\n                            <b>Complemento: </b>{enderecoAtual.complemento}<br/><br/>            \r\n                            <b>Referencia: </b>{enderecoAtual.referencia}<br/><br/>\r\n                            <b>Taxa: </b>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(enderecoAtual?.taxaEntrega)}<br/><br/>\r\n                        </Typography>\r\n                \r\n                        : isRetiradaNoLocal \r\n                            ? <Typography>\r\n                                <b>Retirar no estabelecimento: </b>{estabelecimentoAtual.nome}<br/><br/>\r\n                                <b>Endereco: </b>{estabelecimentoAtual.endereco}<br/><br/>\r\n                                <b>Telefone: </b>{estabelecimentoAtual.telefone}<br/><br/>\r\n                            </Typography>\r\n\r\n                        :   <Typography>\r\n                                Voc no esta logado com nenhum usurio\r\n                            </Typography>\r\n                } */}\r\n\r\n                    <Typography>\r\n                        Voc pode continuar e fazer login no final ou pode se conectar agora\r\n                    </Typography>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    {\r\n                        // true\r\n                        aplicativoDados.permitirContinuarSemCadastro\r\n                        ?   <Button onClick={() => {\r\n                                setContinuarSemCadastro(true)\r\n                                setInformacoesDoTipoEntrega(false)  \r\n                                if(cardapio.formasPagamento?.length > 0){\r\n                                    setPagamentoOpen(true) \r\n                                }else{\r\n                                    setInformacoesPedido(true)\r\n                                }\r\n                            }} style={{\"color\": \"#dc3545\"}}>\r\n                                Continuar sem Cadastro\r\n                            </Button>  \r\n                        :   <Button onClick={() => {setInformacoesDoTipoEntrega(false)}} style={{\"color\": \"#dc3545\"}}>\r\n                                Voltar\r\n                            </Button>  \r\n                    }\r\n                \r\n                \r\n                {usuarioLogado?.logado\r\n                \r\n                ? /* LOGADO */ <Button onClick={() =>{\r\n                    if(estabelecimentoAtual.permiteRetiradaBalcao){\r\n                        setTelaRetiradaOuEntrega(true)\r\n                    }else{\r\n                        irParaEnderecos()\r\n                    }\r\n                    }} style={{\"backgroundColor\": \"#28a745\", \"color\": \"white\"}} >\r\n                    {(isRetiradaNoLocal || temEndereco) ? \"Trocar\" : \"Adicionar\"}\r\n                    </Button> \r\n                \r\n                : /* DESLOGADO */ <Button onClick={() =>{\r\n                    if(!!JSON.parse(localStorage.getItem('carrinhoCF')).pedido?.itens){\r\n                        localStorage.setItem('backupItensCarrinhoCF', JSON.stringify(JSON.parse(localStorage.getItem('carrinhoCF')).pedido.itens))\r\n                    }\r\n                    irParaLogin()\r\n                    }} style={{\"color\": \"white\", 'backgroundColor': '#28a745'}}>\r\n                    Fazer Login\r\n                    </Button>  }\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n\r\n            <Dialog\r\n                open={AbrirMostrarFotoProduto}\r\n                aria-labelledby=\"MostrarFotoProdutoModal\">\r\n\r\n                <DialogContent style={{\"textAlign\": \"center\"}}>\r\n                <img className={MostrarFotoProduto.urlImagem ? '' : \"opacity05\"} style={{\"width\": \"250px\"}} alt={MostrarFotoProduto.nome} src={MostrarFotoProduto.urlImagem ? MostrarFotoProduto.urlImagem : (MostrarFotoProduto.produtoExibicao ? Megafone : /**Prato */ Comida)}/>\r\n                <Typography component=\"h5\" variant=\"h5\" >\r\n                    {MostrarFotoProduto.nome}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                    {MostrarFotoProduto.descricao}\r\n                </Typography>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                {MostrarFotoProduto.produtoExibicao ? null : \r\n                    <Button onClick={() => {\r\n                    // if(carrinho?.pedido?.valorEntrega === -1 || carrinho?.pedido?.taxaEntrega === -1){\r\n                    if( isEntregaNoEndereco === false && temEndereco){\r\n                        if(estabelecimentoAtual.permiteRetiradaBalcao){\r\n                        setTelaRetiradaOuEntrega(true)\r\n                        }else{\r\n                        irParaEnderecos()\r\n                        }\r\n                    }else{\r\n                        irParaProduto(MostrarFotoProduto.id)\r\n                    }\r\n                    }} style={{\"color\": \"#28a745\"}}>\r\n                    Adicionar \r\n                    </Button>\r\n                }\r\n                <Button onClick={() => {\r\n                    setAbrirMostrarFotoProduto(false)}} style={{\"color\": \"#dc3545\"}}>\r\n                    Voltar\r\n                </Button>  \r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Dialog\r\n                open={TelaRetiradaOuEntrega}\r\n                fullWidth\r\n                onClose={() => {setTelaRetiradaOuEntrega(false)}}\r\n                aria-labelledby=\"TelaRetiradaOuEntregaModal\">\r\n                <DialogTitle id=\"TelaRetiradaOuEntregaModal\">{\"Melhor Opo\"}</DialogTitle>\r\n                <DialogContent style={{\"textAlign\": \"center\"}}>\r\n\r\n                {( isEntregaNoEndereco === false && temEndereco)\r\n                ? /* ========== ALERTA ESTABELECIMENTO NAO ENTREGA NESSE ENDEREO ============ */ \r\n                (<AlertFixo style={{\"marginBottom\": \"1em\"}} severity=\"error\"> Essa loja no entrega no seu endereo <b>{enderecoAtual.logradouro}, {enderecoAtual.numero}</b> </AlertFixo>)\r\n                : null}\r\n                \r\n                <Button variant=\"contained\"  onClick={selecioneiRetiradaNoLocal} style={{\"background\": `#28a745`, \"color\":\"white\", \"margin\": \"5px 10px\"}} >\r\n                    Para Retirada \r\n                </Button>\r\n\r\n                <Button variant=\"contained\" onClick={selecioneiEndereco} style={{\"background\": `#28a745`, \"color\":\"white\"}} >\r\n                    {/* {enderecoAtual.taxaEntrega === -1 ? \"Outro Endereo\" : \"Entregar No Endereo\"} */}\r\n                    Para Entrega\r\n                </Button>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                <Button onClick={() => {setTelaRetiradaOuEntrega(false)}} style={{ \"margin\": \"5px 10px\", \"color\": \"#dc3545\"}}>\r\n                    Voltar\r\n                </Button>  \r\n                </DialogActions>\r\n            </Dialog></>\r\n            : null}\r\n        </>\r\n    )\r\n}","import React from \"react\"\r\nimport {Card,  Row, Col, Container } from 'react-bootstrap';\r\nimport AlertFixo from '@material-ui/lab/Alert';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport { TramRounded } from \"@material-ui/icons\";\r\n\r\nexport default function opcoesProdutos(props){\r\n\r\n    const {\r\n        classes,\r\n        procurarProduto,\r\n        cardapio\r\n    } = props\r\n\r\n    return(\r\n        <>\r\n            <Row style={{\"textAlign\":\"center\"}} id=\"campoOpcoesProdutos\">\r\n              {/* <Col xs={12} md={9} lg={9}>\r\n                <div className={classes.search}>\r\n                  <div className={classes.searchIcon}>\r\n                    <SearchIcon />\r\n                  </div>\r\n                  <InputBase\r\n                    placeholder=\"Procurar...\"\r\n                    onChange={procurarProduto}\r\n                    style={{\"display\": \"block\"}}\r\n                    classes={{\r\n                      root: classes.inputRoot,\r\n                      input: classes.inputInput,\r\n                    }}\r\n                    inputProps={{ 'aria-label': 'search' }}\r\n                  />\r\n                </div>\r\n              \r\n              </Col> */}\r\n              <Col xs={9} md={9} lg={9} style={{\"textAlign\":\"left\"}} >\r\n                 <span>\r\n                  {\r\n                      cardapio.minimoEntregaGratis && cardapio.minimoEntregaGratis < 9000\r\n                        ? `Mnimo para entrega grtis: ${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(cardapio.minimoEntregaGratis)}`\r\n                        : !cardapio.valorMinimoPedido\r\n                            ? \"No possui pedido mnimo\"\r\n                            : `Pedido mnimo: ${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(cardapio.valorMinimoPedido)}`\r\n                  } \r\n                 </span>\r\n\r\n                 <InputBase\r\n                      placeholder=\"Procurar...\"\r\n                      onChange={procurarProduto}\r\n                      style={{\"display\": \"block\"}}\r\n                      classes={{\r\n                        root: classes.inputRoot,\r\n                        input: classes.inputInput,\r\n                      }}\r\n                      id=\"InputPesquisar\"\r\n                      className=\"inputSearch\"\r\n                      inputProps={{ 'aria-label': 'search' }}\r\n                    /> \r\n              </Col>\r\n              <Col xs={3} md={3} lg={3} style={{\"textAlign\":\"right\"}} \r\n                onClick={() => {\r\n                  document.getElementsByClassName('inputSearch')[0].children[0].focus()\r\n                }}>\r\n                    {/* // onMouseOver={()=>{\r\n                    //   console.log('onmouseover')\r\n                    //   document.getElementsByClassName('inputSearch')[0].children[0].focus()\r\n                    // }}\r\n                    // onMouseLeave={ () => {\r\n                    //   console.log('onmouseout')\r\n                    //   setTimeout(() => {\r\n                    //   document.getElementById('InputInvisible').focus()\r\n                    //   }, 300);\r\n                    // }}> */}\r\n                  \r\n                  <SearchIcon\r\n                  className=\"SearchIconPesquisar\"\r\n                    \r\n                  />\r\n                    <input id=\"InputInvisible\" ></input>\r\n              </Col>\r\n              \r\n            </Row>\r\n        </>\r\n    )\r\n}","import React, { Component, useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport QrReader from 'react-qr-reader'\r\nimport * as Sentry from \"@sentry/react\";\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle';\r\nimport {Card,  Row, Col, Container } from 'react-bootstrap';\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\nimport StarsIcon from '@material-ui/icons/Stars';\r\nimport CachedIcon from '@material-ui/icons/Cached';\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\n\r\nimport {\r\n  CadastrarUsuario,\r\n  eventoTagManager,\r\n  ObterEnderecosComTaxaEntrega,\r\n  CadastrarCartaoCliente,\r\n  BuscarPedidosCliente,\r\n  ObterCartoesCredito,\r\n  BuscarUltimoPedidoCliente,\r\n  EstabelecimentoAberto,\r\n  ObterCardapioPedidoMesa,\r\n  ObterCardapioCompletoV1,\r\n  ObterCardapio,\r\n  CadastrarPedido,\r\n  AtualizarDispositivoUsuario,\r\n  AtualizarStatusPedido,\r\n  LoginGeral,\r\n  ObterCupomDescontoCompleto,\r\n  removeAcento,\r\n  isNumeric, \r\n  getMoney,\r\n  formatReal,\r\n  TestaCPF,\r\n  CadastrarEnderecoCliente,\r\n  identificarEstabelecimentoSelecionado,\r\n} from '../../services/functions';\r\n\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport InfoCardapio from \"./infoCardapio\"\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\n//loading\r\n//import Loading from '../loading';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport InputBase from '@material-ui/core/InputBase';\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport DirectionsWalkIcon from '@material-ui/icons/DirectionsWalk';\r\nimport Prato from '../../assets/pratos.svg';\r\nimport Megafone from '../../assets/megafone.svg';\r\nimport Comida from '../../assets/comida.svg';\r\nimport DesenvolvidoPor from '../../assets/desenvolvidoPor.png';\r\nimport {fade, makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport ViewColumnOutlinedIcon from '@material-ui/icons/ViewColumnOutlined';\r\n\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport ConfirmationNumberIcon from '@material-ui/icons/ConfirmationNumber';\r\nimport PaymentIcon from '@material-ui/icons/Payment';\r\n\r\nimport AlertFixo from '@material-ui/lab/Alert';\r\nimport Carrinho from './carrinho'\r\n\r\n/* carrinho */\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Button from '@material-ui/core/Button';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\n\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport api from '../../services/api';\r\n/*import './styles.css';*/\r\n\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport MotorcycleIcon from '@material-ui/icons/Motorcycle';\r\n\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport carrinhoVazio from '../../assets/cart-empty-flat.gif';\r\n\r\n\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\n// import Estabelecimentos from '../Deslogado/estabelecimentos';\r\n\r\n\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport OpcoesProdutos from './opcoesProdutos';\r\n\r\n\r\n\r\n\r\nfunction AvatarTipoEntrega(props){\r\n  return(\r\n    <Avatar>\r\n      {\r\n        props.retirada\r\n        ? <DirectionsWalkIcon />\r\n        : <MotorcycleIcon />\r\n      }\r\n    </Avatar>\r\n  )\r\n}\r\n\r\n\r\n\r\nfunction TabPanel(props) {\r\n  const { children, ...other } = props;\r\n\r\n  return (\r\n    <div \r\n      role=\"tabpanel\"\r\n      {...other}\r\n    >\r\n      \r\n        <Box p={3}>\r\n          <div>{children}</div>\r\n        </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  progress: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  rootCardapio: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: '#f7f7f7',\r\n  },\r\n  root: {\r\n    width: '100%',\r\n    padding: \"2em 0 2em 0\",\r\n  },\r\n  heading: {\r\n    textTransform: \"uppercase\",\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n  devHeading:{   \r\n    color: \"#fff\",  \r\n  },\r\n  rootProduto: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n  backdrop: {\r\n    zIndex: \"99999\",\r\n    color: '#fff',\r\n  },\r\n  rootAlert: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  rootAlerts: {\r\n    margin: \"0 0 1em 0\",\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  extendedIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  fixedMesa: {\r\n    position: 'fixed',\r\n    padding: '0!important',\r\n    minHeight: '57px',\r\n    zIndex: 1200,\r\n    width: '100%!important', \r\n    borderRadius: '0!important',\r\n    left: 0,\r\n    bottom: '0px',\r\n    boxShadow: 'none',\r\n  },\r\n  fixed: {\r\n    position: 'fixed',\r\n    // bottom: theme.spacing(9),\r\n    // right: theme.spacing(2),\r\n    padding: '0!important',\r\n    minHeight: '57px',\r\n    zIndex: 1200,\r\n    width: '100%!important', \r\n    borderRadius: '0!important',\r\n    left: 0,\r\n    bottom: '56px',\r\n    boxShadow: 'none',\r\n  },\r\n  rootCarrinho: {\r\n    width: '100%',\r\n    //maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\n\r\nconst android = navigator.userAgent.includes('Android')\r\nconst iphone = navigator.userAgent.includes('iPad') || navigator.userAgent.includes('iPhone') //|| navigator.userAgent.includes('Mac OS')\r\n\r\n\r\nconst ajustarCardapioQuantidade = (ajustarCardapio) => {\r\n  //console.log(\"ajustarCardapio\", ajustarCardapio)\r\n  ajustarCardapio.categorias.forEach(categoria => {\r\n    categoria.produtos.forEach(produto => {\r\n      produto.quantidade = 0\r\n    })\r\n  });\r\n  return ajustarCardapio;\r\n}\r\n\r\nexport default function Cardapio(props) {\r\n  \r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const history = useHistory();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  //loading\r\n\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n\r\n  const usuarioIzza = JSON.parse(localStorage.getItem(\"usuarioIzzaCF\"))  \r\n  const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))  \r\n  const [nomeMesa, setNomeMesa] = useState(usuarioLogado?.cliente?.nome.replace('Mesa ', '')); \r\n\r\n\r\n  const valorTotalItens = () => {\r\n    let total = 0;\r\n    if(carrinho?.pedido?.itens?.length > 0){\r\n      carrinho.pedido.itens.forEach(item => {\r\n        total += item.valorProdutoHistorico\r\n      });\r\n    }\r\n    return total\r\n  }\r\n\r\n  const tempCart = JSON.parse(localStorage.getItem('carrinhoCF'))\r\n  if(!tempCart?.data || (new Date() - new Date(tempCart?.data)) > 3600000 ){\r\n    try {\r\n      tempCart.pedido.itens = []\r\n      localStorage.setItem(\"carrinhoCF\", JSON.stringify(tempCart))\r\n    } catch (error) {\r\n      //Sentry.captureMessage(localStorage.getItem('versao')+`buscar itens pro carrinho - ${aplicativoDados?.appNome} - ${error}`);\r\n    }\r\n  }\r\n\r\n  \r\n  const [carrinho, setCarrinho] = useState(JSON.parse(localStorage.getItem(\"carrinhoCF\"))); \r\n  const [estabelecimentoAtual, setEstabelecimentoAtual] = useState(JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")));\r\n  const [cardapio, setCardapio] = useState(JSON.parse(localStorage.getItem(\"cardapioCF\")));\r\n  const [carrinhoOpen, setCarrinhoOpen] = useState(false);\r\n  const [pagamentoOpen, setPagamentoOpen] = useState(false);\r\n  const [formaDePagamento, setFormaDePagamento] = React.useState('');\r\n  const [informacoesPedido, setInformacoesPedido] = React.useState(false);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [troco,  setTroco] = React.useState([false, '']);\r\n  const [PagamentoOnline,  setPagamentoOnline] = React.useState([false, {}]);\r\n  const [InformacoesDoTipoEntrega,  setInformacoesDoTipoEntrega] = React.useState(false);\r\n  const [MeusCartoes,  setMeusCartoes] = React.useState([]);\r\n  const [CriarCartao,  setCriarCartao] = React.useState(true);\r\n  const [continuarSemCadastro,  setContinuarSemCadastro] = React.useState(false);\r\n  const [TelaRetiradaOuEntrega,  setTelaRetiradaOuEntrega] = React.useState(false);\r\n  const [MostrarFotoProduto,  setMostrarFotoProduto] = React.useState({});\r\n  const [AbrirMostrarFotoProduto,  setAbrirMostrarFotoProduto] = React.useState(false);\r\n  const [AdicionarCupom,  setAdicionarCupom] = React.useState(false);\r\n  const [ultimoPedido, setUltimoPedido] = React.useState({});\r\n  const [layoutCardapio, setLayoutCardapio] = useState(estabelecimentoAtual.adicionarItensNaTelaInicial ? \"AdicionarInicial\" : (aplicativoDados?.cardapioEmGrid ? \"Grid\" : \"List\")); //true = list || false = grid || \r\n  const [removeItem, setRemoveItem] = useState(false);\r\n  const [removeItemSelecionado, setRemoveItemSelecionado] = useState(0);\r\n  const [valueCategoria, setValueCategoria] = React.useState(0);\r\n  const [RodarFuncaoAposIsso, setRodarFuncaoAposIsso] = React.useState('');\r\n  const [qrCodeModal, setQrCodeModal] = React.useState(false);\r\n  const [enderecoAtual, setEnderecoAtual] = useState(JSON.parse(localStorage.getItem(\"enderecoAtualCF\")));\r\n  \r\n  const numeroMesas = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50];\r\n  const usuarioPedidoMesa = JSON.parse(localStorage.getItem(\"usuarioPedidoMesaCF\"))\r\n  const temEndereco = !!enderecoAtual?.bairro\r\n  const isEntregaNoEndereco =  !(enderecoAtual.taxaEntrega === -1 || carrinho?.pedido?.taxaEntrega === -1) && temEndereco\r\n  const valorTaxaEntrega = ((carrinho?.pedido && carrinho?.pedido?.taxaEntrega !== null) ? carrinho?.pedido?.taxaEntrega  : enderecoAtual.taxaEntrega) || 0.0\r\n  const isRetiradaNoLocal =  enderecoAtual?.id === \"retirada\"\r\n  const isUsuarioPedidoMesa = usuarioPedidoMesa?.logado\r\n  const isUsuarioIzzaBot = usuarioIzza?.logado\r\n  const itensValor = carrinho?.pedido?.itens?.length > 0 ? valorTotalItens() : 0\r\n  const isFreteGratisMinimoEntrega =  carrinho?.pedido?.itens?.length > 0 && (carrinho?.minimoEntregaGratis < 999  && carrinho?.minimoEntregaGratis > 0) && (itensValor > carrinho?.minimoEntregaGratis)\r\n  const solicitarNomeAoFinalizar = !(isUsuarioPedidoMesa && aplicativoDados.solicitarNomePedidoMesa === false)\r\n  const solicitarTelefoneAoFinalizar = !(isUsuarioPedidoMesa && aplicativoDados.solicitarTelefonePedidoMesa === false)\r\n  const descontoCardapio = carrinho.percentualDescontoValor ? carrinho.percentualDescontoValor : (cardapio?.valorDesconto ? cardapio.valorDesconto : (carrinho?.valorDesconto ? carrinho.valorDesconto : 0))\r\n\r\n  \r\n\r\n  var prevScrollpos = window.pageYOffset;\r\n\r\n  console.log('carrinho', carrinho)\r\n  console.log('cardapio', cardapio)\r\n\r\n  \r\n  window.onscroll = function scrollFunction() {\r\n    if(window.location.pathname === \"/delivery\"){\r\n      if((iphone || android)){\r\n        var currentScrollPos = window.pageYOffset;\r\n        if( carrinho && carrinho.pedido && carrinho.pedido.itens.length > 0 ){\r\n          if (prevScrollpos > currentScrollPos) {\r\n\r\n            if(!usuarioPedidoMesa){\r\n              if(document.getElementById(\"botaoCarrinho\")) document.getElementById(\"botaoCarrinho\").style.bottom = '56px';\r\n              if(document.getElementById(\"RodapeComponente\")) document.getElementById(\"RodapeComponente\").style.bottom = '0px';\r\n            }\r\n  \r\n          } else {\r\n            if(!usuarioPedidoMesa){\r\n              if(document.getElementById(\"botaoCarrinho\")) document.getElementById(\"botaoCarrinho\").style.bottom = '0px';\r\n              if(document.getElementById(\"RodapeComponente\")) document.getElementById(\"RodapeComponente\").style.bottom = '-56px';\r\n            }\r\n            \r\n          }\r\n          prevScrollpos = currentScrollPos;\r\n  \r\n        }\r\n\r\n        if((window.scrollY + 28  + document.getElementById('cabecalhoDeCategorias')?.offsetHeight) > document.getElementById('campoOpcoesProdutos')?.offsetTop){\r\n          document.getElementById('cabecalhoDeCategorias').style.position = \"fixed\"\r\n          document.getElementById('produtosDasCategorias').style.marginTop = \"47px\" //\"45px\"\r\n          document.getElementById('cabecalhoDeCategorias').style.top = \"0px\"; //document.getElementById('cabecalhoApp').offsetHeight+'px'\r\n          document.getElementById('cabecalhoDeCategorias').style.width = document.getElementById('produtosDasCategorias').offsetWidth+'px'\r\n        }else if( document.getElementById('cabecalhoDeCategorias')){\r\n          document.getElementById('cabecalhoDeCategorias').style.position = \"static\"\r\n          document.getElementById('produtosDasCategorias').style.marginTop = \"0\"\r\n          document.getElementById('cabecalhoDeCategorias').style.top = \"\"\r\n        }\r\n      }else{\r\n        if((window.scrollY + 28 + document.getElementById('cabecalhoApp')?.offsetHeight  + document.getElementById('cabecalhoDeCategorias')?.offsetHeight) > document.getElementById('campoOpcoesProdutos')?.offsetTop){\r\n          document.getElementById('cabecalhoDeCategorias').style.position = \"fixed\"\r\n          document.getElementById('produtosDasCategorias').style.marginTop = \"45px\"\r\n          document.getElementById('cabecalhoDeCategorias').style.top = document.getElementById('cabecalhoApp').offsetHeight+'px'\r\n          document.getElementById('cabecalhoDeCategorias').style.width = document.getElementById('produtosDasCategorias').offsetWidth+'px'\r\n        }else if( document.getElementById('cabecalhoDeCategorias')){\r\n          document.getElementById('cabecalhoDeCategorias').style.position = \"static\"\r\n          document.getElementById('produtosDasCategorias').style.marginTop = \"0\"\r\n          document.getElementById('cabecalhoDeCategorias').style.top = \"\"\r\n        }\r\n      }\r\n\r\n      \r\n\r\n      const categorias = document.getElementsByClassName('CardCategoriaCol');\r\n      for(let i = valueCategoria-1; i < categorias.length; i++ ){\r\n        const atual = window.scrollY \r\n        const ultimo = categorias[categorias.length-1]?.offsetTop - 130\r\n        const inicio = categorias[i]?.offsetTop - 130\r\n        const ate = categorias[i+1]?.offsetTop - 130\r\n        if(((atual > inicio) && (atual < ate))){\r\n          const valor = categorias[i].id.replace(\"primerioC\", '')\r\n          setValueCategoria(i);\r\n          break;\r\n        }else if((atual > ultimo)){\r\n          setValueCategoria((categorias.length-1));\r\n          break;\r\n        }\r\n      }\r\n\r\n      \r\n\r\n    }\r\n  }\r\n\r\n  \r\n\r\n\r\n  const alterarNoCardapio = (produtoSelecionado, quantidade) => {\r\n    //altera o valor de quatnidade na tela\r\n    cardapio.categorias.forEach(categoria=>{\r\n      categoria.produtos.forEach(produto=>{\r\n        if(produto.id == produtoSelecionado.id){\r\n          produto.quantidade = quantidade\r\n        }\r\n      })\r\n    })\r\n    return cardapio\r\n  }\r\n  \r\n  const removerProdutoCarrinho = (produto) => {\r\n    //funcao para remover quantidade ou produto na tela de cardapio\r\n\r\n\r\n    var temNoCarrinho = false;\r\n    var novoCardapio = cardapio\r\n\r\n    //verificar se exite o produto no carrinho\r\n    //altera a quantidade ou remove do carrinho\r\n    carrinho.pedido.itens.forEach((item, index) => {\r\n      if(temNoCarrinho == false && item.produto.id == produto.id){\r\n        const valorProduto = item.valorProdutoHistorico / item.quantidade \r\n\r\n        const qtdRemover = item.produto.qntMultiplicativaProdutos ? item.produto.qntMultiplicativaProdutos : 1\r\n        item.quantidade -= qtdRemover\r\n\r\n        // //console.log('item ', item)\r\n        // //console.log('pedido', produto)\r\n        // //console.log('quantidade minima', item.produto.qntMinimaProdutos)\r\n        // //console.log('quantidade ', item.quantidade)\r\n        if(item.quantidade == 0 || item.quantidade < item.produto.qntMinimaProdutos){\r\n          item.quantidade = 0; // para item.quantidade < item.qntMinimaProdutos\r\n          carrinho.pedido.itens.splice(index,1) //remvoer do carrinho\r\n        }else{\r\n          item.valorProdutoHistorico -= (valorProduto * qtdRemover)\r\n          temNoCarrinho = true\r\n        }\r\n        //atualiza na tela\r\n        novoCardapio = alterarNoCardapio(produto, item.quantidade);\r\n      }\r\n    })\r\n\r\n\r\n    //atualiza os JSON's\r\n    carrinho.data = new Date()\r\n    localStorage.setItem('cardapioCF', JSON.stringify(novoCardapio))\r\n    setCarrinho(novoCardapio)\r\n    localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n    setCarrinho(carrinho)\r\n    //console.log('carrinho ', carrinho)\r\n\r\n    //calcula valor total\r\n    calcularValorTotal()\r\n  }\r\n  \r\n  const adicionarProdutoCarrinho = (produto) => {\r\n    //funcao para adicionar produto na tela de cardapio\r\n\r\n    if(produto.quantidade == produto.qntMaximaProdutos){\r\n      alertStart(`Mximo ${produto.qntMaximaProdutos} j selecionado!`, \"warning\")\r\n      return false\r\n    }\r\n\r\n\r\n    var temNoCarrinho = false;\r\n    var novoCardapio = cardapio\r\n\r\n    //verificar se exite o produto no carrinho\r\n    //altera a quantidade ou adiciona no carrinho\r\n    carrinho.pedido.itens.forEach(item => { //item == produto\r\n      if(temNoCarrinho == false && item.produto.id == produto.id){\r\n        const valorProduto = item.valorProdutoHistorico / item.quantidade \r\n        const qtdAdicionar = item.produto.qntMultiplicativaProdutos ? item.produto.qntMultiplicativaProdutos : 1\r\n        item.quantidade += qtdAdicionar\r\n        item.valorProdutoHistorico += (valorProduto * qtdAdicionar)\r\n        temNoCarrinho = true\r\n\r\n        //altera na tela\r\n        novoCardapio = alterarNoCardapio(produto, item.quantidade);\r\n      }\r\n    })\r\n\r\n\r\n    // se nao tiver no carrinho ele adiciona no carrinho\r\n    if(temNoCarrinho == false){\r\n      //console.log('adicionarProdutoCarrinho', produto)\r\n\r\n      //limpando variaveis que o sistema adm nao aceita\r\n      var produtoLimpo = JSON.parse(JSON.stringify(produto))\r\n      delete produtoLimpo.valorDeCalculado\r\n      delete produtoLimpo.valorRealCalculado\r\n      delete produtoLimpo.quantidade\r\n      const qtdAdd = produto.qntMinimaProdutos ? produto.qntMinimaProdutos : (produto.qntMultiplicativaProdutos ? produto.qntMultiplicativaProdutos : 1)\r\n      const produtoProCarrinho = {\r\n        \"id\": null,\r\n        \"produto\": produtoLimpo,\r\n        \"quantidade\": qtdAdd,\r\n        \"valorProdutoHistorico\": produto.valor * qtdAdd,\r\n        \"itensOpcaoProduto\": [],\r\n        \"observacao\": '',\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      } \r\n      produtoProCarrinho.valorProdutoHistorico *= produtoProCarrinho.quantidade\r\n      carrinho.pedido.itens.push(produtoProCarrinho)\r\n\r\n      //altera na tela\r\n      novoCardapio = alterarNoCardapio(produto, produtoProCarrinho.quantidade);\r\n\r\n    }\r\n\r\n    //atualiza os JSON's\r\n\r\n    localStorage.setItem('cardapioCF', JSON.stringify(novoCardapio))\r\n    setCarrinho(novoCardapio)\r\n    carrinho.data = new Date()\r\n    localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n    setCarrinho(carrinho)\r\n    //console.log('carrinho ', carrinho)\r\n\r\n    //calcula valor total\r\n    calcularValorTotal()\r\n  }\r\n\r\n\r\n  const mudarCategoria = (event, newValue) => {\r\n    setValueCategoria(newValue);\r\n  };\r\n\r\n  const [openInformacoes, setOpenInformacoes] = React.useState(false);\r\n\r\n\r\n  const buscarUltimoPedido = async () => {\r\n      try {\r\n        if(usuarioLogado.logado){\r\n          const data = usuarioLogado.cliente\r\n          data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n          \r\n          const retorno = await BuscarUltimoPedidoCliente(data, aplicativoDados)\r\n        \r\n          if(retorno.retornoErro){\r\n            // verificar se o erro  pq no tem ultimo pedido\r\n            // alertStart(retornoCep.mensagem, \"error\")\r\n          }else{\r\n\r\n            if(retorno == \"\"){\r\n              localStorage.setItem('semUltimoPedido', \"true\")\r\n            }else{\r\n              localStorage.removeItem('semUltimoPedido')\r\n            }\r\n            \r\n            if(retorno.status == 0){\r\n              localStorage.setItem('atualizarUsuarioCF', true)\r\n            }\r\n            setUltimoPedido(retorno)\r\n            \r\n          }\r\n        }\r\n      } catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions BuscarUltimoPedidoCliente - ${aplicativoDados.appNome} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro BuscarUltimoPedidoCliente: \"+error.message, \"error\")    \r\n      }\r\n  }  \r\n\r\n  //alerts    \r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n\r\n  function Alert(props) {\r\n      return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n  \r\n  const alertStart = (msg, tipo) => {\r\n      setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n\r\n  const alertClose = (event, reason) => {\r\n      if (reason === 'clickaway') {\r\n          return;\r\n      }\r\n      setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n  };\r\n\r\n  ////console.log(\"carrinho\", carrinho)\r\n  ////console.log(\"usuarioLogado\", usuarioLogado)\r\n  ////console.log(\"estabelecimentoAtual\", estabelecimentoAtual)\r\n  \r\n\r\n\r\n  const verificarAberto = async () =>{\r\n    ////console.log(\"atualizando aberto-fechado\")    \r\n    try {\r\n      const resposta = await EstabelecimentoAberto(estabelecimentoAtual.id, aplicativoDados)\r\n      //console.log(\"EstabelecimentoAberto\", resposta)\r\n      if(resposta.retornoErro){\r\n        //algum erro verificarAberto\r\n        // alertStart(response.mensagem, \"error\")\r\n      }else{\r\n        if(estabelecimentoAtual.online !== resposta.online || estabelecimentoAtual.pausado !== resposta.pausado){\r\n          if(resposta.online){\r\n            if(resposta.pausado){\r\n              alertStart(\"O estabelecimento est aberto, porm pausado no momento!\", \"info\")\r\n            }else{\r\n              alertStart(\"O estabelecimento est aberto!\", \"info\")\r\n            }\r\n          }else{\r\n            alertStart(\"O estabelecimento est fechado!\", \"info\")\r\n          }\r\n          setTimeout(() => {\r\n            estabelecimentoAtual.online = resposta.online\r\n            estabelecimentoAtual.pausado = resposta.pausado\r\n            setEstabelecimentoAtual(estabelecimentoAtual)\r\n            localStorage.setItem('estabelecimentoAtualCF', JSON.stringify(estabelecimentoAtual))\r\n            window.location.reload()\r\n          }, 3000);\r\n        }\r\n      }\r\n\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions EstabelecimentoAberto - ${aplicativoDados.appNome} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro EstabelecimentoAberto: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  const quantidadeProdutos = () => {\r\n    var qtd = 0\r\n    carrinho.pedido.itens.forEach(item => {\r\n      qtd += item.quantidade\r\n    });\r\n    return qtd\r\n  } //carrinho.pedido?.itens.length\r\n  const lerQrCodeComanda = () => {\r\n    setQrCodeModal(true)\r\n  }\r\n\r\n  const enviarPedidoWhatsapp = async() => {\r\n    setLoading(true)\r\n    const carrinho = JSON.parse(localStorage.getItem('carrinhoCF'));\r\n    let data = new Date();\r\n\r\n    let dataPedido = `*Data*: ${data.toLocaleDateString()} - ${data.toLocaleTimeString()}%0A`\r\n    let nome = `*Nome*: ${carrinho.pedido.nomePedido}%0A`\r\n    let telefone = `*Telefone*: ${carrinho.pedido.telefonePedido}%0A`\r\n    let formaPagamento = `*Forma de Pagamento*: ${carrinho.formaPagamentoDescricao}%0A`\r\n    let trocoDinheiro = ''\r\n    let observacaoPedido = ''\r\n    if(carrinho.pedido.observacao){\r\n      observacaoPedido = `*Observao*: ${carrinho.pedido.observacao}%0A`\r\n    }\r\n    if(carrinho.pedido.formaPagamento.id == 1 && carrinho.pedido.troco != 0){\r\n      trocoDinheiro = `%0A*Troco Para*: ${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.pedido.troco)}`\r\n    }\r\n    let valorTotal = `%0A*VALOR TOTAL PEDIDO*: ${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.pedido.valorTotal)}%0A`\r\n\r\n    let traco = `_____________%0A`\r\n    var produto = ''\r\n    for(var i = 0; i < carrinho.pedido.itens.length; i++){\r\n      //console.log('carrinho.pedido.itens.length', carrinho.pedido.itens.length)\r\n      let produtoAtual = carrinho.pedido.itens[i];\r\n      //`Monte seu aa\\n1 X Aa 500 ML\\n> 1 X Sem calda\\n> 1 X Banana\\nValor: R$ 13.00\\n`\r\n      var textoProdutoAtual = `*${produtoAtual.quantidade} X* ${produtoAtual.produto.nome}%0A`\r\n      \r\n      for(var j = 0; j < produtoAtual.itensOpcaoProduto.length; j++){\r\n        //console.log('produtoAtual.itensOpcaoProduto.length', produtoAtual.itensOpcaoProduto.length)\r\n        var opcaoAtual = produtoAtual.itensOpcaoProduto[j]\r\n        textoProdutoAtual += ` >>> *${opcaoAtual.quantidade} X* ${opcaoAtual.opcaoProduto.nome}%0A`\r\n      }\r\n\r\n      if(produtoAtual.observacao){\r\n        textoProdutoAtual += `*Observao*: ${produtoAtual.observacao}%0A`\r\n      }\r\n      textoProdutoAtual += `*Valor*: ${Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(produtoAtual.valorProdutoHistorico)}%0A`\r\n\r\n      if(carrinho.pedido.itens.length > 1 && i < (carrinho.pedido.itens.length-1)){\r\n        textoProdutoAtual += `%0A`\r\n      }\r\n      \r\n      produto += textoProdutoAtual\r\n    }\r\n\r\n    let final = '%0A_Plataforma ClienteFielStart_'\r\n\r\n    var comanda = dataPedido + nome + telefone + observacaoPedido + formaPagamento + traco + produto + traco + trocoDinheiro +  valorTotal + traco + final\r\n    // comanda = comanda.replace(/ /g, '%20');\r\n    await resetarCarrinho()\r\n    //console.log(comanda)\r\n    //console.log(`https://api.whatsapp.com/send?phone=55${estabelecimentoAtual.numeroWhatsapp}&text=${comanda}`)\r\n    window.location.href =  `https://api.whatsapp.com/send?phone=55${estabelecimentoAtual.numeroWhatsapp}&text=${comanda}`\r\n    setLoading(false)\r\n  }\r\n  \r\n\r\n\r\n  const realizarLogin_DosSemContinuarSemCadastro = async (nome, telefone, aplicativoDados) => {\r\n    try {\r\n      \r\n      let telefoneReplace = telefone.replace(' ', '').replace('.','').replace('-','').replace('(','').replace(')','').replace('/','')\r\n      \r\n      if(telefoneReplace.charAt(0) == \"0\"){\r\n        telefoneReplace = telefoneReplace.substring(1)\r\n      }\r\n\r\n      \r\n      \r\n      if(!(telefoneReplace.length >= 10 && telefoneReplace.length <= 11)){\r\n        alertStart(\"Seu telefone esta incompleto, verifique se voc digitou o DDD e o digito 9!\", \"warning\")\r\n        return false\r\n      }\r\n\r\n      setLoading(true)\r\n\r\n      //ENVIAR CADASTRO\r\n      \r\n      const data = {\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"nome\": nome,\r\n        \"telefone\": telefone,\r\n        \"dataNascimentoTexto\": '',\r\n        \"email\": `${telefone}_${Math.floor(Math.random() * (1000000 - 10))}@${telefone}.${telefone}`,\r\n        \"hashSenha\": `${telefone}_${Math.floor(Math.random() * (1000000 - 10))}@${telefone}.${telefone}`,\r\n        \"cpf\": '',\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n\r\n      const response = await CadastrarUsuario(data, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n        setLoading(false)\r\n        return false\r\n      }else{ \r\n        const data_Login = {\r\n          \"appNome\": aplicativoDados.appNome,\r\n          \"cliente\":{\r\n            \"email\": `${response.email}`,\r\n            \"hashSenha\": `${response.hashSenha}`,\r\n            \"appNome\": aplicativoDados.appNome,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          },\r\n          \"localizacao\":{\r\n            \"latitude\": \"\",\r\n            \"longitude\": \"\",\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n            \"appNome\": aplicativoDados.appNome,\r\n          },\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        }\r\n        \r\n        const response_LoginGeral = await LoginGeral(data_Login, aplicativoDados)\r\n    \r\n        if(response_LoginGeral.retornoErro){\r\n          //algum erro LoginGeral\r\n          alertStart(response_LoginGeral.mensagem, \"error\")\r\n          setLoading(false)\r\n        }else{ \r\n          alertStart(\"Sucesso!\", \"success\")\r\n          setLoading(false)\r\n          // setUsuarioSemCadastro(response_LoginGeral)\r\n          enviarPedido(response_LoginGeral)\r\n        }\r\n\r\n      }\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions realizarLogin_DosSemContinuarSemCadastro - ${aplicativoDados.appNome} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro realizarLogin_DosSemContinuarSemCadastro: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  const confirmacaoInformacoes = () => {\r\n    var telefone = \"\"\r\n    var nome = \"\"\r\n\r\n    \r\n\r\n    if( solicitarTelefoneAoFinalizar ){\r\n      document.getElementById('telefonePedido').value = (document.getElementById('telefonePedido').value)?.replace(' ', '').replace('.','').replace('-','').replace('(','').replace(')','').replace('/','')\r\n      telefone = document.getElementById('telefonePedido').value\r\n      \r\n\r\n      if(telefone.length > 11 || telefone.length < 10){\r\n        alertStart(\"Digite um telefone vlido\", \"warning\")\r\n        return false\r\n      }\r\n    }\r\n\r\n    if( solicitarNomeAoFinalizar ){\r\n      nome = document.getElementById('nomePedido').value\r\n      \r\n      if(!nome || nome === \"Cliente\" || nome === \"cliente\"){\r\n        alertStart(\"Digite seu nome\", \"warning\")\r\n        return false\r\n      }\r\n      carrinho.pedido.nomePedido = nome\r\n    }\r\n    \r\n    const obs = document.getElementById('observacaoPedido').value\r\n    carrinho.pedido.observacao = obs\r\n\r\n    if(aplicativoDados.clienteFielStart){ \r\n      carrinho.pedido.telefonePedido = telefone\r\n      localStorage.setItem('carrinhoCF', JSON.stringify(carrinho));\r\n      setCarrinho(carrinho)\r\n      enviarPedidoWhatsapp()\r\n    }else if(continuarSemCadastro === true){\r\n      realizarLogin_DosSemContinuarSemCadastro(nome, telefone, aplicativoDados)\r\n      \r\n    }else{\r\n      \r\n      usuarioLogado.cliente.telefone = telefone\r\n\r\n      if( isUsuarioPedidoMesa ){\r\n        \r\n        carrinho.pedido.formaPagamento = {\"id\": 41}\r\n  \r\n        const mesa = document.getElementById(\"numeroDaMesa\").innerText\r\n        if(mesa === \"No Selecionada\" || mesa === \"\"){\r\n          alertStart(\"Selecione a mesa para entregar\", \"warning\")\r\n          return true\r\n        }\r\n        carrinho.pedido.mesa = mesa.replace('Mesa ', '')\r\n        carrinho.mesa = mesa.replace('Mesa ', '')\r\n        setNomeMesa(mesa)\r\n\r\n        //pedido de mesa e nao quer nome e telefone\r\n        if( isUsuarioPedidoMesa && !solicitarNomeAoFinalizar ){\r\n          carrinho.pedido.nomePedido = mesa\r\n          usuarioPedidoMesa.cliente.nome = mesa\r\n        }else{\r\n          usuarioPedidoMesa.cliente.nome = nome\r\n        }\r\n  \r\n      }else if( isUsuarioIzzaBot ){\r\n        carrinho.pedido.nomePedido = nome\r\n      }\r\n      localStorage.setItem('carrinhoCF', JSON.stringify(carrinho));\r\n      localStorage.setItem('usuarioPedidoMesaCF', JSON.stringify(usuarioPedidoMesa));\r\n      localStorage.setItem('usuarioCF', JSON.stringify(usuarioLogado));\r\n      setCarrinho(carrinho)\r\n  \r\n      if( (isUsuarioPedidoMesa && estabelecimentoAtual.solicitarComanda) )\r\n        lerQrCodeComanda()\r\n      else\r\n        enviarPedido()\r\n    }\r\n  }\r\n\r\n  const retornoVerificarCardapio = (response, cardapio) => {\r\n    try {\r\n      //console.log('retornoVerificarCardapio', response, cardapio)\r\n      if(!response.codErro > 0){\r\n        const retorno = response\r\n        const endereco = enderecoAtual\r\n        let end = null\r\n        if((retorno.enderecos != null && retorno.enderecos.length > 0) && !isRetiradaNoLocal){\r\n          end = retorno.enderecos[0]\r\n          retorno.enderecos.forEach(endereco => {\r\n            if(enderecoAtual.id == endereco.id){\r\n              end = endereco\r\n            }\r\n          })\r\n          localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(end)) \r\n          setEnderecoAtual(end) \r\n        }\r\n        \r\n        if(!carrinho.pedido){\r\n          carrinho.pedido = {}\r\n        }\r\n\r\n        if( (cardapio?.cupomDesconto && !retorno?.cupomDesconto) && !retorno?.idCartelaCompleta){\r\n          retorno.cupomDesconto = cardapio?.cupomDesconto\r\n\r\n          if(retorno.cupomDesconto?.valorDesconto){\r\n            retorno.valorDesconto = retorno.cupomDesconto.valorDesconto\r\n          }\r\n\r\n          if(retorno.cupomDesconto?.valorDescontoPercentual){\r\n            retorno.percentualDesconto = retorno.cupomDesconto.valorDescontoPercentual\r\n          }\r\n        } \r\n\r\n        //INICIO ATUALIZANDO CARRINHO\r\n        carrinho.valorMinimoPedido = retorno.valorMinimoPedido\r\n        carrinho.valorDesconto = retorno.valorDesconto\r\n        carrinho.percentualDesconto = retorno.percentualDesconto\r\n        carrinho.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n        carrinho.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n        carrinho.maximoDesconto = retorno.maximoDesconto\r\n        carrinho.cupomDesconto = retorno.cupomDesconto\r\n        const taxa = (retorno.enderecos != null && retorno.enderecos.length > 0 && !isRetiradaNoLocal) ? end.taxaEntrega : null\r\n        carrinho.valorEntrega = taxa\r\n        carrinho.taxaEntrega = taxa\r\n        //pedido\r\n        carrinho.pedido.taxaEntrega = taxa\r\n        carrinho.pedido.valorEntrega = taxa\r\n        if(carrinho.percentualDesconto){\r\n          carrinho.pedido.valorDesconto = carrinho.percentualDescontoValor\r\n        }else{\r\n          carrinho.pedido.valorDesconto = carrinho.valorDesconto\r\n        }\r\n        //FIM ATUALIZANDO CARRINHO\r\n        \r\n\r\n        \r\n\r\n        if(retorno?.cupomDesconto?.freteGratis){\r\n          //console.log('mudando Taxa ')\r\n          carrinho.pedido.valorEntrega = 0;\r\n          carrinho.pedido.taxaEntrega = 0;\r\n          if(endereco.bairro){\r\n            endereco.taxaEntrega = 0;          \r\n            localStorage.setItem('enderecoAtualCF', JSON.stringify(endereco))\r\n          }\r\n        }else if(retorno?.enderecos?.length && !isRetiradaNoLocal){\r\n          carrinho.pedido.valorEntrega = end.taxaEntrega;\r\n          carrinho.pedido.taxaEntrega = end.taxaEntrega;\r\n        }    \r\n\r\n        localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n        setCarrinho(carrinho)\r\n        setEnderecoAtual(endereco)\r\n        \r\n\r\n        ////console.log(\"atualizarCardapio\", retorno)\r\n        if(!JSON.parse(localStorage.getItem('usuarioCF'))?.logado){\r\n          retorno.id = \"usuarioDeslogado\"\r\n        }\r\n\r\n        retorno.categorias.forEach(categoria => {\r\n          categoria.produtos.forEach(produto => {\r\n            produto.valorRealCalculado = calcularValorAPartirDe(produto)\r\n            produto.valorDeCalculado = calcularValorAPartirDe(produto, true)\r\n          })\r\n        });\r\n        // //console.log('valores', cardapio)\r\n        // localStorage.setItem('cardapioCF', JSON.stringify(cardapio))\r\n\r\n        var attCardapio = retorno\r\n        if(estabelecimentoAtual.adicionarItensNaTelaInicial){\r\n          attCardapio = adicionarQuantidadeZeroProdutos(retorno)\r\n        }\r\n        \r\n        localStorage.setItem(\"cardapioCF\", JSON.stringify(attCardapio))         \r\n        setCardapio(attCardapio)\r\n\r\n        calcularValorTotal()\r\n      }\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions retornoVerificarCardapio - ${aplicativoDados.appNome} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro retornoVerificarCardapio: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  const adicionarQuantidadeZeroProdutos = (retornoCardapio) => {\r\n    if(carrinho.pedido?.itens?.length > 0){\r\n      retornoCardapio.categorias.forEach(categoria=>{\r\n        categoria.produtos.forEach(produto=>{\r\n          var temNoCarrinho = false\r\n          carrinho.pedido.itens.forEach(item=>{\r\n            if(item.produto.id == produto.id){\r\n              produto.quantidade = item.quantidade\r\n              temNoCarrinho = true\r\n            }\r\n          })\r\n\r\n          if(temNoCarrinho == false){\r\n            produto.quantidade = 0\r\n          }       \r\n        })\r\n      })\r\n    }else{\r\n      retornoCardapio.categorias.forEach(categoria=>{\r\n        categoria.produtos.forEach(produto=>{\r\n          produto.quantidade = 0\r\n        })\r\n      })\r\n    }    \r\n    return retornoCardapio\r\n  }\r\n\r\n  const verificarCardapio =  async (estabelecimento) => {  \r\n   \r\n    try {\r\n      let tmpCardapio = cardapio\r\n      if(new Date() - new Date(localStorage.getItem('dateCardapioCF')) > 3000000){\r\n        tmpCardapio = []\r\n      }\r\n\r\n      //console.log('buscando cardapio')\r\n      localStorage.setItem('dateCardapioCF', new Date())\r\n      ////console.log(\"atualizando cardapio\")\r\n  \r\n      let data = {\r\n        \"idCliente\": usuarioLogado?.cliente?.id,\r\n        \"idEstabelecimento\": estabelecimento.id,\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }    \r\n  \r\n      if(enderecoAtual.ativo){\r\n        data.idEndereco = enderecoAtual.id\r\n      }\r\n\r\n      const mesaLogada = !!JSON.parse(localStorage.getItem('usuarioPedidoMesaCF'))?.logado\r\n      const response = mesaLogada ? await ObterCardapioPedidoMesa(data, aplicativoDados) : await ObterCardapioCompletoV1(data, aplicativoDados)\r\n\r\n      //console.log(\"Atualizao Cardapio\", response)\r\n\r\n      if(response.retornoErro){\r\n        //algum erro verificarCardapio\r\n        // alertStart(response.mensagem, \"error\")\r\n      }else{\r\n        retornoVerificarCardapio(response, tmpCardapio)\r\n      }\r\n      \r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions verificarCardapio - ${aplicativoDados.appNome} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro verificarCardapio: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    verificarCardapio(estabelecimentoAtual)\r\n    \r\n\r\n    if(!aplicativoDados.clienteFielStart){\r\n      verificarAberto()\r\n      buscarUltimoPedido()  \r\n    }\r\n    \r\n\r\n    const interval = setInterval(() => {\r\n        ////console.log(\"procurando atualizaes \")\r\n        if(!aplicativoDados.clienteFielStart){\r\n          verificarAberto()\r\n          if(!localStorage.getItem('semUltimoPedido')){\r\n            buscarUltimoPedido()  \r\n          }\r\n          \r\n        }\r\n        \r\n    }, 10000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n\r\n  function calcularValorAPartirDe(prod, valorPromocional = false){\r\n    \r\n    try {\r\n\r\n      const produto = JSON.parse(JSON.stringify(prod));\r\n      if(valorPromocional){\r\n        produto.valor = produto.valorDe\r\n      }\r\n\r\n      var valorProdutoHistorico = produto.valor ? produto.valor : 0.0\r\n\r\n\r\n      produto.opcoes.forEach((grupo) => {\r\n\r\n        // //console.log('Produto>', produto.nome)\r\n        if(grupo.quantidadeMinima > 0 ){\r\n          // //console.log('Grupo>', grupo.nome)\r\n           //considerar maior  valor - prioridade 1\r\n          const verificarMaiorValor = grupo.opcoes.length > 0 ? grupo.opcoes[0].considerarMaiorValor : false\r\n          var maiorValorDoGrupo = 0\r\n    \r\n          //considerar media dos valores - prioridade 2\r\n          const verificarMediaValor = grupo.opcoes.length > 1 ? grupo.opcoes[0].considerarMedia : false\r\n          var valorTotalDasOpcoes = 0\r\n          var quantidadeDeOpcoes = 0\r\n\r\n          //console.log('verificarMaiorValor> ', verificarMaiorValor)\r\n          //console.log('verificarMediaValor> ', verificarMediaValor)\r\n\r\n\r\n\r\n          \r\n          grupo.opcoes.sort(function (a, b) {\r\n            if (a.valor > b.valor) {\r\n              return 1;\r\n            }\r\n            if (a.valor < b.valor) {\r\n              return -1;\r\n            }\r\n            // a must be equal to b\r\n            return 0;\r\n          });\r\n\r\n          var qtd = 0\r\n          grupo.opcoes.forEach((opcao) => {\r\n\r\n            if(qtd < grupo.quantidadeMinima){\r\n              qtd++\r\n\r\n              let quantidadeSelecionada = (grupo.adicional === 2 || grupo.adicional === 3 )? grupo.quantidadeMinima : 1\r\n              if(quantidadeSelecionada > 1){\r\n                qtd = grupo.quantidadeMinima\r\n              }\r\n\r\n              if(verificarMaiorValor && (opcao.valor > maiorValorDoGrupo)){\r\n                maiorValorDoGrupo = opcao.valor\r\n              }else if(verificarMediaValor && valorTotalDasOpcoes >= 0){\r\n                valorTotalDasOpcoes += (opcao.valor * quantidadeSelecionada)\r\n                quantidadeDeOpcoes += quantidadeSelecionada\r\n              }\r\n    \r\n              if( grupo.adicional === 0 && opcao.quantidade === 1 && opcao.valor > 0){\r\n                valorProdutoHistorico = (valorProdutoHistorico - produto.valor) + opcao.valor\r\n              }else if(!verificarMaiorValor && !verificarMediaValor){\r\n                //console.log('nao verificar maior nem media', qtd)\r\n                valorProdutoHistorico += (opcao.valor * quantidadeSelecionada)\r\n              }\r\n              \r\n            }\r\n          })\r\n\r\n          if(verificarMaiorValor){\r\n            valorProdutoHistorico += maiorValorDoGrupo\r\n          }else if(verificarMediaValor && valorTotalDasOpcoes >= 0){\r\n            valorProdutoHistorico += valorTotalDasOpcoes / quantidadeDeOpcoes\r\n          }\r\n        }else if(grupo.adicional === 0){\r\n          // //console.log('adicional igual 0 ', grupo)\r\n          valorProdutoHistorico+=grupo.opcoes[0].valor\r\n        }\r\n\r\n        \r\n      })\r\n\r\n      return valorProdutoHistorico\r\n    \r\n     } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions calcularValorAPartirDe ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro calcularValorAPartirDe: \"+error.message, \"error\")   \r\n     }\r\n\r\n     return prod.valor\r\n  }\r\n\r\n  \r\n\r\n  async function calcularValorTotal(){\r\n    try {\r\n      //console.log(\">> calcularValorTotal\")\r\n\r\n      const cardapio = JSON.parse(localStorage.getItem(\"cardapioCF\"))\r\n      const carrinho = JSON.parse(localStorage.getItem(\"carrinhoCF\"))\r\n      const enderecoAtual = JSON.parse(localStorage.getItem(\"enderecoAtualCF\"))\r\n      \r\n      var valorTotalItens = 0;\r\n      let valorProdutosPromocionais = 0;\r\n\r\n\r\n      //calculando valores dos items do carrinho\r\n      carrinho.pedido.itens.forEach(item => {\r\n        valorTotalItens += item.valorProdutoHistorico      \r\n        if(item.produto.promocional){\r\n          valorProdutosPromocionais += item.valorProdutoHistorico\r\n        }\r\n      })\r\n\r\n      \r\n      \r\n      //verificar mudanas com cupom de frete gratis\r\n      if(cardapio.cupomDesconto?.freteGratis){\r\n\r\n        //apaga cupom se selecionar retirada no local\r\n        // if(carrinho.pedido?.entregaAgendada == \"Retirar(Buscar) no local\"){\r\n        // if(isRetiradaNoLocal){\r\n        //   cardapio.cupomDesconto = null\r\n        //   cardapio.percentualDesconto = 0\r\n        //   alertStart('Voc selecionou Retirada ento removemos o cupom de Frete Grtis!' , \"warning\")  \r\n        // }else{\r\n        //   //tudo certo para o cupom de frete gratis\r\n        //   carrinho.pedido.valorEntrega = 0;\r\n        //   carrinho.pedido.taxaEntrega = 0;\r\n          \r\n        //   if(enderecoAtual.bairro){\r\n        //     enderecoAtual.taxaEntrega = 0;          \r\n        //     localStorage.setItem('enderecoAtualCF', JSON.stringify(enderecoAtual))\r\n        //   }\r\n        // }\r\n\r\n        //tudo certo para o cupom de frete gratis\r\n        carrinho.pedido.valorEntrega = 0;\r\n        carrinho.pedido.taxaEntrega = 0;\r\n        \r\n        if(enderecoAtual.bairro && !isRetiradaNoLocal){\r\n          enderecoAtual.taxaEntrega = 0;          \r\n          localStorage.setItem('enderecoAtualCF', JSON.stringify(enderecoAtual))\r\n        }\r\n      }\r\n\r\n      let taxaDeEntrega = 0\r\n      if(!isRetiradaNoLocal && carrinho.pedido.tipoPedido !== 2 && !(valorTotalItens > cardapio.minimoEntregaGratis  && cardapio.minimoEntregaGratis > 0)){ // NAO FOR RETIRADA NO LOCAL e PEDIDO MESA\r\n        //console.log('ENTREI AQUI')\r\n        taxaDeEntrega = carrinho.pedido.valorEntrega ? carrinho.pedido.valorEntrega : (enderecoAtual.taxaEntrega ? enderecoAtual.taxaEntrega : 0)\r\n\r\n        if(taxaDeEntrega < 0){\r\n          taxaDeEntrega = 0\r\n        }\r\n      }\r\n\r\n      var valorFinalProdutos = 0;\r\n\r\n      //acho q pode deletar esse comentario abaixo\r\n      // if(!(carrinho.pedido?.entregaAgendada == \"Retirar(Buscar) no local\" && cardapio.cupomDesconto?.freteGratis)){\r\n          \r\n      carrinho.percentualDescontoValor = 0.0\r\n      \r\n      if(cardapio.percentualDesconto && (cardapio.valorDesconto === 0 || !cardapio.valorDesconto)){\r\n        // //console.log(\"valor fixo percentual\")\r\n\r\n        //desconto percetual - apenas em produtos nao promocionais\r\n        var descontoPercentual = ((valorTotalItens - valorProdutosPromocionais) * cardapio.percentualDesconto) / 100\r\n\r\n        //maximo que pode dar de desconto\r\n        if(cardapio.maximoDesconto && descontoPercentual > cardapio.maximoDesconto){\r\n          descontoPercentual = cardapio.maximoDesconto\r\n        }\r\n        \r\n\r\n        carrinho.percentualDescontoValor = descontoPercentual\r\n        carrinho.pedido.valorDesconto = descontoPercentual\r\n        valorFinalProdutos = ( valorTotalItens - descontoPercentual ) \r\n\r\n      }else{\r\n        \r\n        //desconto fixo - apenas em produtos nao promocionais\r\n        var descontoFixo = carrinho.pedido.valorDesconto ? carrinho.pedido.valorDesconto : cardapio.valorDesconto\r\n        // //console.log(\"valor fixo desconto\", descontoFixo)\r\n        // maximo que pode dar de desconto\r\n        if(cardapio.maximoDesconto && descontoFixo > cardapio.maximoDesconto){\r\n          descontoFixo = cardapio.maximoDesconto\r\n          // //console.log(\"maximo >\", descontoFixo)\r\n        }\r\n\r\n        // let produtosNaoPromocionais = valorTotalItens - valorProdutosPromocionais\r\n        // produtosNaoPromocionais -= descontoFixo      \r\n        // valorFinalProdutos = valorProdutosPromocionais + (produtosNaoPromocionais > 0 ? produtosNaoPromocionais : 0)     \r\n        valorFinalProdutos = valorTotalItens - descontoFixo   \r\n        \r\n      }\r\n\r\n\r\n      \r\n\r\n      if(valorFinalProdutos < 0){\r\n        carrinho.pedido.valorTotal = taxaDeEntrega\r\n      }else{\r\n        carrinho.pedido.valorTotal = valorFinalProdutos + taxaDeEntrega\r\n      }\r\n\r\n      \r\n      if(carrinho.pedido?.formaPagamento && carrinho.pedido?.formaPagamento?.id){\r\n        const formaPagamentoSelecionado = carrinho.pedido.formaPagamento\r\n        if(formaPagamentoSelecionado.desconto){\r\n          carrinho.pedido.descontoFormaPagamento = (formaPagamentoSelecionado.desconto / 100 ) *  carrinho.pedido.valorTotal\r\n          carrinho.pedido.valorTotal -= carrinho.pedido.descontoFormaPagamento\r\n        }else{\r\n          carrinho.pedido.descontoFormaPagamento = 0\r\n        }\r\n      }\r\n      \r\n\r\n\r\n\r\n      if(carrinho.pedido.valorTotal < 0){\r\n        carrinho.pedido.valorTotal = 0.0\r\n      }\r\n      \r\n\r\n\r\n      localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n      localStorage.setItem('cardapioCF', JSON.stringify(cardapio))\r\n      setCarrinho(carrinho)\r\n      setCardapio(cardapio)\r\n\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions calcularValorTotal ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro calcularValorTotal: \"+error.message, \"error\")   \r\n    }\r\n  }\r\n\r\n\r\n  \r\n  class QRCode extends Component {\r\n\r\n    state = {\r\n        result: 'No result',\r\n        leu: false,\r\n    }\r\n\r\n    handleScan = data =>  {           \r\n        if (data && !this.state.leu) {  \r\n            setQrCodeModal(false) \r\n\r\n            this.setState({\r\n                result: data,\r\n                leu: true,\r\n            })\r\n\r\n            carrinho.pedido.comanda = data\r\n\r\n\r\n            localStorage.setItem('carrinhoCF', JSON.stringify(carrinho));\r\n            setCarrinho(carrinho)            \r\n            //alertStart(\"Enviando Pedido!\", \"success\")\r\n            enviarPedido()\r\n            \r\n        }\r\n    }\r\n\r\n    handleError = err => {\r\n        setQrCodeModal(false) \r\n        Sentry.captureMessage(localStorage.getItem('versao')+`RegistrarSelo - ${aplicativoDados.appNome}`);\r\n        alertStart(\"Algo deu errado ao registrar selo  (handleError)\", \"error\")\r\n    }\r\n\r\n    render() {\r\n        if(qrCodeModal){\r\n          return (\r\n            <div>\r\n                <QrReader\r\n                    delay={300}\r\n                    onError={this.handleError}\r\n                    onScan={this.handleScan}\r\n                    style={{ width: '100%' }}\r\n                />\r\n                {/*<p>{this.state.result}</p>*/}\r\n            </div>\r\n          )\r\n        }else{\r\n          return (\r\n            <div>\r\n               \r\n            </div>\r\n          )\r\n        }\r\n    }\r\n}\r\n\r\n\r\n  async function atualizarUsuario(usuarioLogado) {    \r\n    try {\r\n\r\n      const clientefiel = {\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"cliente\":{\r\n          \"email\": usuarioLogado.cliente.email,\r\n          \"hashSenha\": usuarioLogado.cliente.hashSenha,\r\n          \"appNome\": aplicativoDados.appNome,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        },\r\n        \"localizacao\":{\r\n          \"latitude\": \"\",\r\n          \"longitude\": \"\",\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          \"appNome\": aplicativoDados.appNome,\r\n        },\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n      \r\n      const response = await LoginGeral(clientefiel, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro LoginGeral\r\n        alertStart(response.mensagem, \"error\")\r\n      }else{ \r\n        //tudo certo LoginGeral\r\n\r\n        if(localStorage.getItem('tokenNotificationFirebase')){\r\n          if( response.cliente.codigoDispositivo !== localStorage.getItem('tokenNotificationFirebase') ){\r\n            response.cliente.codigoDispositivo = localStorage.getItem('tokenNotificationFirebase')\r\n            response.cliente.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n            AtualizarDispositivoUsuario(response.cliente, aplicativoDados)\r\n          }\r\n        }\r\n\r\n        \r\n        localStorage.setItem('usuarioCF', JSON.stringify(response));\r\n      }\r\n\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions atualizarUsuario ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro atualizarUsuario: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  const removerCupom = async () => {\r\n    try {\r\n      setLoading(true)\r\n\r\n      if(!isRetiradaNoLocal && (cardapio.cupomDesconto?.freteGratis || cardapio.idCartelaCompleta)){\r\n\r\n        const data = {\r\n          \"idCliente\": usuarioLogado?.cliente?.id,\r\n          \"idEstabelecimento\": estabelecimentoAtual?.id,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        }\r\n  \r\n        let end = enderecoAtual\r\n        const retornoEnderecos = await ObterEnderecosComTaxaEntrega(data, aplicativoDados)\r\n        retornoEnderecos.forEach((endereco) => {\r\n          if(endereco.id === end.id){\r\n            end = endereco\r\n          }\r\n        })\r\n        carrinho.pedido.valorEntrega = end.taxaEntrega;\r\n        carrinho.pedido.taxaEntrega = end.taxaEntrega;\r\n        localStorage.setItem('enderecoAtualCF', JSON.stringify(end))\r\n        setEnderecoAtual(end)\r\n      }\r\n\r\n      \r\n      cardapio.idCartelaCompleta = null\r\n      cardapio.percentualDesconto = 0\r\n      cardapio.valorDesconto = 0\r\n      carrinho.percentualDescontoValor = 0\r\n      carrinho.valorDesconto = 0\r\n      carrinho.pedido.valorDesconto = 0\r\n\r\n      carrinho.pedido.desconto = null\r\n      \r\n      cardapio.cupomDesconto = null\r\n      cardapio.informacao = null\r\n      localStorage.setItem('cardapioCF', JSON.stringify(cardapio))\r\n      localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n      setCarrinho(carrinho)\r\n      setCardapio(cardapio)\r\n      \r\n      calcularValorTotal()\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions removerCupom ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro removerCupom: \"+error.message, \"error\")    \r\n    }\r\n    setLoading(false)\r\n  }\r\n  const adicionarCupom = async () => {\r\n\r\n    try {\r\n      setLoading(true)\r\n      const data = JSON.parse(JSON.stringify(carrinho.pedido))\r\n      data.estabelecimento = estabelecimentoAtual\r\n      data.cliente = usuarioLogado.cliente\r\n      data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n      data.desconto = {\r\n        \"codigoCupom\": document.getElementById('codigoAddCupom').value,\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"mensagem\": aplicativoDados.appNome,\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n\r\n\r\n      const response = await ObterCupomDescontoCompleto(data, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro ObterCupomDescontoCompleto\r\n        setAdicionarCupom(false)  \r\n        alertStart(response.mensagem, \"error\")\r\n      }else{ \r\n        //tudo certo ObterCupomDescontoCompleto\r\n\r\n        // if(response.freteGratis && carrinho.pedido?.entregaAgendada == \"Retirar(Buscar) no local\"){\r\n        if(response.freteGratis && isRetiradaNoLocal){\r\n          setAdicionarCupom(false)  \r\n          alertStart('Esse cupom possui Frete Grtis e voc est como Retirada no Local!' , \"warning\")  \r\n          setLoading(false)\r\n        }else{\r\n          // alertStart(response.mensagem , \"success\")    \r\n          if(response.freteGratis){\r\n            carrinho.pedido.valorEntrega = 0;\r\n            carrinho.pedido.taxaEntrega = 0;\r\n            localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n            if(enderecoAtual.bairro){\r\n              enderecoAtual.taxaEntrega = 0;          \r\n              localStorage.setItem('enderecoAtualCF', JSON.stringify(enderecoAtual))\r\n            }\r\n            setCarrinho(carrinho)\r\n          }      \r\n          cardapio.cupomDesconto = response\r\n          cardapio.percentualDesconto = response.valorDescontoPercentual\r\n          cardapio.valorDesconto = response.valorDesconto\r\n          setCardapio(cardapio)\r\n          localStorage.setItem('cardapioCF', JSON.stringify(cardapio))\r\n          localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n          calcularValorTotal()\r\n          setAdicionarCupom(false)\r\n        }\r\n\r\n      }\r\n\r\n      document.getElementById('codigoAddCupom').value = ''\r\n      setLoading(false)\r\n\r\n    }\r\n    catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions adicionarCupom ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro adicionarCupom: \"+error.message, \"error\")    \r\n      setLoading(false)\r\n    }\r\n    \r\n  }\r\n\r\n  const opcoesParaEntregaeRetirada = () => {\r\n    if(estabelecimentoAtual.permiteRetiradaBalcao){\r\n      setTelaRetiradaOuEntrega(true)\r\n    }else{\r\n      irParaEnderecos()\r\n    }\r\n  }\r\n\r\n\r\n  const irParaEnderecos = () => {\r\n\r\n    if(usuarioLogado.logado){\r\n      history.push(`/delivery/enderecos${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n    }else{\r\n      setTelaRetiradaOuEntrega(false)\r\n    }\r\n  }\r\n  const irParaHistoricoDePedidos = () => {\r\n    history.push(`/delivery/historicoPedidos`)\r\n  }\r\n  const irParaLogin = () => {\r\n    history.push(`/login${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n  }\r\n  const irParaProduto = (produtoId) => {\r\n    history.push(`/produto/${produtoId}${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n  }\r\n  const irParaStatusPedido = (pedidoId, pedidoStatusInicial, veioDoEnviarPedido) => {\r\n    if(veioDoEnviarPedido == true){\r\n      history.push(`/delivery/pedido${identificarEstabelecimentoSelecionado(aplicativoDados, pedidoId, pedidoStatusInicial)}?pedidoEnviado=true`)\r\n    }else{\r\n      history.push(`/delivery/pedido${identificarEstabelecimentoSelecionado(aplicativoDados, pedidoId, pedidoStatusInicial)}`)\r\n    }\r\n    // history.push(`/delivery/pedido/${pedidoId}/${pedidoStatusInicial}${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n\r\n  }\r\n\r\n  const selecioneiEndereco = async () => {\r\n\r\n    if(continuarSemCadastro || !usuarioLogado?.logado){\r\n      setEnderecoAtual({})\r\n      localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({}))\r\n      setTelaRetiradaOuEntrega(false)\r\n\r\n    }else {\r\n      if(!!JSON.parse(localStorage.getItem('carrinhoCF')).pedido?.itens){\r\n        localStorage.setItem('backupItensCarrinhoCF', JSON.stringify(JSON.parse(localStorage.getItem('carrinhoCF')).pedido.itens))\r\n      }\r\n      irParaEnderecos()\r\n    }\r\n    \r\n  }\r\n\r\n  const selecioneiRetiradaNoLocal = async () => {\r\n    const cardapio = JSON.parse(localStorage.getItem(\"cardapioCF\"))\r\n\r\n    //SALVAR PRODUTOS DO CARRINHO\r\n    const produtosDoCarrinho = JSON.parse(localStorage.getItem('carrinhoCF'))?.pedido?.itens\r\n    ////console.log(\"produtosDoCarrinho\", produtosDoCarrinho)\r\n    \r\n    //LIMPAR ENDEREO SELECIONADO\r\n    \r\n\r\n    \r\n\r\n    const pedidoNovo = {\r\n      \"entregaImediata\": false,\r\n      \"formaPagamento\": {},\r\n      \"itens\": produtosDoCarrinho.length > 0 ? produtosDoCarrinho : [],\r\n      \"taxaEntrega\": 0,\r\n      \"entregaAgendada\": \"Retirar(Buscar) no local\",\r\n      \"tokenCartaoCredito\": null,\r\n      \"troco\": null,\r\n      \"valorDesconto\": cardapio.valorDesconto,\r\n      \"valorEntrega\": 0,\r\n      \"valorTotal\": 0,\r\n      \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n    }\r\n\r\n    carrinho.pedido = pedidoNovo\r\n    cardapio.enderecos = []\r\n    localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n    localStorage.setItem('cardapioCF', JSON.stringify(cardapio))\r\n    localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({id: \"retirada\"}))\r\n    setEnderecoAtual({id: \"retirada\"})\r\n    setCarrinho(carrinho)\r\n    setCardapio(cardapio)\r\n\r\n    if(produtosDoCarrinho?.length > 0){\r\n      await calcularValorTotal()\r\n    }\r\n\r\n    \r\n    setTelaRetiradaOuEntrega(false)\r\n    setInformacoesDoTipoEntrega(false)\r\n\r\n    if(RodarFuncaoAposIsso === 'formaPagamento'){\r\n      setRodarFuncaoAposIsso('')\r\n      setPagamentoOpen(true) \r\n    }\r\n\r\n    if(RodarFuncaoAposIsso.includes('produto')){\r\n      irParaProduto(RodarFuncaoAposIsso.replace('produto',''))\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  const EnderecoPedidoMesa = async () => {\r\n    //SALVAR PRODUTOS DO CARRINHO\r\n    const produtosDoCarrinho = JSON.parse(localStorage.getItem('carrinhoCF'))?.pedido?.itens\r\n    ////console.log(\"produtosDoCarrinho\", produtosDoCarrinho)\r\n    \r\n    //LIMPAR ENDEREO SELECIONADO\r\n    const endereco ={\r\n      \"cep\": \"99999999\",\r\n      \"uf\": \"mesa\",\r\n      \"cidade\": \"mesa\",\r\n      \"bairro\": \"mesa\",\r\n      \"numero\": 0,\r\n      \"complemento\": \"mesa\",\r\n      \"taxaEntrega\": 0.0,\r\n      \"referencia\": \"mesa\",\r\n      \"logradouro\": \"mesa\",\r\n      \"id\": -1,\r\n    }\r\n    localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(endereco))\r\n    setEnderecoAtual(endereco)\r\n\r\n\r\n    const pedidoNovo = {\r\n      \"entregaImediata\": false,\r\n      \"formaPagamento\": {},\r\n      \"itens\": produtosDoCarrinho.length > 0 ? produtosDoCarrinho : [],\r\n      \"taxaEntrega\": 0,\r\n      \"tipoPedido\": 2,\r\n      \"entregaAgendada\": \"Pedido Mesa\",\r\n      \"tokenCartaoCredito\": null,\r\n      \"troco\": null,\r\n      \"valorDesconto\": cardapio.valorDesconto,\r\n      \"valorEntrega\": 0,\r\n      \"valorTotal\": 0,\r\n      \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n    }\r\n\r\n    carrinho.pedido = pedidoNovo\r\n\r\n    localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))    \r\n    setCarrinho(carrinho)\r\n\r\n    if(produtosDoCarrinho?.length > 0){\r\n      await calcularValorTotal()\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  \r\n\r\n  async function resetarCarrinho()  {    \r\n    try {\r\n\r\n      const estabelecimento = estabelecimentoAtual\r\n      estabelecimento.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`  \r\n\r\n      const response = await ObterCardapio(estabelecimento, aplicativoDados)\r\n\r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n      }else{ \r\n        //tudo certo\r\n        const retorno = response\r\n\r\n        const carrinhoRetorno = {}\r\n        carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n        carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n        carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n        carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n        carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n        carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n        carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n  \r\n        carrinhoRetorno.pedido = {\r\n          \"entregaImediata\": false,\r\n          \"formaPagamento\": {},\r\n          \"itens\": [],\r\n          \"taxaEntrega\": null,\r\n          \"tokenCartaoCredito\": null,\r\n          \"troco\": null,\r\n          \"valorDesconto\": null,\r\n          \"valorEntrega\": null,\r\n          \"valorTotal\": 0,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        }\r\n        \r\n        localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno)) \r\n\r\n        var attCardapio = retorno\r\n        if(estabelecimentoAtual.adicionarItensNaTelaInicial){\r\n          //preciso do \"categorias\" pq o retorno vem apenas as cateogrias\r\n          //adiciona o quantidade 0 para adicioanr no carrinho direto pelo cardapio\r\n          attCardapio = adicionarQuantidadeZeroProdutos({\"categorias\": retorno})\r\n        }\r\n\r\n        const dataRetorno = {}\r\n        dataRetorno.categorias = attCardapio\r\n        dataRetorno.id = \"usuarioDeslogado\"\r\n        \r\n        if(!localStorage.getItem('usuarioCF')){\r\n          localStorage.setItem(\"usuarioCF\", JSON.stringify({}))   \r\n        }\r\n        \r\n        if(!localStorage.getItem('enderecoAtualCF')){\r\n          localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({}))  \r\n        }\r\n        \r\n        setCarrinho(carrinhoRetorno)\r\n        \r\n        localStorage.setItem(\"cardapioCF\", JSON.stringify(dataRetorno))                      \r\n        setCardapio(dataRetorno)\r\n  \r\n      }\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions resetarCarrinho ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro resetarCarrinho: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  async function atualizarCardapioECarrinho(endereco)  {  \r\n    try {\r\n      const usuarioLogado = JSON.parse(localStorage.getItem('usuarioCF')) \r\n      let data = {\r\n        \"idCliente\": usuarioLogado?.cliente?.id,\r\n        \"idEstabelecimento\": estabelecimentoAtual.id,\r\n        \"idEndereco\": endereco.id,\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }              \r\n      \r\n      const mesaLogada = !!JSON.parse(localStorage.getItem('usuarioPedidoMesaCF'))?.logado\r\n      const response = mesaLogada ? await ObterCardapioPedidoMesa(data, aplicativoDados) : await ObterCardapioCompletoV1(data, aplicativoDados)\r\n      \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n        setLoading(false)\r\n      }else{ \r\n        //tudo certo\r\n        const retorno = response\r\n        const carrinhoRetorno = JSON.parse(localStorage.getItem(\"carrinhoCF\")) \r\n        \r\n        \r\n        \r\n        let end = null      \r\n        if(retorno.enderecos != null && retorno.enderecos.length > 0){\r\n          end = retorno.enderecos[0]\r\n          retorno.enderecos.forEach(endereco => {\r\n            if(enderecoAtual.id == endereco.id){\r\n              end = endereco\r\n            }\r\n          })\r\n\r\n          localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(end)) \r\n          setEnderecoAtual(end) \r\n        }\r\n        \r\n        carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n        carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n        carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n        carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n        carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n        carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n        carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n        const taxa = (retorno.enderecos != null && retorno.enderecos.length > 0) ? end.taxaEntrega : null\r\n  \r\n        carrinhoRetorno.pedido = {\r\n          \"entregaImediata\": false,\r\n          \"formaPagamento\": {},\r\n          \"itens\": [],\r\n          \"taxaEntrega\": taxa,\r\n          //\"tipoDesconto\": null,\r\n          \"tokenCartaoCredito\": null,\r\n          \"troco\": null,\r\n          \"valorDesconto\": carrinhoRetorno.valorDesconto,\r\n          \"valorEntrega\": taxa,\r\n          \"valorTotal\": taxa,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        }\r\n\r\n        if(!JSON.parse(localStorage.getItem('usuarioCF')).logado){\r\n          retorno.id = \"usuarioDeslogado\"\r\n        }\r\n        \r\n        let attCardapio = retorno\r\n        if(estabelecimentoAtual.adicionarItensNaTelaInicial){\r\n          attCardapio = adicionarQuantidadeZeroProdutos(retorno)\r\n        }\r\n        localStorage.setItem(\"cardapioCF\", JSON.stringify(attCardapio))  \r\n        localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno)) \r\n        setCardapio(attCardapio)\r\n        setCarrinho(carrinhoRetorno)\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions atualizarCardapioECarrinho ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro atualizarCardapioECarrinho: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  const adicionarEndereco = async (usuarioLogado, enderecoAtual) => {  \r\n    var resp = enderecoAtual;\r\n\r\n    try {\r\n      const enderecoBackUp = JSON.parse(JSON.stringify(enderecoAtual))\r\n      const data = {\r\n        \"idCliente\": usuarioLogado.cliente.id,\r\n        \"idEstabelecimento\": JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))?.id ? JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))?.id  : null,\r\n        \"cep\": enderecoBackUp.cep,\r\n        \"uf\": enderecoBackUp.uf,\r\n        \"cidade\": enderecoBackUp.cidade,\r\n        \"bairro\": enderecoBackUp.bairro,\r\n        \"logradouro\": enderecoBackUp.logradouro,\r\n        \"numero\": enderecoBackUp.numero,\r\n        \"complemento\": enderecoBackUp.complemento,\r\n        \"referencia\":  enderecoBackUp.referencia,\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n\r\n      if(enderecoBackUp.bairroEspecifico){\r\n        data.bairroEspecifico = 1\r\n      }else{\r\n        data.bairroEspecifico = 0\r\n      }\r\n\r\n      const response = await CadastrarEnderecoCliente(data, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n        setLoading(false)\r\n      }else{ \r\n        //tudo certo\r\n        usuarioLogado.cliente.enderecos.push(response)\r\n        if(localStorage.getItem('usuarioCF') != \"{}\" || localStorage.getItem('usuarioCF') != \"\"){\r\n          localStorage.setItem('usuarioCF', JSON.stringify(usuarioLogado))\r\n        }\r\n        localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(response))\r\n        resp = response\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions CadastrarEnderecoCliente ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro CadastrarEnderecoCliente: \"+error.message, \"error\")  \r\n        setLoading(false)  \r\n    }\r\n    return resp\r\n  }\r\n\r\n  async function enviarPedido(usuarioSemCadastro = {}) {\r\n    \r\n    try {\r\n\r\n      let usuarioEnviarPedido = usuarioSemCadastro.appNome ? usuarioSemCadastro : JSON.parse(JSON.stringify(usuarioLogado))\r\n      let endereco = enderecoAtual\r\n\r\n      if( isUsuarioIzzaBot && !carrinho.pedido.nomePedido ){\r\n        setInformacoesPedido(true)         \r\n        return true       \r\n      }\r\n      \r\n      setLoading(true)\r\n\r\n\r\n      if(isEntregaNoEndereco && !enderecoAtual.id){\r\n        //cadastrar endereo no usuario\r\n        const retornoEndereco = await adicionarEndereco(usuarioEnviarPedido, enderecoAtual)\r\n        retornoEndereco.taxaEntrega = enderecoAtual.taxaEntrega\r\n        carrinho.pedido.taxaEntrega = enderecoAtual.taxaEntrega\r\n        if(!retornoEndereco.id){\r\n          alertStart(\"Aconteceu um erro no seu endereo. Tente novamente!\", \"error\")\r\n          return false\r\n        }\r\n        setEnderecoAtual(retornoEndereco)\r\n        endereco = retornoEndereco\r\n      }\r\n\r\n      const valorTotalPixelFacebook = carrinho.pedido.valorTotal\r\n\r\n      //PREENCHIMENTO\r\n      carrinho.pedido.estabelecimento = estabelecimentoAtual\r\n      carrinho.pedido.cliente = usuarioEnviarPedido.cliente\r\n      carrinho.pedido.end = endereco\r\n      carrinho.pedido.appNome = aplicativoDados.appNome      \r\n      carrinho.pedido.idCartelaCompleta = cardapio.idCartelaCompleta\r\n      carrinho.pedido.token= `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n      const pedido = carrinho.pedido;\r\n\r\n      //tentando corrigir erro de endereo ao enviar pedido\r\n      if(usuarioEnviarPedido?.logado && usuarioEnviarPedido?.cliente?.enderecos?.length > 0){\r\n        usuarioEnviarPedido.cliente.enderecos.forEach(endereco => {\r\n          if(aplicativoDados.tipoEntregaBairro == 1){\r\n            endereco.bairroEspecifico = 1\r\n          }else{\r\n            endereco.bairroEspecifico = 0\r\n          }\r\n        })\r\n      }else if(usuarioEnviarPedido?.logado && typeof usuarioEnviarPedido?.cliente?.enderecos == \"string\"){\r\n        usuarioEnviarPedido.cliente.enderecos = null\r\n      }\r\n\r\n      //tentando corrigir erro de endereo ao enviar pedido\r\n      if(aplicativoDados.tipoEntregaBairro == 1 && carrinho.pedido?.end){\r\n        carrinho.pedido.end.bairroEspecifico = 1\r\n      }else{\r\n        carrinho.pedido.end.bairroEspecifico = 0\r\n      }\r\n\r\n      //COMPLETA A RETIRIDA NO LOCAL\r\n      if(isRetiradaNoLocal){\r\n        // endereco.taxaEntrega = 0.0;\r\n        // endereco.id = -1;\r\n        // endereco.logradouro = \"Retirar no local\";\r\n        pedido.tipoPedido = 1\r\n        pedido.end.taxaEntrega = 0.0;\r\n        pedido.end.id = -1;\r\n        pedido.end.logradouro = \"Retirar no local\";\r\n      }\r\n\r\n      if(cardapio.cupomDesconto){\r\n        pedido.desconto = cardapio.cupomDesconto;\r\n      }\r\n\r\n      if(carrinho.percentualDesconto){\r\n        pedido.valorDesconto = carrinho.percentualDescontoValor\r\n      }else if(carrinho.valorDesconto){\r\n        pedido.valorDesconto = carrinho.valorDesconto\r\n      }\r\n      \r\n\r\n\r\n      //DE ONDE FOI O PEDIDO\r\n      if(usuarioPedidoMesa?.logado){\r\n        pedido.plataforma = 'Mesa'\r\n        pedido.tipoPedido = 2\r\n\r\n      }else if( isUsuarioIzzaBot ){\r\n        pedido.plataforma = 'IzzaBot'\r\n      }else{\r\n        pedido.plataforma = 'Site'\r\n      }\r\n\r\n      if(pedido.valorDesconto == null){\r\n        pedido.valorDesconto = 0\r\n      }\r\n\r\n      if(isFreteGratisMinimoEntrega || (!pedido.valorEntrega && !pedido.taxaEntrega)){\r\n        pedido.valorEntrega = 0;\r\n        pedido.taxaEntrega = 0;\r\n      }\r\n      //VERIFICA SE TA ABERTO A LOJA\r\n      const retornoAberto = await EstabelecimentoAberto(estabelecimentoAtual.id, aplicativoDados)\r\n      if(retornoAberto.retornoErro){\r\n        //algum erro EstabelecimentoAberto\r\n        alertStart(retornoAberto.mensagem, \"error\")\r\n        setLoading(false)\r\n        // if((retornoAberto.mensagem).includes(\"valor mnimo\")){\r\n        setInformacoesPedido(false)\r\n        setPagamentoOpen(false)\r\n        // }\r\n        \r\n      }else{ \r\n        //tudo certoEstabelecimentoAberto\r\n        \r\n        estabelecimentoAtual.online = retornoAberto.online\r\n        setEstabelecimentoAtual(estabelecimentoAtual)\r\n        if(retornoAberto.online == false){\r\n          alertStart('Esse estabelecimento est fechado no momento!', \"warning\") \r\n          setLoading(false)\r\n          return true\r\n        }else if(retornoAberto.online === true){\r\n          \r\n\r\n          if(retornoAberto.pausado){\r\n            alertStart('Esse estabelecimento est pausado no momento!', \"warning\") \r\n            setLoading(false)\r\n            return true\r\n          }\r\n          \r\n          console.log('pedido>>', pedido)\r\n          const retornoPedido = await CadastrarPedido(pedido, aplicativoDados)\r\n\r\n          if(retornoPedido.retornoErro){\r\n              //algum erro CadastrarPedido\r\n              alertStart(retornoPedido.mensagem, \"error\")\r\n              setLoading(false)\r\n          }else{ \r\n            //tudo certo CadastrarPedido\r\n\r\n            //confirmar pedido\r\n            const data = {\r\n              \"id\": retornoPedido.id,\r\n              \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n              \"status\": 0\r\n            }\r\n\r\n            const retornoPedidoCorreto = await AtualizarStatusPedido(data, aplicativoDados)\r\n\r\n            if(retornoPedidoCorreto.retornoErro){\r\n              //algum erro AtualizarStatusPedido\r\n              alertStart(retornoPedidoCorreto.mensagem, \"error\")\r\n              setLoading(false)\r\n            }else{ \r\n              //tudo certo AtualizarStatusPedido\r\n\r\n              //backup para caso o pedido seja cancelado\r\n              const pedidoCancelado = {\r\n                \"carrinho\": JSON.parse(localStorage.getItem('carrinhoCF')),\r\n                \"usuario\": JSON.parse(localStorage.getItem('usuarioCF')),\r\n              }\r\n              localStorage.setItem('PedidoCanceladoBackupCF', JSON.stringify(pedidoCancelado))\r\n\r\n              //SELOS E HISTORICOS\r\n              if(!usuarioPedidoMesa?.logado){\r\n                await atualizarUsuario(usuarioEnviarPedido)\r\n              }\r\n\r\n              //NECESSARIO PARA PROXIMO PEDIDO\r\n              await atualizarCardapioECarrinho(endereco)\r\n\r\n\r\n              localStorage.setItem('ultimoPedidoCF', JSON.stringify(retornoPedidoCorreto))            \r\n              if(usuarioPedidoMesa?.logado){\r\n                buscarHistoricoPedido();\r\n                alertStart(\"Pedido Enviado!\", \"success\");\r\n                //setLoading(false);\r\n              }else{\r\n\r\n                if(aplicativoDados.pixelFacebook){\r\n                      ReactPixel.track('Purchase', {value: valorTotalPixelFacebook, currency: 'BRL'})\r\n                }\r\n                \r\n                eventoTagManager(aplicativoDados.tagManager, \"Purchase\", valorTotalPixelFacebook)\r\n                eventoTagManager(estabelecimentoAtual.tagManager, \"Purchase\", valorTotalPixelFacebook)\r\n\r\n                irParaStatusPedido(retornoPedidoCorreto.id, retornoPedidoCorreto.status, true)//true significa que eu estou vindo do enviarPedido\r\n              }\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n      }\r\n      \r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions enviarPedido ${window.location.hostname} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro enviarPedido: \"+error.message, \"error\")  \r\n      setLoading(false)  \r\n    }\r\n  }\r\n  \r\n  \r\n\r\n\r\n  \r\n  /* ============== PRINCIPAL - OK DO PAGAMENTO ONLINE ============== */\r\n  const VerificarPagamentoOnline = async (e) => {\r\n\r\n  \r\n  \r\n\r\n    try {\r\n      e.preventDefault();\r\n      setLoading(true)\r\n\r\n      //finalCartao = document.querySelector(\".credit_card_number\").value;\r\n      window.Iugu.setAccountID(aplicativoDados.tokenIuguId);\r\n      window.Iugu.setTestMode(false);\r\n      window.Iugu.setup();\r\n      let formPayment = document.getElementById('payment-form');\r\n      ////console.log('IuguIugu', window.Iugu, formPayment)\r\n      window.Iugu.createPaymentToken(formPayment, function(data) {\r\n\r\n        //console.log(\"cartao: \", data)\r\n\r\n        if(validaDadosCartaoPagamentoOnline(data)){          \r\n          carrinho.pedido.cpfTitular = document.getElementById('cpf_PagamentoOnline').value\r\n          localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n          setCarrinho(carrinho)\r\n          //console.log(\"pagamento online:\", JSON.stringify(data))\r\n          carrinho.pedido.tokenCartaoCredito = data.id\r\n          setPagamentoOnline([false, {}])\r\n\r\n          salvarCartaoPagamentoOnline(data)  \r\n          setInformacoesPedido(true)    \r\n          //enviarPedido()\r\n        }\r\n      });\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`VerificarPagamentoOnline ${aplicativoDados.appNome} - ${error}`);\r\n      //console.log(error)\r\n      alertStart('Erro inesperado em VerificarPagamentoOnline! Avise os desenvolvedores', \"error\")     \r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const EscolhiMeuCartaoPagamentoOnline = async (index) => {\r\n    carrinho.pedido.cartaoCreditoCliente = MeusCartoes[index]\r\n    carrinho.pedido.tokenCartaoCredito = MeusCartoes[index].numeroCartao\r\n\r\n    ////console.log('carrinho.pedido', carrinho.pedido)\r\n    setPagamentoOnline([false, {}])\r\n    setInformacoesPedido(true)    \r\n    //enviarPedido()\r\n  }\r\n\r\n\r\n  /* ============== SALVA PRO NO CLIENTE ============== */\r\n  async function salvarCartaoPagamentoOnline(data) {\r\n    try {\r\n      const data_cartaoCredito = {}\r\n      data_cartaoCredito.codigoPagamento = null\r\n      data_cartaoCredito.nomeImpressoCartao = data.extra_info.holder_name\r\n      data_cartaoCredito.numeroCartao = data.extra_info.display_number\r\n      data_cartaoCredito.bandeira = data.extra_info.brand\r\n      data_cartaoCredito.bin = data.extra_info.bin\r\n      data_cartaoCredito.mesValidade = data.extra_info.month\r\n      data_cartaoCredito.anoValidade = data.extra_info.year\r\n      data_cartaoCredito.cpf = document.getElementById(\"cpf_PagamentoOnline\").value\r\n      usuarioLogado.cliente.cpf = document.getElementById(\"cpf_PagamentoOnline\").value\r\n      data_cartaoCredito.cliente = usuarioLogado.cliente\r\n      data_cartaoCredito.tokenCartao = btoa(data.id)\r\n      data_cartaoCredito.tokenIugu = aplicativoDados.tokenIuguId\r\n      data_cartaoCredito.tokenLive = aplicativoDados.tokenIuguCabecalho\r\n      data_cartaoCredito.ativo = true\r\n      data_cartaoCredito.descricao = null\r\n      data_cartaoCredito.appNome = aplicativoDados.appNome\r\n      data_cartaoCredito.appName = aplicativoDados.appNome\r\n\r\n      const response = await CadastrarCartaoCliente(data_cartaoCredito, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n        setLoading(false)\r\n      }else{ \r\n        //tudo certo\r\n        setMeusCartoes(response)\r\n        setCriarCartao(false)\r\n        setLoading(false)\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions salvarCartaoPagamentoOnline ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro salvarCartaoPagamentoOnline: \"+error.message, \"error\")    \r\n    }\r\n\r\n  }\r\n\r\n  async function obterMeusCartoesSalvos(){\r\n    try {\r\n      usuarioLogado.cliente.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n      usuarioLogado.cliente.plataforma = aplicativoDados.appNome\r\n\r\n      const response = await ObterCartoesCredito(usuarioLogado.cliente, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n      }else{ \r\n        //tudo certo\r\n        setMeusCartoes(response)\r\n        setCriarCartao(false)\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions obterMeusCartoesSalvos ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro obterMeusCartoesSalvos: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n\r\n  /* ============== VERIFICA OS ERROS DO CARTAO ============== */\r\n  const validaDadosCartaoPagamentoOnline= (data) => {\r\n    if(data.errors?.expiration){\r\n      alertStart('Data de Expirao: Invlido'/* + JSON.stringify(data.errors.expiration)*/, \"error\")\r\n      document.getElementById('expiracao_PagamentoOnline').focus()\r\n      setLoading(false)\r\n    }else if(data.errors?.last_name || data.errors?.full_name || data.errors?.first_name){\r\n      alertStart('Nome no Carto: Invlido'/* + JSON.stringify(data.errors.last_name)*/, \"error\")\r\n      document.getElementById('titular_PagamentoOnline').focus()\r\n      setLoading(false)\r\n\r\n    }else if(data.errors?.number){\r\n      alertStart('Numero do Carto: Invlido'/* + JSON.stringify(data.errors.number)*/, \"error\")\r\n      document.getElementById('numeroCartao_PagamentoOnline').focus()\r\n      setLoading(false)\r\n\r\n    }else if(data.errors?.verification_value){\r\n      alertStart('CVV do Carto: Invlido'/* + JSON.stringify(data.errors.verification_value)*/, \"error\")\r\n      document.getElementById('cvv_PagamentoOnline').focus()\r\n      setLoading(false)\r\n\r\n    }else if(data.errors?.record_invalid){\r\n      alertStart(JSON.stringify(data.errors?.record_invalid), \"error\")\r\n      setLoading(false)\r\n\r\n    }else if(data.errors?.year){\r\n      alertStart('Data de Expirao: Invlido'/* + JSON.stringify(data.errors.expiration)*/, \"error\")\r\n      setLoading(false)\r\n\r\n    }else if(data?.errors){\r\n      alert('Erro no pagamento online no identificado')\r\n      setLoading(false)\r\n\r\n    }else if(!document.getElementById('cpf_PagamentoOnline').value){\r\n      alertStart('Voc precisa informar seu CPF'/* + JSON.stringify(data.errors.expiration)*/, \"error\")\r\n      document.getElementById('cpf_PagamentoOnline').focus()\r\n      setLoading(false)\r\n      return false\r\n    }else if(!TestaCPF(document.getElementById('cpf_PagamentoOnline').value)){\r\n      alertStart('CPF Invlido'/* + JSON.stringify(data.errors.expiration)*/, \"error\")\r\n      document.getElementById('cpf_PagamentoOnline').focus()\r\n      setLoading(false)\r\n      return false\r\n    }else{\r\n      return true\r\n    }\r\n  }\r\n\r\n  const buscarStatus = (idPedido) => {\r\n    /* \r\n      AGUARDANDO_ACEITACAO = 0;\r\n      ACEITO = 1;\r\n      CONFIRMACAO_VISUALIZADA = 2;\r\n      EM_ENTREGA = 3;\r\n      ENTREGUE = 4;\r\n      PAGO = 5;\r\n      PRONTO = 6;\r\n      EM_PRODUCAO = 7;\r\n      AGUARDANDO ATUALIZAR STATUS = 10;\r\n\r\n      CANCELADO_PELO_DISTRIBUIDOR = -1;\r\n      CANCELADO_PELO_CLIENTE = -2;\r\n      NAO_ENTREGUE = -3;\r\n      EXPIRADO = -4;\r\n      CHARGEBACK = -10;\r\n    */\r\n    switch (idPedido) {\r\n      case 0:\r\n        return 'Aguardando Aceitacao'\r\n      case 1:\r\n      case 2:\r\n        return 'Aceito'\r\n      case 3:\r\n        return 'Saiu P/ Entrega'\r\n      case 4:\r\n        return 'Entregue'\r\n      case 5:\r\n        return 'Pago'\r\n      case 6:\r\n        return 'Pronto P/ Entrega'\r\n      case 7:\r\n        return 'Em Produo'\r\n      case -1:\r\n        return 'Cancelado Pelo Estabelecimento'\r\n      case -2:\r\n        return 'Cancelado Pelo Cliente'\r\n      case -3:\r\n        return 'No Entregue'\r\n      case -4:\r\n        return 'Expirado'\r\n      case -10:\r\n        return 'ChargeBack'\r\n    \r\n      default:\r\n        return 'No Identificado'\r\n    }\r\n  }\r\n\r\n  const procurarProduto = (e) => {\r\n      const valorPesqusa = removeAcento(e.target.value.toLocaleLowerCase())\r\n      const categorias = document.getElementsByClassName(\"CardCategoriaCol\")\r\n      for(let j = 0; j < categorias.length; j++){\r\n        const produtos = categorias[j].getElementsByClassName(\"CardProdutoCol\")\r\n        var qtd = 0;\r\n\r\n        for(let i = 0; i < produtos.length; i++){\r\n          const nomeProduto = removeAcento(produtos[i].getElementsByClassName(\"nomeProduto\")[0].innerHTML.toLocaleLowerCase()).includes(valorPesqusa)\r\n          const descricaoProduto = removeAcento(produtos[i].getElementsByClassName(\"descricaoProduto\")[0].innerHTML.toLocaleLowerCase()).includes(valorPesqusa)\r\n\r\n          if(nomeProduto || descricaoProduto){\r\n            produtos[i].style.display = \"\"\r\n            qtd++\r\n          }else{\r\n            produtos[i].style.display = \"none\"\r\n          }\r\n        }\r\n\r\n        if(!valorPesqusa){\r\n          categorias[j].style.display = \"\" \r\n        }else if(qtd > 0){\r\n          categorias[j].style.display = \"\"           \r\n        }else{\r\n          categorias[j].style.display = \"none\"\r\n        }\r\n\r\n      }\r\n  }\r\n\r\n  const buscarHistoricoPedido = async () => {    \r\n\r\n    try {\r\n      setLoading(true)\r\n      const data = usuarioLogado.cliente\r\n      data.appNome = aplicativoDados.appNome\r\n      data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n\r\n      const response = await BuscarPedidosCliente(data, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n      }else{ \r\n        //tudo certo\r\n        localStorage.setItem('historicoPedidosCF', JSON.stringify(response))\r\n        if(response.length > 0){\r\n          irParaHistoricoDePedidos()\r\n        }else{\r\n            alertStart(\"Voc ainda no fez pedidos\", \"warning\")\r\n            setLoading(false)\r\n        }\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions BuscarPedidosCliente ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro BuscarPedidosCliente: \"+error.message, \"error\")    \r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  // inicio HTML (RETURN)\r\n  return (\r\n    <div className={classes.root, \"divCardapio\"}>\r\n\r\n    {loading && <div className={classes.progress} \r\n      style={{\r\n        \"zIndex\": 9999,\r\n        \"position\": \"fixed\",\r\n        \"top\": 0,\r\n        \"padding\": 0,\r\n        \"margin\": 0,\r\n        \"left\":0,\r\n      }}\r\n    > \r\n      {/* <LinearProgress /> */}\r\n      <LinearProgress color=\"secondary\" />\r\n    </div>}\r\n      \r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n      <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n          <Alert onClose={alertClose} severity={alert.tipo}>\r\n            {alert.mesangem}\r\n          </Alert>\r\n      </Snackbar>\r\n\r\n      {\r\n        /* 3 lugar buscam o cardapio\r\n          - clicando pra selecionar endereo\r\n          - clicando pra selecionar estabelecimento\r\n          - clicando no menu delivery sem selecionar estabelecimento ( ele escolhe por padrao o estabelecimento da posio 0 )\r\n\r\n        */\r\n      }\r\n\r\n      {\r\n        /* Existe 2 tipos de cardapio ( GRID e LIST )\r\n          cada um tem suas funes, ento caso for mexer em algum  necessario mexer nos 2.\r\n        */\r\n      }\r\n\r\n      <InfoCardapio\r\n        isEntregaNoEndereco={isEntregaNoEndereco}\r\n        isRetiradaNoLocal={isRetiradaNoLocal}\r\n        estabelecimentoAtual={estabelecimentoAtual}\r\n        enderecoAtual={enderecoAtual}\r\n        setRodarFuncaoAposIsso={setRodarFuncaoAposIsso}\r\n        opcoesParaEntregaeRetirada={opcoesParaEntregaeRetirada}\r\n        irParaEnderecos={irParaEnderecos}\r\n        cardapio={cardapio}\r\n        aplicativoDados={aplicativoDados}\r\n        history={history}\r\n        temEndereco={temEndereco}\r\n        usuario={usuarioLogado}\r\n        visualizacao={props.visualizacao}\r\n        usuarioPedidoMesa={usuarioPedidoMesa}\r\n        isUsuarioPedidoMesa={isUsuarioPedidoMesa}\r\n      />\r\n\r\n\r\n      {(!ultimoPedido.id ) ? null\r\n      :   <Row style={{\"marginBottom\": \"1em\", \"cursor\": \"pointer\"}}>\r\n            <Col xs={12} md={12} lg={12}  >\r\n              <AlertFixo onClick={() => {\r\n                if(usuarioPedidoMesa?.logado){\r\n                  buscarHistoricoPedido();\r\n                }else{\r\n                  irParaStatusPedido(ultimoPedido.id, ultimoPedido.status, false)\r\n                }\r\n              }} className=\"campoDeUmAlert\" severity={ultimoPedido.status >= 0 ? \"success\" : \"error\"}>\r\n                Pedido de <b>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(ultimoPedido.valorTotal)}</b> realizado em <b>{ultimoPedido.strDataRealizacao}</b> est com status <b>{buscarStatus(ultimoPedido.status)}</b>\r\n              </AlertFixo>                        \r\n            </Col>\r\n          </Row>}\r\n\r\n\r\n          \r\n\r\n          \r\n      \r\n          { !usuarioPedidoMesa?.logado && ( (carrinho.minimoEntregaGratis < 999  && carrinho.minimoEntregaGratis > 0) || carrinho.valorMinimoPedido > 0 || (cardapio.valorDesconto > 0 || cardapio.percentualDesconto > 0) || enderecoAtual.id) &&\r\n          <Dialog\r\n            open={openInformacoes}//true,openInformacoes\r\n            TransitionComponent={Transition}\r\n            keepMounted\r\n            onClose={() => {setOpenInformacoes(false)}}\r\n            aria-labelledby=\"alert-dialog-slide-title\"\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n          >\r\n            <DialogTitle id=\"alert-dialog-slide-title\">{\"Informaes Importantes\"}</DialogTitle>\r\n            <DialogContent>\r\n              <div className={classes.rootAlerts}>\r\n\r\n                { /* ========== ALERTA FRETE GRTIS ACIMA DE X REAIS ============ */\r\n                (carrinho.minimoEntregaGratis < 999  && carrinho.minimoEntregaGratis > 0) && <AlertFixo severity={isFreteGratisMinimoEntrega ? \"success\" : \"warning\"} className=\"campoDeUmAlert\">Frete Grtis acima de <b>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.minimoEntregaGratis)}</b> no total dos produtos.</AlertFixo>}\r\n\r\n                { /* ========== ALERTA MINIMO PARA REALIZAR PEDIDO ============ */\r\n                carrinho.valorMinimoPedido > 0 && <AlertFixo severity={carrinho.pedido.valorTotal  > carrinho.valorMinimoPedido ? \"success\" : \"warning\"} className=\"campoDeUmAlert\">O valor minimo do pedido  de <b>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(carrinho.valorMinimoPedido)} </b></AlertFixo>}\r\n\r\n                  \r\n                { /* ========== ALERTA DESCONTO PROXIMO PEDIDO ============ */\r\n                  (cardapio.valorDesconto > 0 || cardapio.percentualDesconto > 0) &&\r\n                  <AlertFixo className=\"campoDeUmAlert\" severity=\"success\">{\"Desconto no prximo pedido  \"}\r\n                  <b>{cardapio.valorDesconto  > 0\r\n                    ? Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(cardapio.valorDesconto)  + \" no valor dos produtos\"\r\n                    : cardapio.percentualDesconto + \"% no valor dos produtos\" }</b>\r\n                  </AlertFixo>          \r\n                }\r\n\r\n\r\n                {/* {enderecoAtual.taxaEntrega === -1  */}\r\n                {(isEntregaNoEndereco === false && temEndereco)\r\n\r\n                ? /* ========== ALERTA ESTABELECIMENTO NAO ENTREGA NESSE ENDEREO ============ */ \r\n                (<AlertFixo className=\"campoDeUmAlert\" onClick={() => {\r\n                  if(estabelecimentoAtual.permiteRetiradaBalcao){\r\n                    setTelaRetiradaOuEntrega(true)\r\n                  }else{\r\n                    irParaEnderecos()\r\n                  }\r\n                }} severity=\"error\"> Essa loja no entrega no seu endereo <b>{enderecoAtual.logradouro}, {enderecoAtual.numero}</b> </AlertFixo>)\r\n\r\n                : /* ========== ALERTA ENDEREO SELECIONADO ============ */\r\n                ((enderecoAtual.logradouro && !isRetiradaNoLocal) ? <AlertFixo onClick={() => {\r\n                  if(estabelecimentoAtual.permiteRetiradaBalcao){\r\n                    setTelaRetiradaOuEntrega(true)\r\n                  }else{\r\n                    irParaEnderecos()\r\n                  }\r\n                }} severity=\"success\"> Endereo selecionado  <b>{enderecoAtual.logradouro}, {enderecoAtual.numero}</b>  </AlertFixo> : null) }\r\n\r\n\r\n\r\n                { /* ========== ALERTA RETIRADA NO LOCAL ============ */\r\n                isRetiradaNoLocal && <AlertFixo style={{\"cursor\": \"pointer\"}} className=\"campoDeUmAlert\" severity=\"success\" onClick={() => {\r\n                  if(estabelecimentoAtual.permiteRetiradaBalcao){\r\n                    setTelaRetiradaOuEntrega(true)\r\n                  }else{\r\n                    irParaEnderecos()\r\n                  }\r\n                }}>Voc selecionou Buscar no Local</AlertFixo>}\r\n\r\n\r\n              </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={() =>{setOpenInformacoes(false)}} style={{\"color\": \"#dc3545\"}}>\r\n                voltar\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>}\r\n      \r\n\r\n                    \r\n      \r\n      \r\n\r\n      {cardapio.id && cardapio.categorias.length > 0 \r\n      ? <><Row >\r\n          <div className={classes.rootCardapio} style={(iphone || android) ? {\"zIndex\": '999'} : null}>\r\n          <AppBar position=\"static\" color=\"default\" id=\"cabecalhoDeCategorias\">\r\n            <Tabs\r\n              value={valueCategoria}\r\n              onChange={mudarCategoria}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              variant=\"scrollable\"\r\n              scrollButtons=\"auto\"\r\n              aria-label=\"scrollable auto tabs example\"\r\n            >\r\n              { (cardapio.categorias.map((categoria, index) => (\r\n                categoria.produtos.length > 0 \r\n                ? <Tab key={index}\r\n                onClick={() => {\r\n                  //document.getElementById(\"primerioC\"+index).scrollIntoView()\r\n                  window.scrollTo(0, document.getElementById('primerioC'+index).offsetTop - 125);\r\n                }} \r\n                label={categoria.nome} />   \r\n                : null         \r\n              )))}\r\n              \r\n            </Tabs>\r\n          </AppBar>\r\n\r\n\r\n          <TabPanel id=\"produtosDasCategorias\">\r\n\r\n          <OpcoesProdutos\r\n            classes={classes}\r\n            procurarProduto={procurarProduto}\r\n            layoutCardapio={layoutCardapio}\r\n            cardapio={cardapio}\r\n          ></OpcoesProdutos>\r\n                    \r\n            {/* // ====== GRID E LIST ====== */}\r\n\r\n            {(cardapio.categorias.map((categoria, indexC) => (     \r\n              categoria.produtos.length > 0\r\n              ? \r\n                <Row key={indexC} id={\"primerioC\"+indexC} className={\"CardCategoriaCol\"} >\r\n                  <Col xs={12} md={12} lg={12} style={{\"marginTop\":\"1em\"}}><Typography style={{\"fontSize\": \"1.5rem\"}}> {categoria.nome[0].toLocaleUpperCase() + categoria.nome.substring(1).toLocaleLowerCase()} </Typography></Col>\r\n                  \r\n                {(categoria.produtos.map((produto, indexP) => (\r\n                    \r\n                    (layoutCardapio == \"AdicionarInicial\" &&\r\n                    //====== AdicionarInicial ======\r\n                    <Col xs={6} md={4} lg={4} key={produto.id} className=\"CardProdutoCol\" style={{\"textAlign\":\"center\"}}>\r\n                      <Card className={classes.rootProduto} style={{ \"height\": '100%' }} >\r\n                          <CardMedia\r\n                            className={`${produto.urlImagem ? '': 'opacity05'}  ${estabelecimentoAtual.fazerZoomExibicaoFoto ? \"produtoDeGridZoom\" : \"produtoDeGrid\"}`} \r\n                            image={produto.urlImagem ? produto.urlImagem : (produto.produtoExibicao ? Megafone : /**Prato */ Comida)}\r\n                            title={produto.nome}\r\n                          />\r\n\r\n                          {produto.promocional \r\n                          ? <StarsIcon className={\"ProdutoPromocional\"}/>\r\n                          : null}\r\n\r\n                            <CardContent style={{\"paddingRight\": \"5px\"}}>\r\n                            <Typography gutterBottom variant=\"h5\" component=\"h2\" className=\"nomeProduto\">\r\n                              {produto.nome}\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\" color=\"textSecondary\" className=\"descricaoProduto\" component=\"p\">\r\n                            {(produto.descricao && produto.descricao.length > 80) ? produto.descricao.substring(0, 80) + \" [...]\" : produto.descricao}\r\n\r\n                            </Typography> \r\n\r\n                            { produto.produtoExibicao \r\n                            ? <Typography variant=\"body2\" color=\"textSecondary\" className=\"valorProduto\" component=\"p\">Aviso</Typography>\r\n                            : <Typography variant=\"body2\" color=\"textSecondary\" className=\"valorProduto\" component=\"p\">\r\n                                {\r\n                                produto.valorRealCalculado >= 0 \r\n                                ? <span>\r\n                                    {aplicativoDados?.mostrarAPartirDe ? <span className=\"aPartirDe\">a partir de </span> : null }\r\n                                    {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }). format(produto.valorRealCalculado)}\r\n                                  </span>\r\n                                : <Skeleton variant=\"rect\" width={80} height={30} />\r\n                                }\r\n\r\n                                {\r\n                                produto.valorDe && \r\n                                produto.valorDeCalculado > 0 \r\n                                ? <span className=\"valorProdutoPromocional\"> {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(produto.valorDeCalculado)} </span>\r\n                                : \"\"\r\n                                }\r\n                                \r\n                                {/* {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(produto.valorRealCalculado)}\r\n                                {(produto.valorDe && <span className=\"valorProdutoPromocional\"> {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(produto.valorDeCalculado)} </span>) } */}\r\n                              </Typography>}\r\n                              \r\n                              {\r\n                                !produto.produtoExibicao &&\r\n                                <Row style={{\"marginTop\":\"1em\"}}>\r\n                                  <Col xs={12} md={12} lg={12} className=\"colOpcaoAdicional\">\r\n                                    \r\n                                  <ButtonGroup>\r\n                                    <Button\r\n                                      aria-label=\"reduce\"\r\n                                      onClick={() => {\r\n                                        removerProdutoCarrinho(produto)\r\n                                      }}\r\n                                      disabled={produto.quantidade == 0 ? true : false}\r\n                                      // style={{\"background\":\"#dc3545\", \"color\":\"white\"}}\r\n                                      style={produto.quantidade == 0 ? {\"background\": \"#7e7e7e\", \"color\":\"white\"} : {\"background\":\"#dc3545\", \"color\":\"white\"}}\r\n\r\n                                    >\r\n                                      <RemoveIcon fontSize=\"small\" />\r\n                                    </Button>\r\n\r\n                                    <Button\r\n                                      aria-label=\"increase\"\r\n                                    >\r\n                                      <span >{!(produto.quantidade == NaN || produto.quantidade == undefined) ? produto.quantidade  : 0}</span>\r\n                                    </Button>\r\n\r\n\r\n                                    <Button\r\n                                      aria-label=\"increase\"\r\n                                      disabled={produto.quantidade == produto.qntMaximaProdutos ? true : false}\r\n                                      style={produto.quantidade == produto.qntMaximaProdutos ? {\"background\": \"#7e7e7e\", \"color\":\"white\"} : {\"background\":\"#28a745\", \"color\":\"white\"}}\r\n                                      onClick={() => {\r\n                                        adicionarProdutoCarrinho(produto)\r\n                                      }}\r\n                                    >\r\n                                      <AddIcon fontSize=\"small\" />\r\n                                    </Button>\r\n                                  </ButtonGroup>\r\n\r\n                                  \r\n                                    \r\n                                    {/* <Button color=\"secondary\" onClick={() => {\r\n                                      removerProdutoCarrinho(produto)\r\n                                    }}>\r\n                                      <RemoveCircleIcon></RemoveCircleIcon>\r\n                                    </Button>\r\n                                    <span >{!(produto.quantidade == NaN || produto.quantidade == undefined) ? produto.quantidade  : 0}</span>\r\n                                    <Button color=\"primary\" onClick={() => {\r\n                                      adicionarProdutoCarrinho(produto)\r\n                                    }}>\r\n                                      <AddCircleIcon></AddCircleIcon>\r\n                                    </Button> */}\r\n\r\n\r\n                                  </Col>\r\n                                </Row>\r\n                              }\r\n                              \r\n                          </CardContent>\r\n                      </Card>\r\n                    </Col>) \r\n\r\n                    ||//====== LIST ======\r\n\r\n                    (layoutCardapio == \"List\" && \r\n                    <Col xs={12} md={12} lg={6} key={produto.id} className=\"CardProdutoCol\" >\r\n                      <Card style={{\"height\": \"100%\"}} onClick={produto.produtoExibicao ? null : () => {\r\n                            // if(carrinho?.pedido?.valorEntrega === -1 || carrinho?.pedido?.taxaEntrega === -1){\r\n                            if(isEntregaNoEndereco === false && temEndereco){\r\n                              if(estabelecimentoAtual.permiteRetiradaBalcao){\r\n                                setRodarFuncaoAposIsso(`produto${produto.id}`)                                    \r\n                                setTelaRetiradaOuEntrega(true)\r\n                              }else{\r\n                                irParaEnderecos()\r\n                              }\r\n                            }else{\r\n                              irParaProduto(produto.id)\r\n                            }                                \r\n                          }}>\r\n                      <CardActionArea >\r\n                        <Row style={{\"width\": \"100%\", \"alignItems\": \"center\"}}>\r\n                          <Col xs={8} md={8} lg={8} >\r\n                            <CardContent>\r\n                                <Typography component=\"h5\" variant=\"h5\" className=\"nomeProduto\">\r\n                                  {produto.nome}\r\n                                </Typography>\r\n                                <Typography variant=\"subtitle2\" color=\"textSecondary\" className=\"descricaoProduto\">\r\n                                  {(produto.descricao && produto.descricao.length > 80) ? produto.descricao.substring(0, 80) + \" [...]\" : produto.descricao}\r\n                                </Typography>\r\n\r\n                                \r\n                                { produto.produtoExibicao \r\n                                ? <Typography variant=\"body2\" color=\"textSecondary\" className=\"valorProduto\" component=\"p\">Aviso</Typography>\r\n                                : (<Typography variant=\"body2\" color=\"textSecondary\" className=\"valorProduto\" component=\"p\">\r\n                                    {\r\n                                    produto.valorRealCalculado >= 0 \r\n                                    ? <span>\r\n                                        {aplicativoDados?.mostrarAPartirDe ? <span className=\"aPartirDe\">a partir de </span> : null }\r\n                                        {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }). format(produto.valorRealCalculado)}\r\n                                      </span>\r\n                                      \r\n                                    : <Skeleton variant=\"rect\" width={80} height={30} />\r\n                                    }\r\n\r\n                                    {\r\n                                    produto.valorDe && \r\n                                    produto.valorDeCalculado > 0 \r\n                                    ? <span className=\"valorProdutoPromocional\"> {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(produto.valorDeCalculado)} </span>\r\n                                    : \"\"\r\n                                    }\r\n                                    \r\n                                  </Typography>)}\r\n                              \r\n                              </CardContent>\r\n                          </Col>\r\n                            <CardMedia\r\n                              className={`${produto.urlImagem ? '' : 'opacity05'} col-lg-4 col-md-4 col-4 produtoDeList ${estabelecimentoAtual.fazerZoomExibicaoFoto ? \"produtoDeListFotoZoom\" : \"produtoDeListFoto\"}`}\r\n\r\n                              \r\n                              // onClick={() => {\r\n                              //   setMostrarFotoProduto(produto)\r\n                              //   setAbrirMostrarFotoProduto(true)\r\n                              // }}\r\n                              image={produto.urlImagem ? produto.urlImagem : (produto.produtoExibicao ? Megafone : /**Prato */ Comida)}\r\n                              title={produto.nome}\r\n                            />\r\n                            {produto.promocional \r\n                            ? <StarsIcon className={\"ProdutoPromocional\"}/>\r\n                            : null}\r\n                        </Row>\r\n                        </CardActionArea>\r\n                      </Card>\r\n                    </Col>)\r\n\r\n                  ||//====== GRID ======\r\n                  (layoutCardapio == \"Grid\" &&\r\n                      <Col xs={6} md={4} lg={4} key={produto.id} className=\"CardProdutoCol\">\r\n                        <Card className={classes.rootProduto} style={{ \"height\": '100%' }} onClick={produto.produtoExibicao ? null : () => {\r\n                                // if(carrinho?.pedido?.valorEntrega === -1 || carrinho?.pedido?.taxaEntrega === -1){\r\n                                if(isEntregaNoEndereco == false && temEndereco){\r\n                                  if(estabelecimentoAtual.permiteRetiradaBalcao){\r\n                                    setTelaRetiradaOuEntrega(true)\r\n                                  }else{\r\n                                    irParaEnderecos()\r\n                                  }\r\n                                }else{\r\n                                  irParaProduto(produto.id)\r\n                                }  \r\n                              }}>\r\n                          <CardActionArea style={{/*\"height\": \"100%\"*/}} >\r\n                            <CardMedia\r\n                              className={`${produto.urlImagem ? '' : 'opacity05'}  ${estabelecimentoAtual.fazerZoomExibicaoFoto ? \"produtoDeGridZoom \" : \"produtoDeGrid\"}`} \r\n                              image={produto.urlImagem ? produto.urlImagem : (produto.produtoExibicao ? Megafone : /**Prato */ Comida)}\r\n                              title={produto.nome}\r\n                            />\r\n\r\n                            {produto.promocional \r\n                            ? <StarsIcon className={\"ProdutoPromocional\"}/>\r\n                            : null}\r\n\r\n                              <CardContent >\r\n                              <Typography gutterBottom variant=\"h5\" component=\"h2\" className=\"nomeProduto\">\r\n                                {produto.nome}\r\n                              </Typography>\r\n                              <Typography variant=\"subtitle2\" color=\"textSecondary\" className=\"descricaoProduto\" component=\"p\">\r\n                              {(produto.descricao && produto.descricao.length > 80) ? produto.descricao.substring(0, 80) + \" [...]\" : produto.descricao}\r\n\r\n                              </Typography> \r\n\r\n                              { produto.produtoExibicao \r\n                              ? <Typography variant=\"body2\" color=\"textSecondary\" className=\"valorProduto\" component=\"p\">Aviso</Typography>\r\n                              : <Typography variant=\"body2\" color=\"textSecondary\" className=\"valorProduto\" component=\"p\">\r\n                                  {\r\n                                    produto.valorRealCalculado >= 0 \r\n                                    ? <span>\r\n                                        {aplicativoDados?.mostrarAPartirDe ? <span className=\"aPartirDe\">a partir de </span> : null }\r\n                                        {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }). format(produto.valorRealCalculado)}\r\n                                      </span>\r\n                                    : <Skeleton variant=\"rect\" width={80} height={30} />\r\n                                    }\r\n\r\n                                    {\r\n                                    produto.valorDe && \r\n                                    produto.valorDeCalculado > 0 \r\n                                    ? <span className=\"valorProdutoPromocional\"> {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(produto.valorDeCalculado)} </span>\r\n                                    : \"\"\r\n                                  }\r\n                                  \r\n                                {/* {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(produto.valorRealCalculado)}\r\n                                  {(produto.valorDe && <span className=\"valorProdutoPromocional\"> {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(produto.valorDeCalculado)} </span>) } */}\r\n                                </Typography>}\r\n                            </CardContent>\r\n                          </CardActionArea>\r\n                        </Card>\r\n                      </Col>)\r\n                )))}\r\n              </Row>\r\n              : null\r\n            )))}\r\n\r\n          </TabPanel> \r\n          </div>\r\n      </Row>\r\n      </>\r\n      : <div className=\"divImageCentroCardapio\" >\r\n        <Row>\r\n          <Col  xs={12} md={12} lg={12} >\r\n            <h4 style={{\"fontWeight\": \"100\", \"marginTop\": \"1em\"}}>Cardpio No Encontrado...</h4>  \r\n          </Col>\r\n          <Col  xs={12} md={12} lg={12} >\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={()=>verificarCardapio(estabelecimentoAtual)}\r\n              className={classes.button}\r\n            >\r\n                Buscar Cardpio Novamente\r\n            </Button>\r\n          </Col>\r\n          <Col  xs={12} md={12} lg={12} >\r\n            <img src={carrinhoVazio} alt={\"carrinho vazio\"} className=\"pretoEBranco\" />\r\n          </Col>\r\n        </Row>\r\n\r\n       \r\n          \r\n         \r\n        </div>}\r\n           \r\n        {\r\n          aplicativoDados?.exibirDesenvolvidoPor &&\r\n          <Row>\r\n            <Col xs={12} md={12} lg={12} style={{\"textAlign\": \"center\"}} >\r\n              <a target=\"new_blank\" href={\"http://appclientefiel.com.br/?utm_source=siteDeAlgumCliente\"}>\r\n                <img className=\"desenvolvidopor\" src={DesenvolvidoPor} />\r\n              </a>\r\n            </Col>\r\n          </Row>\r\n        }\r\n        \r\n             \r\n        <Carrinho\r\n                carrinho={carrinho}\r\n                solicitarTelefoneAoFinalizar={solicitarTelefoneAoFinalizar}\r\n                solicitarNomeAoFinalizar={solicitarNomeAoFinalizar}\r\n                iphone={iphone}\r\n                valorTaxaEntrega={valorTaxaEntrega}\r\n                android={android}\r\n                classes={classes}\r\n                setCarrinhoOpen={setCarrinhoOpen}\r\n                estabelecimentoAtual={estabelecimentoAtual}\r\n                aplicativoDados={aplicativoDados}\r\n                quantidadeProdutos={quantidadeProdutos}\r\n                removeItem={removeItem}\r\n                setRemoveItem={setRemoveItem}\r\n                removeItemSelecionado={removeItemSelecionado}\r\n                setCarrinho={setCarrinho}\r\n                calcularValorTotal={calcularValorTotal}\r\n                setAdicionarCupom={setAdicionarCupom}\r\n                adicionarCupom={adicionarCupom}\r\n                fullScreen={fullScreen}\r\n                carrinhoOpen={carrinhoOpen}\r\n                isEntregaNoEndereco={isEntregaNoEndereco}\r\n                usuarioPedidoMesa={usuarioPedidoMesa}\r\n                setInformacoesDoTipoEntrega={setInformacoesDoTipoEntrega}\r\n                isRetiradaNoLocal={isRetiradaNoLocal}\r\n                isUsuarioPedidoMesa={isUsuarioPedidoMesa}\r\n                temEndereco={temEndereco}\r\n                setEnderecoAtual={setEnderecoAtual}\r\n                enderecoAtual={enderecoAtual}\r\n                setTelaRetiradaOuEntrega={setTelaRetiradaOuEntrega}\r\n                usuarioLogado={usuarioLogado}\r\n                setContinuarSemCadastro={setContinuarSemCadastro}\r\n                continuarSemCadastro={continuarSemCadastro}\r\n                isFreteGratisMinimoEntrega={isFreteGratisMinimoEntrega}\r\n                setPagamentoOpen={setPagamentoOpen}\r\n                alertStart={alertStart}\r\n                setRodarFuncaoAposIsso={setRodarFuncaoAposIsso}\r\n                setInformacoesPedido={setInformacoesPedido}\r\n                irParaEnderecos={irParaEnderecos}\r\n                qrCodeModal={qrCodeModal}\r\n                setQrCodeModal={setQrCodeModal}\r\n                informacoesPedido={informacoesPedido}\r\n                isNumeric={isNumeric}\r\n                nomeMesa={nomeMesa}\r\n                numeroMesas={numeroMesas}\r\n                confirmacaoInformacoes={confirmacaoInformacoes}\r\n                formaDePagamento={formaDePagamento}\r\n                setFormaDePagamento={setFormaDePagamento}\r\n                setLoading={setLoading}\r\n                obterMeusCartoesSalvos={obterMeusCartoesSalvos}\r\n                setPagamentoOnline={setPagamentoOnline}\r\n                troco={troco}\r\n                setTroco={setTroco}\r\n                formatReal={formatReal}\r\n                getMoney={getMoney}\r\n                setCriarCartao={setCriarCartao}\r\n                setAbrirMostrarFotoProduto={setAbrirMostrarFotoProduto}\r\n                irParaProduto={irParaProduto}\r\n                selecioneiRetiradaNoLocal={selecioneiRetiradaNoLocal}\r\n                selecioneiEndereco={selecioneiEndereco}\r\n                cardapio={cardapio}\r\n                descontoCardapio={descontoCardapio}\r\n                removerCupom={removerCupom}\r\n                setRemoveItemSelecionado={setRemoveItemSelecionado}\r\n                pagamentoOpen={pagamentoOpen}\r\n                irParaLogin={irParaLogin}\r\n                AdicionarCupom={AdicionarCupom}\r\n                AvatarTipoEntrega={AvatarTipoEntrega}\r\n                ReactPixel={ReactPixel}\r\n                EnderecoPedidoMesa={EnderecoPedidoMesa}\r\n                QRCode={QRCode}\r\n                PagamentoOnline={PagamentoOnline}\r\n                MeusCartoes={MeusCartoes}\r\n                CriarCartao={CriarCartao}\r\n                VerificarPagamentoOnline={VerificarPagamentoOnline}\r\n                EscolhiMeuCartaoPagamentoOnline={EscolhiMeuCartaoPagamentoOnline}\r\n                InformacoesDoTipoEntrega={InformacoesDoTipoEntrega}\r\n                AbrirMostrarFotoProduto={AbrirMostrarFotoProduto}\r\n                MostrarFotoProduto={MostrarFotoProduto}\r\n                TelaRetiradaOuEntrega={TelaRetiradaOuEntrega}\r\n            />\r\n       \r\n\r\n      \r\n        \r\n    </div>\r\n\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport {  Row, Col, Container } from 'react-bootstrap';\r\nimport {\r\n  identificarEstabelecimentoSelecionado\r\n} from '../../services/functions';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { autoPlay } from 'react-swipeable-views-utils';\r\n\r\nimport './styles.css';\r\nconst AutoPlaySwipeableViews = autoPlay(SwipeableViews);\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 400,\r\n    flexGrow: 1,\r\n  },\r\n  header: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    height: 50,\r\n    paddingLeft: theme.spacing(4),\r\n    backgroundColor: theme.palette.background.default,\r\n  },\r\n  img: {\r\n    height: \"100%\",\r\n    display: 'block',\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nexport default function Cardapio(props) {\r\n  \r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n  const cardapio = JSON.parse(localStorage.getItem(\"cardapioCF\"))\r\n  const carrinho = JSON.parse(localStorage.getItem(\"carrinhoCF\")) \r\n  const usuarioPedidoMesa = JSON.parse(localStorage.getItem(\"usuarioPedidoMesaCF\"))\r\n\r\n\r\n  const enderecoAtual = JSON.parse(localStorage.getItem(\"enderecoAtualCF\"));\r\n\r\n  const estabelecimentoAtual = JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"));\r\n\r\n  const history = useHistory();\r\n\r\n  \r\n  const bannersStep = estabelecimentoAtual?.banners;\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n\r\n \r\n\r\n\r\n  return (\r\n    <Container className=\"containerEstabelecimentoComponente\">\r\n\r\n \r\n\r\n      <div className=\"EstabelecimentoComponente row\">\r\n          <div className={\"divFundo \" + (bannersStep?.length > 0 ? \"\" : \" notBannerSlide\") }  style={{\"background\":  `${aplicativoDados?.corSiteSecundaria}`}}>\r\n          \r\n            {bannersStep?.length > 0\r\n            ? (\r\n              <AutoPlaySwipeableViews\r\n              style={{\"height\": \"100%\", \"overflow\": \"hidden\"}}\r\n              axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n              index={activeStep}\r\n              onChangeIndex={(step) => {setActiveStep(step)}}\r\n              enableMouseEvents\r\n            >\r\n              {bannersStep.map((step, index) => (\r\n                <div key={index}>\r\n                  {Math.abs(activeStep - index) <= 2 ? (\r\n                    <img alt={\"banner estabelecimento\"} className={classes.img} src={step}/>\r\n                  ) : null}\r\n                </div>\r\n              ))}\r\n            </AutoPlaySwipeableViews>\r\n            ) : null} \r\n          \r\n        </div>\r\n\r\n            \r\n    </div>\r\n    </Container>\r\n  );\r\n}","import React from 'react';\r\nimport './styles.css';\r\nimport Cabecalho from '../Global/cabecalho';\r\nimport Rodape from '../Global/rodape';\r\nimport Cardapio from './cardapio';\r\nimport Estabelecimento from './estabelecimento';\r\n\r\n\r\n\r\nexport default function Delivery(props) {\r\n\r\n  const search = props.location.search;\r\n  const params = new URLSearchParams(search); \r\n  const visualizacaoParams = params.get('view')\r\n\r\n  const usuarioPedidoMesa = JSON.parse(localStorage.getItem(\"usuarioPedidoMesaCF\"))\r\n  const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))\r\n  const aplicativoDados = JSON.parse(localStorage.getItem('aplicativoCF'))\r\n\r\n  return (\r\n    <>\r\n      {\r\n        !visualizacaoParams\r\n          ? (usuarioPedidoMesa?.logado\r\n              ? <Cabecalho  mesa={usuarioLogado.cliente.nome} ></Cabecalho>\r\n              : (aplicativoDados.clienteFielStart \r\n                ? <Cabecalho clienteFielStart={true}></Cabecalho>\r\n                : <Cabecalho nomeEstabelecimentoCardapio={true} statusEstabelecimento={true}></Cabecalho>))\r\n          : <Cabecalho visualizacao={true}></Cabecalho>\r\n      }\r\n      \r\n      <div className=\"container container-delivery\">\r\n        <Estabelecimento visualizacao={visualizacaoParams ? true : false}></Estabelecimento>\r\n        <Cardapio visualizacao={visualizacaoParams ? true : false}></Cardapio>        \r\n      </div>\r\n\r\n      {\r\n        aplicativoDados.clienteFielStart || visualizacaoParams\r\n          ? null \r\n          :<Rodape valor=\"Delivery\"></Rodape>\r\n      }\r\n      \r\n    </>\r\n  );\r\n}","\r\nimport React, {Component, useState, useEffect,  } from 'react'\r\nimport QrReader from 'react-qr-reader'\r\nimport * as Sentry from \"@sentry/react\";\r\nimport { useHistory,useParams } from 'react-router-dom';\r\nimport './styles.css';\r\nimport Cabecalho from '../Global/cabecalho';\r\nimport Rodape from '../Global/rodape';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Card, Row, Col, Container, Carousel } from 'react-bootstrap';\r\nimport ReceiptIcon from '@material-ui/icons/Receipt';\r\n\r\nimport {\r\n    ExtratoCashback,\r\n    ResgatarCashBack,\r\n    CadastrarUsuario,\r\n    BuscarPedidosCliente,\r\n    RegistrarSeloSeguro2,\r\n    BuscarUltimoPedidoCliente,\r\n    identificarEstabelecimentoSelecionado,\r\n  } from '../../services/functions';\r\n\r\nimport api from '../../services/api';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\r\n\r\n//import ShareBtn from 'react-share-button';\r\n\r\n//import Loading from '../loading';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { AiOutlineQrcode } from 'react-icons/ai';\r\n\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { Receipt } from '@material-ui/icons';\r\nimport GanheDescontos from '../Delivery/ganheDescontos';\r\n\r\n\r\nfunction getMoney( str )\r\n{\r\n        return parseInt( str.replace(/[\\D]+/g,'') );\r\n}\r\nfunction formatReal( int )\r\n{\r\n        var tmp = int+'';\r\n        tmp = tmp.replace(/([0-9]{2})$/g, \",$1\");\r\n        if( tmp.length > 6 )\r\n                tmp = tmp.replace(/([0-9]{3}),([0-9]{2}$)/g, \".$1,$2\");\r\n\r\n        return tmp;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    list: {\r\n        width: 250,\r\n    },\r\n    fullList: {\r\n        width: 'auto',\r\n    },\r\n    fixed: {\r\n        position: 'fixed',\r\n        bottom: theme.spacing(10),\r\n        right: theme.spacing(3),\r\n        fontSize: \"30px\",\r\n    },\r\n    rootAlert: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n          marginTop: theme.spacing(2),\r\n        },\r\n      },\r\n      backdrop: {\r\n        zIndex: theme.zIndex.drawer + 9999,\r\n        color: '#fff',\r\n      },\r\n      root: {\r\n        minWidth: 275,\r\n        marginTop: '10px',\r\n      },\r\n      bullet: {\r\n        display: 'inline-block',\r\n        margin: '0 2px',\r\n        transform: 'scale(0.8)',\r\n      },\r\n      title: {\r\n        fontSize: 14,\r\n      },\r\n      pos: {\r\n        marginBottom: 12,\r\n      },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n\r\nfunction dataProInput(string){\r\n    let returno = ''\r\n    returno += string.substring(6) + '-'\r\n    returno += string.substring(3,5) + '-'\r\n    returno += string.substring(0,2)  \r\n    //console.log(\"dataProInput\", returno)\r\n    return returno\r\n}\r\n\r\n\r\nexport default function Perfil() {\r\n    const {param1} = useParams();\r\n    const [estabelecimentoAtual, setEstabelecimentoAtual] = useState(JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")));\r\n    const [openGanheDescontos, setOpenGanheDescontos] = useState(false);\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n    const [usuarioLogado, setUsuarioLogado] = useState(JSON.parse(localStorage.getItem(\"usuarioCF\")))\r\n    const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n    //console.log(\"usuarioLogado\", usuarioLogado)\r\n\r\n    const [configuracoesPerfilModal, setConfiguracoesPerfilModal] = React.useState( param1 === 'configuracao' ? true : false);\r\n    const [qrCodeModal, setQrCodeModal] = React.useState(false);\r\n    const [usuarioEdit, setUsuarioEdit] = React.useState(usuarioLogado.cliente.nome ? usuarioLogado.cliente.nome : '');\r\n    const [cpfEdit, setCpfEdit] = React.useState(usuarioLogado.cliente.cpf ? usuarioLogado.cliente.cpf : '');\r\n    const [telefoneEdit, setTelefoneEdit] = React.useState(usuarioLogado.cliente.telefone ? usuarioLogado.cliente.telefone : '');\r\n    const [dataNascimentoEdit, setDataNascimentoEdit] = React.useState(usuarioLogado.cliente.dataNascimentoTexto ? (dataProInput(usuarioLogado.cliente.dataNascimentoTexto)) : '');\r\n    const [emailEdit, setEmailEdit] = React.useState(usuarioLogado.cliente.email ? usuarioLogado.cliente.email : '');\r\n    const [senhaAntigaEdit, setSenhaAntigaEdit] = React.useState('');\r\n    const [senhaNovaEdit, setSenhaNovaEdit] = React.useState('');\r\n    const [senhaNovaConfirmacaoEdit, setSenhaNovaConfirmacaoEdit] = React.useState('');\r\n    const [Cashback, setCashback] = React.useState(false);\r\n    const [RelatorioCashBack, setRelatorioCashBack] = React.useState(false);\r\n    const [DadosRelatorioCashBack, setDadosRelatorioCashBack] = React.useState('');\r\n    const [LojasCashBack, setLojasCashBack] = React.useState(false);\r\n    const [CompartilharCodigoAmigo, setCompartilharCodigoAmigo] = React.useState( param1 === 'indicacao-amigos' ? true : false );\r\n\r\n    const [ultimoPedido, setUltimoPedido] = React.useState(localStorage.getItem(\"ultimoPedidoCF\") ? JSON.parse(localStorage.getItem(\"ultimoPedidoCF\")) : '');\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    \r\n    const logOut = () => {\r\n        localStorage.removeItem('backupItensCarrinhoCF');\r\n        localStorage.removeItem('PedidoCanceladoBackupCF');\r\n        localStorage.removeItem('usuarioPedidoMesaCF');\r\n        localStorage.removeItem('produtoSelecionadoCF');\r\n        localStorage.removeItem('ultimoPedidoCF');\r\n        localStorage.removeItem('cardapioCF');\r\n        localStorage.removeItem('carrinhoCF');\r\n        localStorage.removeItem('usuarioCF');\r\n        localStorage.removeItem('enderecoAtualCF');\r\n        localStorage.removeItem('estabelecimentoAtualCF');\r\n        localStorage.removeItem('dateCardapioCF');\r\n        localStorage.removeItem('usuarioPedidoMesaCF_Date');\r\n        localStorage.removeItem('dateUsuarioCF');\r\n        history.push(`/login${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n    }\r\n\r\n    \r\n    //alerts    \r\n    const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n\r\n    function Alert(props) {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n    }\r\n    \r\n    const alertStart = (msg, tipo) => {\r\n        setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n    };\r\n\r\n    const alertClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n    };\r\n\r\n\r\n  async function salvarConfiguracoesPerfil(e) {   \r\n\r\n    try {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n\r\n        let dataNascimentoEditado = usuarioLogado.cliente.dataNascimentoTexto\r\n\r\n        if(dataNascimentoEditado !== 'NaN/NaN/NaN'){\r\n            //console.log(\"arrumando data\")\r\n            let d = new Date(dataNascimentoEdit);\r\n            let dt = d.getDate();\r\n            dt++\r\n            let mn = d.getMonth();\r\n            mn++\r\n            let yy = d.getFullYear();\r\n            dataNascimentoEditado = dt + \"/\" + mn + \"/\" + yy\r\n        }\r\n        \r\n        \r\n\r\n\r\n        if(senhaNovaEdit && senhaNovaEdit.length < 8){\r\n            alertStart(\"Sua nova senha contem menos de 8 coracteres!\", \"warning\")\r\n            document.getElementById(\"senhaNovaEdit\").focus()\r\n            setLoading(false)\r\n            return false\r\n        }else if(senhaNovaEdit && senhaNovaEdit != senhaNovaConfirmacaoEdit){\r\n            alertStart(\"Sua senha de confirmao no  igual a nova senha!\", \"warning\")\r\n            document.getElementById(\"senhaNovaConfirmacaoEdit\").focus()\r\n            setLoading(false)\r\n            return false\r\n        }else if(senhaAntigaEdit && senhaAntigaEdit != usuarioLogado.cliente.hashSenha){\r\n            alertStart(\"Sua senha antiga est incorreta!\", \"warning\")\r\n            document.getElementById(\"senhaAntigaEdit\").focus()\r\n            setLoading(false)\r\n            return false\r\n        }\r\n\r\n\r\n        const data = usuarioLogado.cliente\r\n        data.appNome = aplicativoDados.appNome\r\n        data.nome = usuarioEdit ? usuarioEdit : usuarioLogado.cliente.nome\r\n        data.cpf = cpfEdit ? cpfEdit : usuarioLogado.cliente.cpf\r\n        data.telefone = telefoneEdit ? telefoneEdit : usuarioLogado.cliente.telefone\r\n        data.dataNascimentoTexto = dataNascimentoEditado !== 'NaN/NaN/NaN' ? dataNascimentoEditado : usuarioLogado.cliente.dataNascimentoTexto\r\n        data.email = emailEdit ? emailEdit : usuarioLogado.cliente.email \r\n        data.hashSenha = senhaNovaEdit ? senhaNovaEdit : usuarioLogado.cliente.hashSenha\r\n        data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n\r\n\r\n        const response = await CadastrarUsuario(data, aplicativoDados)\r\n    \r\n        if(response.retornoErro){\r\n            //algum erro\r\n            alertStart(response.mensagem, \"error\")\r\n        }else{ \r\n            //tudo certo\r\n            if(response.codErro > 0){\r\n                //deu errado \r\n                alertStart(response.mensagem, \"error\")\r\n            }else{\r\n                //deu certo\r\n                usuarioLogado.cliente = response\r\n                setUsuarioLogado(usuarioLogado)\r\n                localStorage.setItem(\"usuarioCF\", JSON.stringify(usuarioLogado))\r\n                alertStart(\"Suas informaes pessoais foram salvas com sucesso!\", \"success\")\r\n            } \r\n        }\r\n        setConfiguracoesPerfilModal(false)\r\n        setLoading(false)\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions salvarConfiguracoesPerfil ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")   \r\n        setSenhaNovaConfirmacaoEdit('')\r\n        setSenhaAntigaEdit('')\r\n        setSenhaNovaEdit('') \r\n        setConfiguracoesPerfilModal(false)\r\n        setLoading(false)\r\n    }\r\n  }\r\n  \r\n\r\n  const buscarHistoricoPedido = async () => {    \r\n\r\n    try {\r\n        setLoading(true)\r\n        const data = usuarioLogado.cliente\r\n        data.appNome = aplicativoDados.appNome\r\n        data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n\r\n\r\n        const response = await BuscarPedidosCliente(data, aplicativoDados)\r\n        console.log(\"buscarHistoricoPedido\", response)\r\n    \r\n        if(response.retornoErro){\r\n            //algum erro\r\n            alertStart(response.mensagem, \"error\")\r\n        }else{ \r\n            //tudo certo\r\n            localStorage.setItem('historicoPedidosCF', JSON.stringify(response))\r\n            if(response.length > 0){\r\n                history.push(`/delivery/historicoPedidos`)\r\n            }else{\r\n                alertStart(\"Voc ainda no fez pedidos\", \"warning\")\r\n                setLoading(false)\r\n            }\r\n        }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions buscarHistoricoPedido ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n\r\n    \r\n\r\n    \r\n\r\n    //console.log(\"BuscarPedidosCliente\", data)\r\n\r\n\r\n  }\r\n\r\n\r\n \r\n    class QRCode extends Component {\r\n\r\n        state = {\r\n            result: 'No result',\r\n            leu: false,\r\n        }\r\n    \r\n        handleScan = async data =>  {           \r\n            if (data && !this.state.leu) {  \r\n                \r\n                this.setState({\r\n                    result: data,\r\n                    leu: true,\r\n                })\r\n                setQrCodeModal(false)         \r\n\r\n                //console.log(\"data\", data)\r\n\r\n                setLoading(true)\r\n                \r\n                try {\r\n\r\n                    if(data.includes(\"www.\") || data.includes(\"https\") || data.includes(\"http\")){\r\n                        window.location.href = data\r\n                    }else if(data){\r\n                        const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))\r\n                        const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n                        \r\n                        \r\n                        const enviarData = {}\r\n                        enviarData.idCliente = usuarioLogado.cliente.id         \r\n                        enviarData.appNome = aplicativoDados.appNome\r\n                        enviarData.codigoSelo = data?.replace(\"market://details?id=br.com.clientefiel&\", \"\") \r\n                        enviarData.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n                        console.log('data>', enviarData)\r\n                        const response = await RegistrarSeloSeguro2(enviarData, aplicativoDados)\r\n                        console.log('reotnro> ' , response)\r\n                        if(response.retornoErro){\r\n                            //algum erro \r\n                        alertStart(response.mensagem, \"error\")\r\n                        setLoading(false)\r\n\r\n                        }else{ \r\n                            //tudo certo\r\n                            let statusAlert = \"success\"\r\n                            \r\n                            if(response.codErro > 0){ // ERRO\r\n                                statusAlert = \"error\"\r\n                            }else{\r\n\r\n                                if(response.status === 0){                                \r\n                                    usuarioLogado.cartelas[0] = response                         \r\n                                }else{\r\n                                    //CARTELA COMPLETOU - INICIAR OUTRA\r\n                                    usuarioLogado.cartelas.unshift(response)\r\n                                }\r\n\r\n                                localStorage.setItem(\"usuarioCF\", JSON.stringify(usuarioLogado))\r\n                                setUsuarioLogado(usuarioLogado)\r\n                                \r\n                            }                          \r\n                            \r\n                            setLoading(false)\r\n                            alertStart(response.mensagem, statusAlert)\r\n                        }\r\n                    }else{\r\n                        alertStart(\"Esse QRCode no  vlido!\", \"error\")   \r\n                    }\r\n                    \r\n                }\r\n                catch (error) {\r\n                    Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions RegistrarSeloSeguro2 ${window.location.hostname} - ${error}`);\r\n                    alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n                    setLoading(false)\r\n\r\n                }\r\n\r\n                \r\n            }\r\n        }\r\n\r\n        handleError = err => {\r\n            setQrCodeModal(false) \r\n            setLoading(false)\r\n            alertStart(\"Algo deu errado ao registrar selo  (handleError)\", \"error\")\r\n        }\r\n\r\n        render() {\r\n            if(qrCodeModal){\r\n                return (\r\n                    <div>\r\n                        <QrReader\r\n                            delay={300}\r\n                            onError={this.handleError}\r\n                            onScan={this.handleScan}\r\n                            style={{ width: '100%' }}\r\n                        />\r\n                        {/*<p>{this.state.result}</p>*/}\r\n                    </div>\r\n                )\r\n            }else{\r\n                return (\r\n                    <div>\r\n                        \r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n    //console.log(QRCode.result)\r\n    \r\n    useEffect(()=>{\r\n        console.log(\"useEffect\", ultimoPedido)\r\n        const ultimo = async () => {\r\n            console.log(\"ultimo\")\r\n            try {\r\n                const data = usuarioLogado.cliente\r\n                data.appNome = aplicativoDados.appNome\r\n                data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n            \r\n                const response = await BuscarUltimoPedidoCliente(data, aplicativoDados)\r\n                console.log('BuscarUltimoPedidoCliente', response)\r\n                if(response.retornoErro){\r\n                    //algum erro\r\n                    alertStart(response.mensagem, \"error\")\r\n                }else{ \r\n                    //tudo certo\r\n                    if(response === \"\"){\r\n                        localStorage.setItem(\"ultimoPedidoCF\", '{\"tem\":false}')\r\n                        setUltimoPedido({\"tem\":false})   \r\n                        return false\r\n                    }\r\n                    localStorage.setItem(\"ultimoPedidoCF\", JSON.stringify(response))\r\n                    setUltimoPedido(response)\r\n                }\r\n            }\r\n            catch (error) {\r\n                Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions BuscarUltimoPedidoCliente ${window.location.hostname} - ${error}`);\r\n                alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n            }\r\n        }\r\n\r\n        if(!ultimoPedido){\r\n            ultimo();\r\n        }\r\n    }, [ultimoPedido])\r\n\r\n\r\n    return (\r\n        <>\r\n            {loading &&\r\n            (<Backdrop className={classes.backdrop} open={loading}>\r\n            <CircularProgress color=\"inherit\" />\r\n            </Backdrop>)}\r\n\r\n            <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n                <Alert onClose={alertClose} severity={alert.tipo}>\r\n                {alert.mesangem}\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n\r\n            <Cabecalho nomeUsuario={true}></Cabecalho>\r\n\r\n            <div className=\"container container-perfil\">\r\n                <Container className=\"containerEstabelecimentoComponente\">\r\n                    <div className=\"EstabelecimentoComponente row\" >\r\n                        <div className=\"divFundo\" style={{ \"background\": aplicativoDados.urlFundoSite ? `url(${aplicativoDados.urlFundoSite})` : `${aplicativoDados.corSiteSecundaria}`, \"height\": aplicativoDados.urlFundoSite ? \"280px\" : \"125px\" }} >\r\n                            <Avatar className=\"logoPerfil\" style={{\"top\": aplicativoDados.urlFundoSite ? \"83%\" : \"65%\", \"textTransform\": \"uppercase\" ,\"background\": aplicativoDados.corSitePrimaria, \"color\": aplicativoDados.corSiteSecundaria, \"fontSize\": \"3em\" }}>{usuarioLogado.cliente.nome[0]}</Avatar>\r\n                        </div>\r\n\r\n                        <Carousel indicators={false} controls={false} className=\"carrossel w-100 fundoInfoEstabelecimento\">\r\n                            <Carousel.Item className=\"container\">\r\n                                <Row className=\"rowUsuarioPerfil\">\r\n                                    <Col xs={4} md={4} lg={2}></Col>\r\n                                    <Col xs={8} md={8} lg={6} className=\"fraseLadoLogo\"><h5>{usuarioLogado.cliente.nome}</h5></Col>\r\n\r\n                                    {!ultimoPedido \r\n                                    ? (<Col xs={12} md={12} lg={12} className=\"fraseLadoLogo\" style={{\"textAlign\": \"center\"}}><h5><CircularProgress color=\"inherit\" /></h5></Col>) \r\n                                    : (\r\n                                        <>\r\n                                        { (usuarioLogado.cartelas.length && aplicativoDados.apenasDelivery === false && usuarioLogado.cartelas[0]?.status === 0)\r\n                                        ?   <Col xs={6} md={6} lg={2} className=\"marginTopMd\" >\r\n                                                <b>Cartela Atual</b><br></br>\r\n                                                {usuarioLogado.cartelas[0]?.selos?.length} / {usuarioLogado.cartelas[0]?.promocaoFidelidade?.quantidadeNecessaria} selos\r\n                                            </Col> \r\n                                        : null}\r\n                                        \r\n                                        {ultimoPedido.tem === true || ultimoPedido.id\r\n                                        ? (<Col xs={6} md={6} lg={2} className=\"marginTopMd\"><b>Ultimo Pedido</b><br></br>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(ultimoPedido.valorTotal)}</Col>)\r\n                                        : null}\r\n                                        </>\r\n                                    )}\r\n                                    \r\n                                    \r\n                                </Row>\r\n                            </Carousel.Item>\r\n                        </Carousel>\r\n\r\n                        <div style={{\"width\": \"100%\", \"background\": \"#f6f6f6\"}}>\r\n                            <List>\r\n\r\n                                <ListItem button onClick={() => { \r\n                                    history.push(`/delivery/enderecos${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n                                    }}>\r\n                                    <ListItemIcon> <LocationOnIcon /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Endereos\"} />\r\n                                </ListItem>\r\n\r\n                                {aplicativoDados.tokenCashBack &&\r\n                                    <ListItem button onClick={() => { setCashback(true) }}>\r\n                                    <ListItemIcon> <MonetizationOnIcon/> </ListItemIcon>\r\n                                    <ListItemText primary={\"CashBack\"} />\r\n                                    </ListItem>\r\n                                }\r\n\r\n                                {aplicativoDados.apenasDelivery === false &&\r\n                                    <ListItem button onClick={() => { \r\n                                        history.push(`/delivery/fidelidade`)\r\n                                    }}>\r\n                                    <ListItemIcon> <FavoriteIcon /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Cartelas de Fidelidade\"} />\r\n                                    </ListItem>\r\n                                }\r\n\r\n                                \r\n                                \r\n\r\n                                <ListItem button onClick={() => { buscarHistoricoPedido() }}>\r\n                                    <ListItemIcon> <DescriptionIcon /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Histrico de Pedidos\"} />\r\n                                </ListItem>\r\n\r\n                                <ListItem button onClick={() => { setConfiguracoesPerfilModal(true) }}>\r\n                                    <ListItemIcon> <SettingsIcon /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Configuraes\"} />\r\n                                </ListItem>\r\n\r\n                                {/* {aplicativoDados.apenasDelivery === false\r\n                                &&  <ListItem button onClick={() => { setCompartilharCodigoAmigo(true) }}>\r\n                                        <ListItemIcon> <ShareIcon /> </ListItemIcon>\r\n                                        <ListItemText primary={\"Ganhar Selos\"} />\r\n                                    </ListItem>\r\n                                } */}\r\n                                <ListItem button onClick={() => { setOpenGanheDescontos(true)}}>\r\n                                    <ListItemIcon> <Receipt /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Ganhe Descontos\"} />\r\n                                </ListItem>\r\n\r\n                            </List>\r\n                            <Divider/>\r\n                            <List>\r\n\r\n                                <ListItem button onClick={logOut}>\r\n                                    <ListItemIcon> <ExitToAppIcon /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Sair\"} />\r\n                                </ListItem>\r\n\r\n                            </List>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        aplicativoDados.apenasDelivery === false \r\n                        ? (<Tooltip title=\"Ler QRcode\" placement=\"bottom\" aria-label=\"Ler QRcode\" onClick={() => { setQrCodeModal(true) }}>\r\n                            <Fab color=\"secondary\" style={{\"color\": aplicativoDados.corSitePrimaria}} className={classes.fixed}>\r\n                            <AiOutlineQrcode />\r\n                            </Fab>\r\n                        </Tooltip>)\r\n                        : null\r\n                    }\r\n                </Container>\r\n            </div>\r\n\r\n            <GanheDescontos \r\n                setOpenGanheDescontos={setOpenGanheDescontos}\r\n                openGanheDescontos={openGanheDescontos}\r\n                usuario={usuarioLogado}\r\n                jaEstou={true}\r\n                setConfiguracoesPerfilModal={setConfiguracoesPerfilModal}\r\n                setCompartilharCodigoAmigo={setCompartilharCodigoAmigo}\r\n                aplicativoDados={aplicativoDados}\r\n                estabelecimentoAtual={aplicativoDados.estabelecimentos.length === 1 ? aplicativoDados.estabelecimentos[0] : {}}\r\n            />\r\n\r\n            <Dialog\r\n\r\n                open={CompartilharCodigoAmigo}\r\n                TransitionComponent={Transition}\r\n                keepMounted\r\n                onClose={() => { setCompartilharCodigoAmigo(false) }}\r\n                aria-labelledby=\"modal-ganhe-selos\"\r\n                aria-describedby=\"modal-ganhe-selos\"\r\n            >\r\n            <DialogTitle id=\"modal-ganhe-selos\">{\"Ganhe Selos\"}</DialogTitle>\r\n            <DialogContent>\r\n                    <Typography> {aplicativoDados.textoPromocaoIndicacao} </Typography>       \r\n\r\n                    <br/>\r\n                    <Button variant=\"outlined\" color=\"primary\" fullWidth onClick={(e) => {\r\n                        navigator.clipboard.writeText(usuarioLogado.cliente.codigoCupomDesconto)\r\n                        alertStart(\"Cdigo copiado!\", \"info\")\r\n                    }}>\r\n                        {usuarioLogado.cliente.codigoCupomDesconto}\r\n                    </Button>\r\n                    <br/>\r\n                                \r\n                    <br/> \r\n                    <Typography> Voc ganha {aplicativoDados.selosPorIndicacaoConvidado} selos </Typography>     \r\n                    <br/>                \r\n                    <Typography> Seu amigo ganha {aplicativoDados.selosPorIndicacaoConvidante} selos </Typography>                    \r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() =>{setCompartilharCodigoAmigo(false)}} style={{\"color\":\"#dc3545\"}}>\r\n                    Voltar\r\n                </Button>\r\n                <Button onClick={() =>{\r\n                    let mensagem = aplicativoDados.textoConvidarAmigos\r\n                    mensagem = mensagem.replace('$NOME_APLICATIVO$', aplicativoDados.projectName)\r\n                    mensagem = mensagem.replace('$CODIGO$', usuarioLogado.cliente.codigoCupomDesconto)\r\n                    mensagem = mensagem.replace('$LINK$', aplicativoDados.urlAcesso)\r\n\r\n                    window.location.href = `whatsapp://send?text=${mensagem.replace(\"&\", \"%26\")}` \r\n                }} style={{\"color\": \"white\", \"backgroundColor\":\"#28a745\"}}>\r\n                    Compartilhar\r\n                </Button>\r\n            </DialogActions>\r\n            </Dialog>\r\n\r\n\r\n            <Dialog\r\n                fullScreen={fullScreen}\r\n                open={configuracoesPerfilModal}\r\n                aria-labelledby=\"configPerfil\">\r\n                <form onSubmit={salvarConfiguracoesPerfil}>\r\n\r\n                <DialogTitle id=\"configPerfil\">{\"Configuraes do Perfil\"}</DialogTitle>\r\n\r\n\r\n            <DialogContent>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    onChange={(e) =>{ setUsuarioEdit(e.target.value)}}\r\n                    value={usuarioEdit}\r\n                    id=\"usuarioEdit\"\r\n                    label=\"Nome do Usurio\"\r\n                    name=\"usuarioEdit\"\r\n                    type=\"text\"                    \r\n                />   \r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    onChange={(e) =>{ setCpfEdit(e.target.value)}}\r\n                    value={cpfEdit}\r\n                    id=\"cpfEdit\"\r\n                    label=\"CPF\"\r\n                    name=\"cpfEdit\"\r\n                    type=\"text\"                    \r\n                />   \r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    onChange={(e) =>{ setTelefoneEdit(e.target.value)}}\r\n                    value={telefoneEdit}\r\n                    id=\"telefoneEdit\"\r\n                    label=\"Telefone\"\r\n                    name=\"telefoneEdit\"\r\n                    type=\"number\"                    \r\n                />  \r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    onChange={(e) =>{ setDataNascimentoEdit(e.target.value)}}\r\n                    value={dataNascimentoEdit}\r\n                    // defaultValue={0}\r\n                    id=\"dataNascimentoEdit\"\r\n                    label=\"Data Nascimento\"\r\n                    name=\"dataNascimentoEdit\"\r\n                    type=\"date\"   \r\n                    InputLabelProps={{\r\n                        shrink: true\r\n                    }}   \r\n                />  \r\n                {\r\n                    !usuarioLogado.cliente.email.includes('@c.us')\r\n                    &&\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        onChange={(e) =>{ setEmailEdit(e.target.value)}}\r\n                        value={emailEdit}\r\n                        id=\"emailEdit\"\r\n                        label=\"Email\"\r\n                        name=\"emailEdit\"\r\n                        type=\"email\"                    \r\n                    />  \r\n                }\r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    onChange={(e) =>{ setSenhaAntigaEdit(e.target.value)}}\r\n                    value={senhaAntigaEdit}\r\n                    required={senhaNovaEdit ? true : false}\r\n                    id=\"senhaAntigaEdit\"\r\n                    label=\"Senha Antiga\"\r\n                    name=\"senhaAntigaEdit\"\r\n                    type=\"password\"                    \r\n                />  \r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    onChange={(e) =>{ setSenhaNovaEdit(e.target.value)}}\r\n                    value={senhaNovaEdit}\r\n                    required={senhaAntigaEdit ? true : false}\r\n                    id=\"senhaNovaEdit\"\r\n                    label=\"Senha Nova\"\r\n                    name=\"senhaNovaEdit\"\r\n                    type=\"password\"                    \r\n                />  \r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    required={senhaNovaEdit ? true : false}\r\n                    onChange={(e) =>{ setSenhaNovaConfirmacaoEdit(e.target.value)}}\r\n                    value={senhaNovaConfirmacaoEdit}\r\n                    id=\"senhaNovaConfirmacaoEdit\"\r\n                    label=\"Senha Nova Confirmao\"\r\n                    name=\"senhaNovaConfirmacaoEdit\"\r\n                    type=\"password\"                    \r\n                /> \r\n            </DialogContent>\r\n\r\n            <DialogActions>                \r\n                <Button onClick={() => {setConfiguracoesPerfilModal(false)}} style={{\"color\":\"#dc3545\"}}>\r\n                    Cancelar\r\n                </Button>\r\n                <Button type=\"submit\"\r\n                style={{\"color\": \"white\", \"backgroundColor\":\"#28a745\"}}>\r\n                    Atualizar\r\n                </Button>\r\n            </DialogActions>\r\n            </form>\r\n            </Dialog>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <Dialog\r\n              fullScreen={fullScreen}\r\n              open={qrCodeModal}\r\n              aria-labelledby=\"qrCodeModal\">\r\n\r\n              <DialogTitle id=\"qrCodeModal\">{\"Leitura de QRCode\"}</DialogTitle>\r\n              <DialogContent>\r\n\r\n                <QRCode/>\r\n\r\n              </DialogContent>\r\n              <DialogActions>                \r\n                <Button onClick={() => {\r\n                    setQrCodeModal(false)\r\n                }} >\r\n                  Cancelar\r\n                </Button>                \r\n              </DialogActions>\r\n            </Dialog>\r\n\r\n\r\n            {aplicativoDados.tokenCashBack ? (<Dialog\r\n              fullScreen={fullScreen}\r\n              open={Cashback}\r\n              aria-labelledby=\"cashbackModal\">\r\n\r\n              <DialogTitle id=\"cashbackModal\">{\"CashBack\"}</DialogTitle>\r\n              <DialogContent>\r\n\r\n                <Row style={{\"textAlign\": \"center\"}}>\r\n\r\n                    <Col xs={12} md={12} lg={12}>\r\n                        <Button variant=\"contained\" onClick={() => { }} style={{\"background\": `#28a745`, \"color\":\"white\"}} className=\"buttonSaldoCashBack\">\r\n                            <span style={{\"fontSize\": \"0.75em\"}}>Saldo</span>\r\n                            <span style={{\"fontSize\": \"1.75em\"}}>{usuarioLogado.saldoCashBack}</span>\r\n                        </Button>\r\n                    </Col>\r\n                    <Col xs={12} md={12} lg={12} style={{\"marginTop\": \"25px\"}}>\r\n                        <Typography>{usuarioLogado.msgCashBack}</Typography>                            \r\n                    </Col>\r\n                    <Col xs={12} md={12} lg={12} style={{\"marginTop\": \"10px\"}}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            fullWidth\r\n                            prefix=\"R$\"\r\n                            onChange={(e) => {\r\n                                e.target.value = \"R$ \"+formatReal(getMoney(e.target.value))\r\n                            }}\r\n                            id=\"cashBackValorResgate\"\r\n                            label=\"Valor de Resgate\"\r\n                            name=\"cashBackValorResgate\"\r\n                        />  \r\n                        <Button type=\"submit\"\r\n                            style={{\"color\": \"#28a745\"}}\r\n                            onClick={\r\n                                async () => {\r\n\r\n                                    try {\r\n                                        const valorSaldo = parseInt((usuarioLogado.saldoCashBack.replace('R$', '')))\r\n                                        const valorResgate = parseInt(document.getElementById('cashBackValorResgate').value.replace('R$ ', '').replace('.', '').replace(',', '.'))\r\n                                        //console.log(\"valorResgate\", valorResgate, \"valorSaldo\", valorSaldo )\r\n                                    \r\n                                        if(valorResgate > valorSaldo){\r\n                                            alertStart(\"Valor de resgate maior que seu saldo.\", \"warning\")\r\n                                            document.getElementById('cashBackValorResgate').focus()\r\n                                            return false\r\n                                        }else if(valorResgate < 0){\r\n                                            alertStart(\"Voc nao pode resgatar valor negativo.\", \"warning\")\r\n                                            document.getElementById('cashBackValorResgate').focus()\r\n                                            return false\r\n                                        }else if(!valorResgate){\r\n                                            document.getElementById('cashBackValorResgate').focus()\r\n                                            return false\r\n                                        }\r\n                                        setLoading(true)\r\n\r\n                                        const data = {\"resgateCashback\": valorResgate}\r\n\r\n                                        const response = await ResgatarCashBack(data, aplicativoDados)\r\n                                    \r\n                                        if(response.retornoErro){\r\n                                            //algum erro\r\n                                            alertStart(response.mensagem, \"error\")\r\n                                        }else{ \r\n                                            //tudo certo\r\n                                            alertStart(response.mensagem, \"success\")\r\n                                        }\r\n\r\n                                        setLoading(false)\r\n\r\n                                    }\r\n                                    catch (error) {\r\n                                        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions ResgatarCashBack ${window.location.hostname} - ${error}`);\r\n                                        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\") \r\n                                        setLoading(false)\r\n                                    }\r\n                                }\r\n                            }>\r\n                            Resgatar\r\n                        </Button>              \r\n                    </Col>\r\n                </Row>\r\n\r\n              </DialogContent>\r\n              <DialogActions style={{\"justifyContent\": \"center\"}}>  \r\n                <Button onClick={() => {setLojasCashBack(true)}} >\r\n                  Lojas CashBack\r\n                </Button>  \r\n                <Button onClick={\r\n                    async () => {  \r\n\r\n                        try {\r\n                            const data = usuarioLogado.cliente.id+'/'+usuarioLogado.appNome+'/1/50/00/00'\r\n                            const response = await ExtratoCashback(data, aplicativoDados)\r\n                        \r\n                            if(response.retornoErro){\r\n                                //algum erro\r\n                            alertStart(response.mensagem, \"error\")\r\n                            }else{ \r\n                                //tudo certo\r\n                                if(response.properties.success === false){\r\n                                    setLoading(false)   \r\n                                    alertStart(response.properties.result, \"error\")\r\n                                }else{\r\n                                    //console.log(\"ExtratoCashback\", resposta) \r\n                                    setDadosRelatorioCashBack(response.properties.result.list)\r\n                                    setRelatorioCashBack(true)\r\n                                    setLoading(false)  \r\n                                }\r\n                            }\r\n                        }\r\n                        catch (error) {\r\n                            Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions ExtratoCashback ${window.location.hostname} - ${error}`);\r\n                            alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n                        }\r\n\r\n                    }} >\r\n                  Relatrio\r\n                </Button>                \r\n                <Button onClick={() => {setCashback(false)}} >\r\n                  Voltar\r\n                </Button>                \r\n              </DialogActions>\r\n            </Dialog>)\r\n            : null }\r\n\r\n\r\n            {DadosRelatorioCashBack \r\n                ? \r\n                (<Dialog\r\n                    fullScreen={fullScreen}\r\n                    open={RelatorioCashBack}\r\n                    aria-labelledby=\"cashbackRelatorioModal\">\r\n    \r\n                    <DialogTitle id=\"cashbackRelatorioModal\">{\"Relatrio CashBack\"}</DialogTitle>\r\n                    <DialogContent>\r\n                                {/*\r\n                                \r\n                                <Row style={{\"textAlign\": \"center\"}} key={index}>\r\n                                    <Col xs={12} md={12} lg={12} style={{\"marginTop\": \"25px\"}}>\r\n                                        <Typography>{relatorio.properties.balance}</Typography>                            \r\n                                    </Col>\r\n                                </Row>\r\n                                */}\r\n    \r\n                        {\r\n                            DadosRelatorioCashBack.map((relatorio, index) => (\r\n\r\n                                <Card className={classes.root} variant=\"outlined\" key={index}>\r\n                                    <CardContent>\r\n                                        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n                                        {relatorio.properties.date} - {relatorio.properties.hour}\r\n                                        </Typography>\r\n                                        <Typography variant=\"h5\" component=\"h2\">\r\n                                        {relatorio.properties.title}\r\n                                        </Typography>\r\n                                        <Typography className={classes.pos} color=\"textSecondary\">\r\n                                        {relatorio.properties.operation} - Tipo {relatorio.properties.type}\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\" component=\"p\">\r\n                                        Saldo: {relatorio.properties.balance}\r\n                                        <br/>\r\n                                        Porcentagem de CashBack: {relatorio.properties.cashback_percentage}\r\n                                        <br/>\r\n\r\n                                        Pontuao: {relatorio.properties.score_transfer}\r\n                                        <br/>\r\n\r\n                                        Valor da Compra: {relatorio.properties.total_purchase}\r\n                                        <br/>\r\n                                        <br/>\r\n\r\n                                        {relatorio.properties.protocolo}                                        \r\n                                        <br/>\r\n\r\n                                        \r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            ))\r\n                        }\r\n                    \r\n    \r\n                    </DialogContent>\r\n                    <DialogActions>                                \r\n                    <Button onClick={() => {setRelatorioCashBack(false)}} >\r\n                        Voltar\r\n                    </Button>                \r\n                    </DialogActions>\r\n                </Dialog>) \r\n                : null\r\n            }\r\n\r\n            {aplicativoDados.tokenCashBack  ? (<Dialog\r\n                fullScreen={fullScreen}\r\n                open={LojasCashBack}\r\n                aria-labelledby=\"cashbackLojasModal\">\r\n\r\n                <DialogTitle id=\"cashbackLojasModal\">{\"Lojas com CashBack\"}</DialogTitle>\r\n                <DialogContent>\r\n                    <iframe src={'https://sys.vespers.com.br/api/cliente_fiel.php?action=getPartners&mobile='+usuarioLogado.cliente.telefone}></iframe>\r\n                </DialogContent>\r\n                <DialogActions>                                \r\n                <Button onClick={() => {setLojasCashBack(false)}} >\r\n                    Voltar\r\n                </Button>                \r\n                </DialogActions>\r\n            </Dialog> )\r\n            : null}\r\n\r\n\r\n            <Rodape valor=\"Perfil\"></Rodape>\r\n        </>\r\n    );\r\n}\r\n\r\n","\r\nimport React, { Component, useState } from 'react'\r\nimport QrReader from 'react-qr-reader'\r\nimport * as Sentry from \"@sentry/react\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport './styles.css';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Row, Col, Container, Carousel } from 'react-bootstrap';\r\nimport {\r\n    identificarEstabelecimentoSelecionado,\r\n    CadastrarUsuario,\r\n    RegistrarSeloSeguro2,\r\n  } from '../../services/functions';\r\n\r\nimport api from '../../services/api';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n//import Loading from '../loading';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { AiOutlineQrcode } from 'react-icons/ai';\r\n\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    list: {\r\n        width: 250,\r\n    },\r\n    fullList: {\r\n        width: 'auto',\r\n    },\r\n    absolute: {\r\n        position: 'absolute',\r\n        bottom: theme.spacing(3),\r\n        right: theme.spacing(3),\r\n        fontSize: \"30px\",\r\n    },\r\n    rootAlert: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n          marginTop: theme.spacing(2),\r\n        },\r\n      },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 9999,\r\n        color: '#fff',\r\n      },\r\n}));\r\n\r\nfunction dataProInput(string){\r\n    let returno = ''\r\n    returno += string.substring(6) + '-'\r\n    returno += string.substring(3,5) + '-'\r\n    returno += string.substring(0,2)  \r\n    //console.log(\"dataProInput\", returno)\r\n    return returno\r\n}\r\n\r\n\r\nexport default function ApenasFidelidade() {\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n    const [usuarioLogado, setUsuarioLogado] = useState(JSON.parse(localStorage.getItem(\"usuarioCF\")))\r\n    const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n    //console.log(\"usuarioLogado\", usuarioLogado)\r\n\r\n\r\n    const [configuracoesPerfilModal, setConfiguracoesPerfilModal] = React.useState(false);\r\n    const [qrCodeModal, setQrCodeModal] = React.useState(false);\r\n    const [usuarioEdit, setUsuarioEdit] = React.useState(usuarioLogado.cliente.nome ? usuarioLogado.cliente.nome : '');\r\n    const [cpfEdit, setCpfEdit] = React.useState(usuarioLogado.cliente.cpf ? usuarioLogado.cliente.cpf : '');\r\n    const [telefoneEdit, setTelefoneEdit] = React.useState(usuarioLogado.cliente.telefone ? usuarioLogado.cliente.telefone : '');\r\n    const [dataNascimentoEdit, setDataNascimentoEdit] = React.useState(usuarioLogado.cliente.dataNascimentoTexto ? (dataProInput(usuarioLogado.cliente.dataNascimentoTexto)) : '');\r\n    const [emailEdit, setEmailEdit] = React.useState(usuarioLogado.cliente.email ? usuarioLogado.cliente.email : '');\r\n    const [senhaAntigaEdit, setSenhaAntigaEdit] = React.useState('');\r\n    const [senhaNovaEdit, setSenhaNovaEdit] = React.useState('');\r\n    const [senhaNovaConfirmacaoEdit, setSenhaNovaConfirmacaoEdit] = React.useState('');\r\n    const [estabelecimentoAtual, setEstabelecimentoAtual] = useState(JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")));\r\n    const [loading, setLoading] = React.useState(false);\r\n    \r\n    const logOut = () => {\r\n        localStorage.removeItem('cardapioCF');\r\n        localStorage.removeItem('carrinhoCF');\r\n        localStorage.removeItem('usuarioCF');\r\n        localStorage.removeItem('enderecoAtualCF');\r\n        localStorage.removeItem('estabelecimentoAtualCF');\r\n        history.push(`/login${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n    }\r\n\r\n    \r\n    //alerts    \r\n    const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n\r\n    function Alert(props) {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n    }\r\n    \r\n    const alertStart = (msg, tipo) => {\r\n        setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n    };\r\n\r\n    const alertClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n    };\r\n\r\n\r\n  async function salvarConfiguracoesPerfil(e) {   \r\n\r\n    try {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n\r\n        let dataNascimentoEditado = usuarioLogado.cliente.dataNascimentoTexto\r\n\r\n        if(dataNascimentoEditado !== 'NaN/NaN/NaN'){\r\n            //console.log(\"arrumando data\")\r\n            let d = new Date(dataNascimentoEdit);\r\n            let dt = d.getDate();\r\n            dt++\r\n            let mn = d.getMonth();\r\n            mn++\r\n            let yy = d.getFullYear();\r\n            dataNascimentoEditado = dt + \"/\" + mn + \"/\" + yy\r\n        }\r\n        if(senhaNovaEdit && senhaNovaEdit.length < 8){\r\n            alertStart(\"Sua nova senha contem menos de 8 coracteres!\", \"warning\")\r\n            document.getElementById(\"senhaNovaEdit\").focus()\r\n            setLoading(false)\r\n            return false\r\n        }else if(senhaNovaEdit && senhaNovaEdit !== senhaNovaConfirmacaoEdit){\r\n            alertStart(\"Sua senha de confirmao no  igual a nova senha!\", \"warning\")\r\n            document.getElementById(\"senhaNovaConfirmacaoEdit\").focus()\r\n            setLoading(false)\r\n            return false\r\n        }else if(senhaAntigaEdit && senhaAntigaEdit !== usuarioLogado.cliente.hashSenha){\r\n            alertStart(\"Sua senha antiga est incorreta!\", \"warning\")\r\n            document.getElementById(\"senhaAntigaEdit\").focus()\r\n            setLoading(false)\r\n            return false\r\n        }\r\n\r\n\r\n        const data = usuarioLogado.cliente\r\n        data.appNome = aplicativoDados.appNome\r\n        data.nome = usuarioEdit ? usuarioEdit : usuarioLogado.cliente.nome\r\n        data.cpf = cpfEdit ? cpfEdit : usuarioLogado.cliente.cpf\r\n        data.telefone = telefoneEdit ? telefoneEdit : usuarioLogado.cliente.telefone\r\n        data.dataNascimentoTexto = dataNascimentoEditado !== 'NaN/NaN/NaN' ? dataNascimentoEditado : usuarioLogado.cliente.dataNascimentoTexto\r\n        data.email = emailEdit ? emailEdit : usuarioLogado.cliente.email \r\n        data.hashSenha = senhaNovaEdit ? senhaNovaEdit : usuarioLogado.cliente.hashSenha\r\n        data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n\r\n        const response = await CadastrarUsuario(data, aplicativoDados)\r\n    \r\n        if(response.retornoErro){\r\n            //algum erro\r\n            alertStart(response.mensagem, \"error\")\r\n        }else{ \r\n            //tudo certo\r\n            usuarioLogado.cliente = response\r\n            setUsuarioLogado(usuarioLogado)\r\n            localStorage.setItem(\"usuarioCF\", JSON.stringify(usuarioLogado))\r\n            alertStart(\"Suas informaes pessoais foram salvas com sucesso!\", \"success\")\r\n        }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions CadastrarUsuario ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n\r\n    setConfiguracoesPerfilModal(false)\r\n    setLoading(false)\r\n  }\r\n  \r\n\r\n \r\n    class QRCode extends Component {\r\n\r\n        state = {\r\n            result: 'No result',\r\n            leu: false,\r\n        }\r\n    \r\n        handleScan = data =>  {           \r\n            if (data && !this.state.leu) {  \r\n                \r\n                setQrCodeModal(false)         \r\n                this.setState({\r\n                    result: data,\r\n                    leu: true,\r\n                })\r\n\r\n                //console.log(\"data\", data)\r\n\r\n                try {\r\n                    setLoading(true)\r\n                    const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))\r\n                    const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n                    \r\n                    \r\n                    const data = {}\r\n                    data.idCliente = usuarioLogado.cliente.id         \r\n                    data.appNome = aplicativoDados.appNome\r\n                    data.codigoSelo = data.replace(\"market://details?id=br.com.clientefiel&\", \"\") \r\n                    data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n\r\n                    const response = RegistrarSeloSeguro2(data, aplicativoDados)\r\n                \r\n                    if(response.retornoErro){\r\n                        //algum erro\r\n                        alertStart(response.mensagem, \"error\")\r\n                    }else{ \r\n                        //tudo certo\r\n                        let statusAlert = \"success\"\r\n                        \r\n                        if(response.codErro > 0){ // ERRO\r\n                            statusAlert = \"error\"\r\n                        }else{\r\n\r\n                            if(response.status === 0){                                \r\n                                usuarioLogado.cartelas[0] = response                            \r\n                            }else{\r\n                                //CARTELA COMPLETOU - INICIAR OUTRA\r\n                                usuarioLogado.cartelas.unshift(response)\r\n                            }\r\n\r\n                            localStorage.setItem(\"usuarioCF\", JSON.stringify(usuarioLogado))\r\n                            setUsuarioLogado(usuarioLogado)\r\n                            \r\n                        }                          \r\n                        \r\n                        setLoading(false)\r\n                        alertStart(response.mensagem, statusAlert)\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions buscarCardapioOffline ${window.location.hostname} - ${error}`);\r\n                    alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")  \r\n                    setLoading(false)  \r\n                }\r\n            }\r\n        }\r\n\r\n        handleError = err => {\r\n            setQrCodeModal(false) \r\n            setLoading(false)\r\n            alertStart(\"Algo deu errado ao registrar selo  (handleError)\", \"error\")\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <div>\r\n                    <QrReader\r\n                        delay={300}\r\n                        onError={this.handleError}\r\n                        onScan={this.handleScan}\r\n                        style={{ width: '100%' }}\r\n                    />\r\n                    {/*<p>{this.state.result}</p>*/}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    //console.log(QRCode.result)\r\n    \r\n\r\n    return (\r\n        <>\r\n            {loading &&\r\n            (<Backdrop className={classes.backdrop} open={loading}>\r\n            <CircularProgress color=\"inherit\" />\r\n            </Backdrop>)}\r\n\r\n            <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n                <Alert onClose={alertClose} severity={alert.tipo}>\r\n                {alert.mesangem}\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n\r\n            \r\n            {/* <Cabecalho voltar={false} pesquisa={false} produtoNome={usuarioLogado.cliente.nome}></Cabecalho> */ }\r\n            <div className=\"container container-perfil-fidelidade\">\r\n                <Container className=\"containerEstabelecimentoComponente\">\r\n                    <div className=\"EstabelecimentoComponente row\" >\r\n                        <div className=\"divFundo\" style={{ \"background\": aplicativoDados.urlFundoSite ? `url(${aplicativoDados.urlFundoSite})` : `${aplicativoDados.corSitePrimaria}` }}>\r\n                            <Avatar className=\"logoPerfil\" style={{\"textTransform\": \"uppercase\" ,\"background\": aplicativoDados.corSiteSecundaria, \"color\": aplicativoDados.corSitePrimaria, \"fontSize\": \"3em\" }}>{usuarioLogado.cliente.nome[0]}</Avatar>\r\n                        </div>\r\n\r\n                        <Carousel indicators={false} controls={false} className=\"carrossel w-100 fundoInfoEstabelecimento\">\r\n                            <Carousel.Item className=\"container\">\r\n                                <Row className=\"rowUsuarioPerfil\">\r\n                                    <Col xs={4} md={4} lg={2}></Col>\r\n                                    <Col xs={8} md={8} lg={6} className=\"fraseLadoLogo\"><h5>{usuarioLogado.cliente.nome}</h5></Col>                                    \r\n                                </Row>\r\n                            </Carousel.Item>\r\n                        </Carousel>\r\n\r\n                        <div style={{\"width\": \"100%\"}}>\r\n                            <List>\r\n\r\n                                \r\n                                <ListItem button onClick={() => { \r\n                                    history.push(`/fidelidade/cartelas${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n                                    }}>\r\n                                    <ListItemIcon> <FavoriteIcon /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Cartelas de Fidelidade\"} />\r\n                                </ListItem>\r\n\r\n                                <ListItem button onClick={() => { \r\n                                    history.push(`/fidelidade/estabelecimentos`)\r\n                                    }}>\r\n                                    <ListItemIcon> <LocationOnIcon /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Estabelecimentos\"} />\r\n                                </ListItem>\r\n\r\n                                \r\n\r\n                                <ListItem button onClick={() => { setConfiguracoesPerfilModal(true) }}>\r\n                                    <ListItemIcon> <SettingsIcon /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Configuraes\"} />\r\n                                </ListItem>\r\n\r\n                            </List>\r\n                            <Divider/>\r\n                            <List>\r\n\r\n                                <ListItem button onClick={logOut}>\r\n                                    <ListItemIcon> <ExitToAppIcon /> </ListItemIcon>\r\n                                    <ListItemText primary={\"Sair\"} />\r\n                                </ListItem>\r\n\r\n                            </List>\r\n                        </div>\r\n                    </div>\r\n                    <Tooltip title=\"Ler QRcode\" placement=\"bottom\" aria-label=\"Ler QRcode\" onClick={() => { setQrCodeModal(true) }}>\r\n                        <Fab color=\"secondary\" style={{\"color\": aplicativoDados.corSitePrimaria}} className={classes.absolute}>\r\n                        <AiOutlineQrcode />\r\n                        </Fab>\r\n                    </Tooltip>\r\n                </Container>\r\n            </div>\r\n\r\n            <Dialog\r\n              fullScreen={fullScreen}\r\n              open={configuracoesPerfilModal}\r\n              aria-labelledby=\"configPerfil\">\r\n                  \r\n              <form onSubmit={salvarConfiguracoesPerfil}>\r\n\r\n              <DialogTitle id=\"configPerfil\">{\"Configuraes do Perfil\"}</DialogTitle>\r\n\r\n\r\n              <DialogContent>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    onChange={(e) =>{ setUsuarioEdit(e.target.value)}}\r\n                    value={usuarioEdit}\r\n                    id=\"usuarioEdit\"\r\n                    label=\"Nome do Usurio\"\r\n                    name=\"usuarioEdit\"\r\n                    type=\"text\"                    \r\n                />   \r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    onChange={(e) =>{ setCpfEdit(e.target.value)}}\r\n                    value={cpfEdit}\r\n                    id=\"cpfEdit\"\r\n                    label=\"CPF\"\r\n                    name=\"cpfEdit\"\r\n                    type=\"text\"                    \r\n                />   \r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    onChange={(e) =>{ setTelefoneEdit(e.target.value)}}\r\n                    value={telefoneEdit}\r\n                    id=\"telefoneEdit\"\r\n                    label=\"Telefone\"\r\n                    name=\"telefoneEdit\"\r\n                    type=\"number\"                    \r\n                />  \r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    onChange={(e) =>{ setDataNascimentoEdit(e.target.value)}}\r\n                    value={dataNascimentoEdit}\r\n                    id=\"dataNascimentoEdit\"\r\n                    label=\"Data Nascimento\"\r\n                    name=\"dataNascimentoEdit\"\r\n                    type=\"date\"                    \r\n                />  \r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    onChange={(e) =>{ setEmailEdit(e.target.value)}}\r\n                    value={emailEdit}\r\n                    id=\"emailEdit\"\r\n                    label=\"Email\"\r\n                    name=\"emailEdit\"\r\n                    type=\"email\"                    \r\n                />  \r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    onChange={(e) =>{ setSenhaAntigaEdit(e.target.value)}}\r\n                    value={senhaAntigaEdit}\r\n                    required={senhaNovaEdit ? true : false}\r\n                    id=\"senhaAntigaEdit\"\r\n                    label=\"Senha Antiga\"\r\n                    name=\"senhaAntigaEdit\"\r\n                    type=\"password\"                    \r\n                />  \r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    onChange={(e) =>{ setSenhaNovaEdit(e.target.value)}}\r\n                    value={senhaNovaEdit}\r\n                    required={senhaAntigaEdit ? true : false}\r\n                    id=\"senhaNovaEdit\"\r\n                    label=\"Senha Nova\"\r\n                    name=\"senhaNovaEdit\"\r\n                    type=\"password\"                    \r\n                />  \r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    required={senhaNovaEdit ? true : false}\r\n                    onChange={(e) =>{ setSenhaNovaConfirmacaoEdit(e.target.value)}}\r\n                    value={senhaNovaConfirmacaoEdit}\r\n                    id=\"senhaNovaConfirmacaoEdit\"\r\n                    label=\"Senha Nova Confirmao\"\r\n                    name=\"senhaNovaConfirmacaoEdit\"\r\n                    type=\"password\"                    \r\n                /> \r\n              </DialogContent>\r\n\r\n              <DialogActions>                \r\n                <Button onClick={() => {setConfiguracoesPerfilModal(false)}} >\r\n                  Cancelar\r\n                </Button>\r\n                <Button type=\"submit\"\r\n                style={{\"color\": \"#28a745\"}}>\r\n                  Atualizar\r\n                </Button>\r\n              </DialogActions>\r\n              </form>\r\n            </Dialog>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <Dialog\r\n              fullScreen={fullScreen}\r\n              open={qrCodeModal}\r\n              aria-labelledby=\"qrCodeModal\">\r\n\r\n              <DialogTitle id=\"qrCodeModal\">{\"Leitura de QRCode\"}</DialogTitle>\r\n              <DialogContent>\r\n\r\n                <QRCode/>\r\n\r\n              </DialogContent>\r\n              <DialogActions>                \r\n                <Button onClick={() => {setQrCodeModal(false)}} >\r\n                  Cancelar\r\n                </Button>                \r\n              </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* <Rodape valor=\"Perfil\"></Rodape> */}\r\n        </>\r\n    );\r\n}\r\n\r\n","import React from 'react';\r\nimport './styles.css';\r\nimport Cabecalho from '../Global/cabecalho';\r\n\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\n\r\n\r\n/* HISTORICO */\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { useTheme } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\nexport default function Cartelas() {\r\n  const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))\r\n  const cartelas = usuarioLogado.cartelas\r\n\r\n  const classes = useStyles();\r\n\r\n\r\n\r\n  const [openHistorico, setOpenHistorico] = React.useState(false);\r\n  const [openRegulamento, setOpenRegulamento] = React.useState(false);\r\n  \r\n\r\n  const el = document.createElement( 'span' );\r\n\r\n  const [textoRegulamento, setTextoRegulamento] = React.useState(el);\r\n  const [textoHistoricoCartela, setTextoHistoricoCartela] = React.useState(\"vazio\");\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n\r\n\r\n\r\n  const closeHistoricoFuncao = () =>{\r\n    setOpenHistorico(false)\r\n  }\r\n\r\n  const closeRegulamentoFuncao = () =>{\r\n    setOpenRegulamento(false)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Cabecalho nomeUsuarioFidelidade={true} voltarApenasFidelidade={true}></Cabecalho>\r\n      <div className=\"container container-Fidelidade\">\r\n        <Row className=\"rowGlobalFidelidade\">\r\n          <Col xs={12} md={12} lg={12} >\r\n            <Typography gutterBottom variant=\"h5\" >\r\n              Programa de Fidelidade\r\n          </Typography>\r\n          </Col>\r\n\r\n          {cartelas.length\r\n\r\n          // TEM CARTELAS\r\n          ? cartelas.map(cartela => (\r\n\r\n\r\n            /* VERIFICAO */\r\n            (cartela.status === 0)\r\n            \r\n            /* ATIVA */\r\n            ? (<Col xs={12} md={6} lg={4} key={cartela.id}  style={{ \"margin\": \"0.75em 0\", \"textAlign\": \"center\" }} >\r\n              {/* cartela.diasExpiracao */}\r\n              <Card className={classes.root}>\r\n                <CardContent>\r\n                  <img alt={\"cartela de fidelidade\"} src={cartela.promocaoFidelidade.estabelecimento.urlLogo} width={\"150px\"}></img>\r\n                  {/*<Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n                      {cartela.descricaoCartela}\r\n                  </Typography>*/}\r\n                  <Typography variant=\"h5\" component=\"h2\">\r\n                    {cartela.promocaoFidelidade.premio}\r\n                  </Typography>\r\n                  <Typography className={classes.pos} color=\"textSecondary\">\r\n                    Validade: {cartela.dataValidadeTexto}\r\n                  </Typography>\r\n                  \r\n                  <div>      \r\n\r\n                    {/*SELOS PREENCHIDOS*/cartela.selos.length > 0 ? cartela.selos.map(selo =>(\r\n                      <FavoriteIcon key={selo.id}/> \r\n                    )) : null}\r\n\r\n                    {/*SELOS FALTANTES*/function(){\r\n                      let rows = []\r\n                      for(let i =0 ; i <  (cartela.promocaoFidelidade.quantidadeNecessaria - cartela.selos.length); i++){\r\n                        rows.push( <FavoriteBorderIcon key={i}/>)\r\n                      }\r\n                      return rows\r\n                    }()}\r\n                    \r\n                  </div>\r\n                \r\n                </CardContent>\r\n                <CardActions>\r\n                <Button size=\"small\" onClick={() =>{\r\n                  let texto = []\r\n                  cartela.selos.map(selo =>(\r\n                    texto.push(<span key={selo.id}>{selo.dataHoraAtribuicaoTexto}<br></br></span>)\r\n                  ))\r\n                  setTextoHistoricoCartela(texto)\r\n                  setOpenHistorico(true)\r\n                }}>Historico</Button>\r\n\r\n\r\n                <Button size=\"small\" onClick={() =>{\r\n                  const el = document.createElement( 'span' );\r\n                  el.innerHTML = cartela.promocaoFidelidade.regulamento.texto\r\n                  setTextoRegulamento(el)\r\n                  setOpenRegulamento(true) \r\n                 \r\n                }}>Regulamento</Button>\r\n                </CardActions>\r\n              </Card>\r\n            </Col>)\r\n\r\n            /* VENCIDA */\r\n            : (<Col xs={12} md={6} lg={4} key={cartela.id}  style={{ \"margin\": \"0.75em 0\", \"textAlign\": \"center\" }} >\r\n            <Card className={classes.root}>\r\n              <CardContent>\r\n                <img alt={\"cartela de fidelidade\"} src={cartela.promocaoFidelidade.estabelecimento.urlLogo} width={\"150px\"}></img>\r\n                {/*<Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n                    {cartela.descricaoCartela}\r\n                </Typography>*/}\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                  {cartela.promocaoFidelidade.premio}\r\n                </Typography>\r\n                <Typography className={classes.pos} color=\"textSecondary\">\r\n                  Validade: {cartela.dataValidadeTexto}\r\n                </Typography>\r\n                \r\n                <div>      \r\n\r\n                  { cartela.descricaoCartela }\r\n                  \r\n                </div>\r\n              \r\n              </CardContent>\r\n              <CardActions>\r\n                <Button size=\"small\" onClick={() =>{\r\n                  let texto = []\r\n                  cartela.selos.map(selo =>(\r\n                    texto.push(<span key={selo.id}>{selo.dataHoraAtribuicaoCartela}<br></br></span>)\r\n                  ))\r\n                  setTextoHistoricoCartela(texto)\r\n                  setOpenHistorico(true)\r\n                }}>Historico</Button>\r\n\r\n\r\n                <Button size=\"small\" onClick={() =>{\r\n                   const el = document.createElement( 'span' );\r\n                   el.innerHTML = cartela.promocaoFidelidade.regulamento.texto\r\n                   setTextoRegulamento(el)\r\n                   setOpenRegulamento(true)  \r\n                }}>Regulamento</Button>\r\n              </CardActions>\r\n            </Card>\r\n          </Col>)))\r\n        \r\n          //SEM CARTELAS\r\n          : (<Col xs={12} md={12} lg={12} >\r\n            Voc no possui nenhuma cartela de fidelidade!<br></br><br></br>\r\n            Registre um selo <b>Lendo um QRCode</b><br></br>              \r\n          </Col>)\r\n        }\r\n\r\n\r\n        </Row>\r\n\r\n\r\n\r\n\r\n        <Dialog\r\n        fullScreen={fullScreen}\r\n        open={openHistorico}\r\n        onClose={closeHistoricoFuncao}\r\n        aria-labelledby=\"responsive-dialog-title\">\r\n        <DialogTitle id=\"responsive-dialog-title\">{\"Histrico da Cartela\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            {textoHistoricoCartela.length > 0 ? textoHistoricoCartela : \"Sem Historico\"}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={closeHistoricoFuncao} color=\"primary\">\r\n            Fechar\r\n          </Button>\r\n          {/* <Button onClick={historicoClose} color=\"primary\" autoFocus>\r\n            Agree\r\n          </Button> */}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n      <Dialog\r\n        fullScreen={fullScreen}\r\n        open={openRegulamento}\r\n        onClose={closeRegulamentoFuncao}\r\n        aria-labelledby=\"responsive-dialog-regulamento\">\r\n        <DialogTitle id=\"responsive-dialog-regulamento\">{\"Regulamento Programa de Fidelidade\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"textoRegulamento\">\r\n\r\n              { openRegulamento && (setTimeout(() => {\r\n                document.getElementById(\"textoRegulamento\").appendChild(textoRegulamento)\r\n              }, 100))}\r\n\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={closeRegulamentoFuncao} color=\"primary\">\r\n            Fechar\r\n          </Button>          \r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      </div>\r\n    \r\n      {/* \r\n        <Rodape valor=\"Fidelidade\"></Rodape>\r\n      */}\r\n\r\n\r\n\r\n\r\n\r\n      \r\n\r\n    </>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './styles.css';\r\nimport Cabecalho from '../Global/cabecalho';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport * as Sentry from \"@sentry/react\"; \r\n\r\nimport {identificarEstabelecimentoSelecionado, Post_ListarEstabelecimentosPorEndereco, CadastrarEnderecoCliente, ObterCardapio, ObterCardapioCompletoV1, ComumCep } from '../../services/functions';\r\n\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\n\r\nimport AlertFixo from '@material-ui/lab/Alert';\r\n\r\nimport api from '../../services/api';\r\nimport enderecosVazios from '../../assets/endereco-flat.svg';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport {fade, makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nimport BackspaceIcon from '@material-ui/icons/Backspace';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\n\r\n//import Loading from '../loading';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  // root: {\r\n  //   maxWidth: 345,\r\n  // },\r\n  rootAlerts: {\r\n    margin: \"0 0 1em 0\",\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 999,\r\n    color: '#fff', \r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n}));\r\n\r\n\r\nconst verificarSeEntrega = (estabelecimento, lojas) => {\r\n  for(var i = 0; i < lojas.length; i++){\r\n    if(lojas[i].id == estabelecimento.id){\r\n      if(lojas[i].taxaEntrega < 0){\r\n        return false\r\n      }else{\r\n        return true\r\n      }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nconst qtdFiltro = (estabelecimentos, tipo, retirada, endereco, exibirTodasLojas) => {\r\n  if(retirada === true && (tipo != 1 && tipo != 2)){\r\n    tipo = 5\r\n  }\r\n\r\n  if(tipo === 0 && endereco === true && exibirTodasLojas === false ){\r\n    tipo = 7\r\n  }\r\n  \r\n  if(tipo === 0 && exibirTodasLojas === false){\r\n    tipo = 6\r\n  }\r\n\r\n  \r\n  \r\n  \r\n  \r\n  console.log(estabelecimentos, tipo, retirada, endereco, exibirTodasLojas)\r\n\r\n  // 0 = Todos \r\n  // 1 = aberto\r\n  // 2 = fechado\r\n  // 3 = Entregam\r\n  // 4 = nao entrega\r\n  // 5 = retirada\r\n  // 6 = nao exibir todas lojas \r\n  \r\n  let num = 0\r\n\r\n  if(estabelecimentos){\r\n    if(tipo == 0){\r\n      num = estabelecimentos.length\r\n    }else if(tipo == 1 || tipo == 2 || tipo == 6 ){\r\n      const estabelecimentos = document.getElementsByClassName(\"estabelecimento\")\r\n      console.log('estabelecimentosestabelecimentos', estabelecimentos)\r\n      for(let i = 0; i < estabelecimentos.length; i++){\r\n        if(estabelecimentos[i].style.display != \"none\"){\r\n          num++\r\n        }\r\n      }\r\n    }else{\r\n      estabelecimentos.forEach(loja => {  \r\n        if(tipo == 7 && loja.taxaEntrega >= 0){\r\n          num++\r\n        } else  \r\n        if(tipo == 5 && loja.permiteRetiradaBalcao){\r\n          num++\r\n        }else if(tipo == 3 && (loja.taxaEntrega >= 0)){\r\n          num++\r\n        }else if(tipo == 4 && (loja.taxaEntrega == -1)){\r\n          num++\r\n        }\r\n      })\r\n    }\r\n  }\r\n  console.log('qtd', num)\r\n  return num \r\n}\r\n\r\nconst quantoEntregam = (estabelecimentos, todos = true, retirada = false) => {\r\n  console.log(estabelecimentos, todos, retirada)\r\n  let num = 0\r\n  if(estabelecimentos){\r\n    estabelecimentos.forEach(loja => {     \r\n      if(!retirada && todos == true){\r\n        num++\r\n      }else if(!retirada && loja.taxaEntrega >= 0 && todos == false){\r\n        num++\r\n      }else if(loja.permiteRetiradaBalcao && retirada){\r\n        num++\r\n      }\r\n    })\r\n  }\r\n  console.log('quantoEntregam', num)\r\n  return num \r\n}\r\n\r\nfunction removeAcento (text){       \r\n  text = text.toLowerCase();                                                         \r\n  text = text.replace(new RegExp('[]','gi'), 'a');\r\n  text = text.replace(new RegExp('[]','gi'), 'e');\r\n  text = text.replace(new RegExp('[]','gi'), 'i');\r\n  text = text.replace(new RegExp('[]','gi'), 'o');\r\n  text = text.replace(new RegExp('[]','gi'), 'u');\r\n  text = text.replace(new RegExp('[]','gi'), 'c');\r\n  return text;                 \r\n}\r\n\r\nconst procurarEstabelecimento = (e) => {\r\n  const valorPesqusa = removeAcento(e.target.value.toLocaleLowerCase())\r\n  const estabelecimentos = document.getElementsByClassName(\"estabelecimento\")\r\n\r\n  for(let j = 0; j < estabelecimentos.length; j++){\r\n    const nome = removeAcento(estabelecimentos[j].getElementsByClassName(\"nomeLoja\")[0].innerHTML.toLocaleLowerCase()).includes(valorPesqusa)\r\n    const descricao = removeAcento(estabelecimentos[j].getElementsByClassName(\"descricaoLoja\")[0].innerHTML.toLocaleLowerCase()).includes(valorPesqusa) \r\n    if(nome || descricao){\r\n      estabelecimentos[j].style.display = \"\"\r\n    }else{\r\n      estabelecimentos[j].style.display = \"none\"\r\n    }\r\n  }\r\n}\r\n\r\nconst possuiOpcao = (array, string) => {\r\n  for(var i = 0; i < array.length; i++){\r\n    if(array[i] === string){\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\n\r\nexport default function Estabelecimentos() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const theme = useTheme();\r\n  \r\n  \r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n  const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))  \r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n  const SkeletonQtd = [0,1,2,3,4,5]\r\n  const [verTodasAsLojas, setVerTodasAsLojas] = useState(false);\r\n  const [temAlgum, setTemAlgum] = useState(true);\r\n  const [enderecoAtual, setEnderecoAtual] = useState(JSON.parse(localStorage.getItem(\"enderecoAtualCF\")));\r\n\r\n  let estabelecimentosCepDeslogadoCF = []\r\n  try {\r\n    estabelecimentosCepDeslogadoCF = JSON.parse(localStorage.getItem('estabelecimentosCepDeslogadoCF'))\r\n  } catch (error) {\r\n    \r\n  }\r\n  // const [estabelecimentos, setEstabelecimentos] = useState(enderecoAtual?.bairro ? ( (usuarioLogado?.logado || (!localStorage.getItem('estabelecimentosCepDeslogadoCF') || localStorage.getItem('estabelecimentosCepDeslogadoCF') == \"undefined\"))  ? aplicativoDados.estabelecimentos : JSON.parse(localStorage.getItem('estabelecimentosCepDeslogadoCF'))) : (aplicativoDados.estabelecimentos.length > 0 ? aplicativoDados.estabelecimentos : []));\r\n  const [estabelecimentos, setEstabelecimentos] = useState(\r\n    (enderecoAtual?.bairro && estabelecimentosCepDeslogadoCF?.length === 0)\r\n    ? estabelecimentosCepDeslogadoCF\r\n    : (aplicativoDados?.estabelecimentos?.length > 0 \r\n        ? aplicativoDados.estabelecimentos \r\n        : [])\r\n  );\r\n  \r\n  const [abrirAdicionarEndereco, setAbrirAdicionarEndereco] = useState(false);\r\n  const [estabelecimentoDesejado, setEstabelecimentoDesejado] = useState({});\r\n\r\n  const [confirmarDesejo, setConfirmarDesejo] = useState(false);\r\n  const [bairrosCepUnico, setBairrosCepUnico] = React.useState([]);\r\n  const [bairroCepUnicoSelecionado, setBairroCepUnicoSelecionado] = React.useState('');\r\n  const [retirarNoLocal, setRetirarNoLocal] = React.useState(enderecoAtual?.id == \"retirada\" ? true : false);\r\n  const [cep, setCep] = React.useState('');\r\n  const [uf, setUf] = React.useState('');\r\n  const [cidade, setCidade] = React.useState('');\r\n  const [bairro, setBairro] = React.useState('');\r\n  const [rua, setRua] = React.useState('');\r\n  const [numero, setNumero] = React.useState('');\r\n  const [complemento, setComplemento] = React.useState('');\r\n  const [referencia, setReferencia] = React.useState('');\r\n  const [popUpCep, setPopUpCep] = React.useState(false);\r\n  const [filtroSelect, setFiltroSelect] = React.useState(0);\r\n  const [quantosEntregam, setQuantosEntregam] = React.useState(0);\r\n\r\n  useEffect(() => {\r\n    setQuantosEntregam(qtdFiltro(estabelecimentos, filtroSelect, !!retirarNoLocal, !!enderecoAtual?.logradouro, (aplicativoDados?.exibirTodasUnidadesNoDelivery || verTodasAsLojas) ? true : false));\r\n  }, [retirarNoLocal, estabelecimentos, filtroSelect, enderecoAtual, verTodasAsLojas])\r\n\r\n  useEffect(() => {\r\n\r\n    if(aplicativoDados.pixelFacebook){\r\n          ReactPixel.track('Search')\r\n    }\r\n\r\n    if(retirarNoLocal){\r\n      filtroTipoRetirada(true)\r\n    }else if(enderecoAtual?.bairro){\r\n      listarEstabelecimentosPorEndereco(enderecoAtual)\r\n    }\r\n    \r\n\r\n    // const interval = setInterval(() => {\r\n    //     //console.log(\"procurando atualizaes \")\r\n    //     if(!aplicativoDados.clienteFielStart){\r\n    //       verificarAberto()\r\n    //       buscarUltimoPedido()  \r\n    //     }\r\n    //     // if(new Date() - new Date(localStorage.getItem('dateCardapioCF')) > 300000){\r\n    //     //   verificarCardapio(estabelecimentoAtual)\r\n    //     // }\r\n    // }, 10000);\r\n    // return () => clearInterval(interval);\r\n  }, []);\r\n\r\n\r\n  const allBanners = () => {\r\n    var array = []\r\n    for(let i = 0; i < aplicativoDados?.estabelecimentos?.length; i++){\r\n        if(aplicativoDados.estabelecimentos[i].banners){\r\n          for(let j = 0; j < aplicativoDados.estabelecimentos[i].banners.length; j++){\r\n            array.push({\"url\": aplicativoDados.estabelecimentos[i].banners[j], \"id\": aplicativoDados.estabelecimentos[i].id})\r\n          }\r\n        }\r\n    }\r\n    return array;\r\n  }\r\n\r\n\r\n  const [todosBanners, setTodosBanners] = React.useState(allBanners());\r\n  // console.log('todosBanners', todosBanners)\r\n  \r\n  const [loading, setLoading] = React.useState(false);\r\n  const [loadingLogadoEnderecos, setLoadingLogadoEnderecos] = React.useState((enderecoAtual?.bairro) ? true : false);\r\n\r\n \r\n  \r\n  //console.log(\"aplicativoDados\", aplicativoDados)\r\n  //console.log(\"estabelecimentos\", estabelecimentos)\r\n  const limparEnderecos = () =>{\r\n    setCep('')\r\n    setUf('')\r\n    setCidade('')\r\n    setBairro('')\r\n    setRua('')\r\n    setNumero('')\r\n    setComplemento('')\r\n    setReferencia('')\r\n    setBairrosCepUnico('')\r\n    setBairroCepUnicoSelecionado('')\r\n  }\r\n\r\n\r\n  const verificarCep = async (e) =>{\r\n    try {\r\n      let valorInput = e.target.value\r\n      valorInput = valorInput.replace(/-/g, '')\r\n      valorInput = valorInput.replace(/ /g, '')\r\n      valorInput = valorInput.replace(/\\//g, '')\r\n      // valorInput = valorInput.substring(0,8)\r\n      console.log(\"valorInput\", valorInput)\r\n      if(valorInput.length == 8 ){\r\n        setCep(valorInput)\r\n        setLoading(true)\r\n        //buscar dados do cep\r\n        const retornoCep = await ComumCep(valorInput, aplicativoDados)\r\n        \r\n        console.log(\"retornoCep\", retornoCep)\r\n        if(retornoCep.retornoErro){\r\n          alertStart(retornoCep.mensagem, \"error\")\r\n        }else{\r\n          if(retornoCep.id || retornoCep.logradouro){\r\n            setBairrosCepUnico('')\r\n            setBairro(retornoCep.bairro)\r\n            setCidade(retornoCep.localidade)\r\n            setRua(retornoCep.logradouro)\r\n            setUf(retornoCep.uf)\r\n            setPopUpCep(false)\r\n            setAbrirAdicionarEndereco(true)\r\n          }else if(retornoCep.bairros.length >= 1){     \r\n            setBairrosCepUnico(retornoCep.bairros)\r\n            setPopUpCep(false)\r\n            setAbrirAdicionarEndereco(true)\r\n          }else{\r\n            //DEU ERRO, OU NAO EXISTE\r\n            alertStart(\"CEP no encontrado\", \"error\")   \r\n            // setAbrirAdicionarEndereco(false)\r\n            limparEnderecos()\r\n\r\n            if(popUpCep){\r\n              document.getElementById(\"cepDigitando2\").value = ''\r\n              document.getElementById(\"cepDigitando2\").focus()\r\n            }else{\r\n              document.getElementById(\"cepDigitando\").value = ''\r\n              document.getElementById(\"cepDigitando\").focus()\r\n            }\r\n            \r\n          }\r\n        }\r\n\r\n        setLoading(false)\r\n      } \r\n    } catch (error) {\r\n      Sentry.captureMessage(`NotFunctions verificarCep - ${aplicativoDados.appNome} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  const buscarCardapioId = (id) => {\r\n    aplicativoDados.estabelecimentos.forEach(estabelecimento => {\r\n      if(estabelecimento.id == id){\r\n        buscarCardapio(estabelecimento)\r\n        return true\r\n      }\r\n    });\r\n  }\r\n\r\n  const buscarCardapioDelivery = async (estabelecimento) => {\r\n\r\n    const enderecoAtual = JSON.parse(localStorage.getItem('enderecoAtualCF'))\r\n    if(estabelecimento.possuiDelivery == false && estabelecimento.possuiEntrega == false){\r\n      alertStart(\"Esse estabelecimento no faz delivery!\", \"warning\")\r\n    }else if( estabelecimento.taxaEntrega < 0){\r\n      setEstabelecimentoDesejado(estabelecimento)\r\n      setConfirmarDesejo(true)\r\n      // alertStart(\"Esse estabelecimento no entrega no seu endereo!\", \"warning\")\r\n    }else if(estabelecimento.online == false){\r\n      setEstabelecimentoDesejado(estabelecimento)\r\n      setConfirmarDesejo(true)\r\n      // alertStart(\"Esse estabelecimento no esta aberto no momento!\", \"warning\")\r\n    }else if(!enderecoAtual?.logradouro){\r\n      // alertStart(\"Cadastre seu endereo!\", \"warning\")\r\n      setEstabelecimentoDesejado(estabelecimento)\r\n      setAbrirAdicionarEndereco(true)\r\n      setPopUpCep(true)\r\n    }else if(enderecoAtual?.logradouro){\r\n      buscarCardapio(estabelecimento)\r\n    }\r\n  }\r\n\r\n  const buscarCardapioRetirada = (estabelecimento) => {\r\n    if(estabelecimento.online == false){\r\n      setEstabelecimentoDesejado(estabelecimento)\r\n      setConfirmarDesejo(true)\r\n      // alertStart(\"Esse estabelecimento no esta aberto no momento!\", \"warning\")\r\n    }else{\r\n      setEnderecoAtual({\"id\":\"retirada\"})\r\n      localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({\"id\":\"retirada\"}))\r\n      buscarCardapio(estabelecimento)\r\n    }\r\n  }\r\n  \r\n  const buscarCardapio = async (estabelecimento) => {  \r\n    try {\r\n      localStorage.removeItem('estabelecimentosCepDeslogadoCF')  \r\n      console.log('buscar cardapio> ', estabelecimento)\r\n      estabelecimento.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`       \r\n\r\n      setLoading(true)\r\n      localStorage.setItem('estabelecimentoAtualCF', JSON.stringify(estabelecimento));\r\n\r\n      \r\n\r\n      if(usuarioLogado?.logado){\r\n        const enderecoAtual = JSON.parse(localStorage.getItem('enderecoAtualCF'))\r\n        let data = {\r\n          \"idCliente\": usuarioLogado.cliente.id,\r\n          \"idEstabelecimento\": estabelecimento.id,\r\n          \"idEndereco\": enderecoAtual.id ? (enderecoAtual.id != 'retirada' ? enderecoAtual.id : null) : null,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        } \r\n\r\n        const response = await ObterCardapioCompletoV1(data, aplicativoDados)\r\n        \r\n        console.log(\"ObterCardapioCompletoV1\", response)\r\n        if(response.retornoErro){\r\n          alertStart(response.mensagem, \"error\")\r\n          setLoading(false)\r\n        }else{\r\n          const retorno = response\r\n          console.log(\"ObterCardapioCompletoV1\", retorno)  \r\n\r\n\r\n          const carrinhoRetorno = {}\r\n          carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n          carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n          carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n          carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n          carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n          carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n          carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n    \r\n          carrinhoRetorno.pedido = {\r\n            \"entregaImediata\": false,\r\n            \"formaPagamento\": {},\r\n            \"itens\": [],\r\n            \"taxaEntrega\": null,\r\n            \"tokenCartaoCredito\": null,\r\n            \"troco\": null,\r\n            \"valorDesconto\": null,\r\n            \"valorEntrega\": null,\r\n            \"valorTotal\": 0,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          }\r\n\r\n          if(enderecoAtual?.id === \"retirada\"){\r\n            carrinhoRetorno.pedido.tipoPedido = 1\r\n            carrinhoRetorno.pedido.entregaAgendada = \"Retirar(Buscar) no local\"\r\n          }\r\n    \r\n          localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno)) \r\n\r\n          \r\n          localStorage.setItem(\"cardapioCF\", JSON.stringify(retorno))   \r\n\r\n          if(!localStorage.getItem(\"enderecoAtualCF\")){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({})) \r\n          }else if(enderecoAtual?.id == \"retirada\"){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({\r\n              id: \"retirada\"\r\n            })) \r\n          }else if(retorno.enderecos != null && retorno.enderecos?.length > 0 && enderecoAtual?.id != \"retirada\"){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(retorno.enderecos[0]))  \r\n          }\r\n    \r\n          history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n        }\r\n\r\n      }else{\r\n\r\n        const response = await ObterCardapio(estabelecimento, aplicativoDados)\r\n        \r\n        console.log(\"ObterCardapio\", response)\r\n        if(response.retornoErro){\r\n          alertStart(response.mensagem, \"error\")\r\n          setLoading(false)\r\n        }else{\r\n          const retorno = response\r\n          const carrinhoRetorno = {}\r\n          carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n          carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n          carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n          carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n          carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n          carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n          carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n    \r\n          carrinhoRetorno.pedido = {\r\n            \"entregaImediata\": false,\r\n            \"formaPagamento\": {},\r\n            \"itens\": [],\r\n            \"taxaEntrega\": null,\r\n            \"tokenCartaoCredito\": null,\r\n            \"troco\": null,\r\n            \"valorDesconto\": null,\r\n            \"valorEntrega\": null,\r\n            \"valorTotal\": 0,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          }\r\n    \r\n          localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno)) \r\n\r\n\r\n          const dataRetorno = {}\r\n          dataRetorno.categorias = retorno\r\n          dataRetorno.id = \"usuarioDeslogado\"\r\n          \r\n          localStorage.setItem(\"cardapioCF\", JSON.stringify(dataRetorno))   \r\n\r\n          if(!localStorage.getItem(\"enderecoAtualCF\")){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({})) \r\n          }else if(retorno.enderecos != null && retorno.enderecos?.length > 0 && enderecoAtual?.id != \"retirada\"){\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(retorno.enderecos[0]))  \r\n          }\r\n\r\n          localStorage.setItem(\"usuarioCF\", JSON.stringify({}))    \r\n    \r\n          history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      Sentry.captureMessage(`NotFunctions buscarCardapio - ${aplicativoDados.appNome} - ${error}`);\r\n      alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  \r\n    //alerts    \r\n    const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n    \r\n    function Alert(props) {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n    }\r\n    \r\n    const alertStart = (msg, tipo) => {\r\n        setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n    };\r\n\r\n    const alertClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n    };\r\n\r\n    const filtroTipo = (e) =>{\r\n      e.preventDefault()\r\n      setFiltroSelect(e.target.value)\r\n      const numero = e.target.value\r\n\r\n      // 0 = Todos \r\n      // 1 = Abertos\r\n      // 2 = Fechados\r\n\r\n      const estabelecimentos = document.getElementsByClassName(\"estabelecimento\")\r\n      var valorPesqusa = \"\"\r\n      switch (numero) {\r\n        case 0:\r\n          valorPesqusa = \"\"\r\n          break;\r\n        case 1:\r\n          valorPesqusa = \"aberto-Estabelecimentos\"\r\n          break;\r\n        case 2:\r\n          valorPesqusa = \"fechado-Estabelecimentos\"\r\n          break;\r\n      \r\n      }\r\n      var qtd = 0\r\n      //console.log('valor', valorPesqusa)\r\n      //console.log('estabelecimentos', estabelecimentos)\r\n      for(let j = 0; j < estabelecimentos.length; j++){\r\n        const filtro = (estabelecimentos[j].classList.value).includes(valorPesqusa)\r\n        if(filtro){\r\n          estabelecimentos[j].style.display = \"\"\r\n          qtd++\r\n        }else{\r\n          estabelecimentos[j].style.display = \"none\"\r\n        }\r\n      }\r\n\r\n      if(qtd > 0){\r\n        setTemAlgum(true)\r\n      }else{\r\n        setTemAlgum(false)\r\n      }\r\n    }\r\n\r\n\r\n    const filtroTipoRetirada = async (retiradaSim) => {\r\n      console.log('filtroTipoRetirada', retirarNoLocal, retiradaSim)\r\n      document.getElementById(\"cepDigitando\").value = \"\"\r\n      var retirada = true\r\n      if(!retiradaSim){\r\n        retirada = !retirarNoLocal\r\n        setRetirarNoLocal(retirada)\r\n        setVerTodasAsLojas(false)\r\n      }\r\n      if(retirada){\r\n        setEnderecoAtual({\"id\":\"retirada\"})\r\n        localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({\"id\":\"retirada\"}))\r\n        setEstabelecimentos(aplicativoDados.estabelecimentos)\r\n      }else{\r\n        setEnderecoAtual({})\r\n        localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({}))\r\n      }\r\n\r\n      const estabelecimentos = document.getElementsByClassName(\"naoPermiteRetirada\")\r\n      for(let j = 0; j < estabelecimentos.length; j++){\r\n        if(retirada == true){\r\n          estabelecimentos[j].style.display = \"none\"\r\n        }else{\r\n          estabelecimentos[j].style.display = \"\"\r\n        }\r\n      }\r\n      var qtd = document.getElementsByClassName(\"permiteRetirada\").length;\r\n      if(qtd > 0){\r\n        setTemAlgum(true)\r\n      }else{\r\n        setTemAlgum(false)\r\n      }\r\n      // setQtdDisponivel(qtd)\r\n    }\r\n    \r\n    const filtroTipoEndereco = (e) =>{\r\n      e.preventDefault()\r\n      setFiltroSelect(e.target.value)\r\n      const numero = e.target.value\r\n\r\n      // 0 = Todos \r\n      // 1 = aberto\r\n      // 2 = fechado\r\n      // 3 = Entregam\r\n      // 4 = nao entrega\r\n\r\n      const estabelecimentos = document.getElementsByClassName(\"estabelecimento\")\r\n      var valorPesqusa = \"\"\r\n      switch (numero) {\r\n        case 0:\r\n          valorPesqusa = \"\"\r\n          break;\r\n        case 3:\r\n          valorPesqusa = \"entregaEndereco-Estabelecimentos\"\r\n          break;\r\n        case 4:\r\n          valorPesqusa = \"naoEntregaEndereco-Estabelecimentos\"\r\n          break;\r\n        case 1:\r\n          valorPesqusa = \"aberto-Estabelecimentos\"\r\n          break;\r\n        case 2:\r\n          valorPesqusa = \"fechado-Estabelecimentos\"\r\n          break;\r\n      \r\n      }\r\n\r\n      var qtd = 0\r\n      //console.log('valor', valorPesqusa)\r\n      //console.log('estabelecimentos', estabelecimentos)\r\n      for(let j = 0; j < estabelecimentos.length; j++){\r\n        const filtro = (estabelecimentos[j].classList.value).includes(valorPesqusa)\r\n        if(filtro){\r\n          estabelecimentos[j].style.display = \"\"\r\n          qtd++\r\n        }else{\r\n          estabelecimentos[j].style.display = \"none\"\r\n        }\r\n      }\r\n\r\n      if(qtd > 0){\r\n        setTemAlgum(true)\r\n      }else{\r\n        setTemAlgum(false)\r\n      }\r\n\r\n    } \r\n    \r\n    const cadastrarEnderecoNoUsuario = async (data) => {\r\n      try {\r\n\r\n        data.idCliente = usuarioLogado.cliente.id\r\n\r\n        \r\n        if(aplicativoDados.tipoEntregaBairro == 1){\r\n          data.bairroEspecifico = 1\r\n        }else{\r\n          data.bairroEspecifico = 0\r\n        }\r\n\r\n        const retorno = await CadastrarEnderecoCliente(data, aplicativoDados)\r\n      \r\n        console.log(\"CadastrarEnderecoCliente\", retorno)\r\n        if(retorno.retornoErro){\r\n          alertStart(retorno.mensagem, \"error\")\r\n          listarEstabelecimentosPorEndereco(data)\r\n          setLoading(false)\r\n        }else{\r\n          usuarioLogado.cliente.enderecos.push(retorno)\r\n          localStorage.setItem('usuarioCF', JSON.stringify(usuarioLogado))\r\n          localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(retorno))\r\n          setEnderecoAtual(retorno)\r\n          listarEstabelecimentosPorEndereco(retorno)//data com id\r\n        }\r\n\r\n      } catch (error) {\r\n        Sentry.captureMessage(`NotFunctions cadastrarEnderecoNoUsuario - ${aplicativoDados.appNome} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores!. Erro: \"+error.message, \"error\")    \r\n      }\r\n    }\r\n\r\n  \r\n\r\n    const listarEstabelecimentosPorEndereco = async (data ) => {\r\n      try {\r\n        data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`  \r\n        data.appNome = aplicativoDados.appNome\r\n\r\n        const retorno = await Post_ListarEstabelecimentosPorEndereco(data, aplicativoDados)\r\n      \r\n        if(retorno.retornoErro){\r\n          alertStart(retorno.mensagem, \"error\") \r\n          setLoading(false)\r\n        }else{\r\n          localStorage.setItem('estabelecimentosCepDeslogadoCF', JSON.stringify(retorno))\r\n          setEstabelecimentos(retorno)\r\n          setEnderecoAtual(data)\r\n          \r\n          if(estabelecimentoDesejado?.id && !verificarSeEntrega(estabelecimentoDesejado, retorno)){\r\n            setConfirmarDesejo(true)\r\n            setLoading(false)\r\n          }else if(estabelecimentoDesejado?.id){\r\n            buscarCardapio(estabelecimentoDesejado)\r\n            setEstabelecimentoDesejado({})\r\n          }else{\r\n            setLoading(false)\r\n          }\r\n          if(retorno.mensagem){\r\n            alertStart(retorno.mensagem, \"success\")\r\n            setLoading(false)\r\n          } \r\n        }\r\n        \r\n        \r\n        setAbrirAdicionarEndereco(false)\r\n\r\n        if(!!document.getElementById(\"cepDigitando\")){\r\n          document.getElementById(\"cepDigitando\").value = ''\r\n          document.getElementById(\"cepDigitando\").blur()\r\n        }\r\n        \r\n\r\n      } catch (error) {\r\n        Sentry.captureMessage(`NotFunctions ListarEstabelecimentosPorEndereco - ${aplicativoDados.appNome} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores!. Erro: \"+error.message, \"error\")    \r\n      }\r\n\r\n      setLoadingLogadoEnderecos(false)\r\n    }\r\n    const buscarLojasQueEntregam = async () =>{\r\n      if(bairrosCepUnico.length && !bairro){\r\n        alertStart(\"Necessario a escolha do bairro!\", \"warning\")     \r\n        return false\r\n      }else if(!uf){\r\n        alertStart(\"Necessario o preenchimento da sigla do estado!\", \"warning\")     \r\n        document.getElementById(\"cadastroUf\").focus()\r\n        return false\r\n      }else if(!cidade){\r\n        alertStart(\"Necessario o preenchimento da cidade!\", \"warning\")     \r\n        document.getElementById(\"cadastroCidade\").focus()\r\n        return false\r\n      }else if(!bairro){\r\n        alertStart(\"Necessario o preenchimento do bairro!\", \"warning\")     \r\n        document.getElementById(\"cadastroBairro\").focus()\r\n        return false\r\n      }else if(!rua){\r\n        alertStart(\"Necessario o preenchimento da rua!\", \"warning\")     \r\n        document.getElementById(\"cadastroRua\").focus()\r\n        return false\r\n      }else if(!numero){\r\n        alertStart(\"Necessario o preenchimento do numero!\", \"warning\")     \r\n        document.getElementById(\"cadastroNumero\").focus()\r\n        return false\r\n      }else if(!complemento){\r\n        alertStart(\"Necessario o preenchimento do complemento!\", \"warning\")     \r\n        document.getElementById(\"cadastroComplemento\").focus()\r\n        return false\r\n      }\r\n      setVerTodasAsLojas(false)\r\n      setAbrirAdicionarEndereco(false)\r\n      setLoading(true)\r\n        try {\r\n          const data = {\r\n            //\"idCliente\": usuarioLogado.cliente.id,\r\n            //\"idEstabelecimento\": estabelecimentoAtual.id,\r\n            \"cep\": cep,\r\n            \"uf\": uf,\r\n            \"cidade\": cidade,\r\n            \"bairro\": bairro,\r\n            \"logradouro\": rua,\r\n            \"numero\": numero,\r\n            \"complemento\": complemento,\r\n            \"referencia\": referencia,\r\n            \"appNome\": aplicativoDados.appNome,\r\n            \"latitude\": 0,\r\n            \"longitude\": 0,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          } \r\n\r\n          if(aplicativoDados.tipoEntregaBairro == 1){\r\n            localStorage.removeItem('bairroEspecifico')\r\n            data.bairroEspecifico = 1\r\n          }else{\r\n            data.bairroEspecifico = 0\r\n          }\r\n\r\n          if(usuarioLogado?.logado){\r\n            await cadastrarEnderecoNoUsuario(data)\r\n          }else{\r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(data))\r\n            //console.log(\"data\", data)\r\n            listarEstabelecimentosPorEndereco(data)\r\n          }\r\n\r\n          \r\n          \r\n        } catch (error) {\r\n          Sentry.captureMessage(`ListarEstabelecimentosPorEndereco - ${aplicativoDados.appNome} - ${error}`);\r\n          alertStart(\"Procure os desenvolvedores \"+error.message, \"error\")    \r\n          setLoading(false)\r\n          setAbrirAdicionarEndereco(false)\r\n        }\r\n\r\n        limparEnderecos()\r\n\r\n    }\r\n  return (\r\n    <>\r\n    <Cabecalho nomeUsuarioFidelidade={true} voltarApenasFidelidade={true}></Cabecalho>\r\n    <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n        <Alert onClose={alertClose} severity={alert.tipo}>\r\n        {alert.mesangem}\r\n        </Alert>\r\n    </Snackbar>\r\n\r\n      \r\n\r\n      \r\n\r\n\r\n      <div className=\"container container-Estabelecimentos-deslogado\">\r\n        {\r\n          todosBanners.length > 0\r\n          ? <Row>\r\n              <AppBar position=\"static\" color=\"default\" id=\"todosBanners\" style={{\"margin\":\"1em 0\",\"backgroundColor\": \"#f8f8f8\", \"zIndex\":\"1\", \"box-shadow\":\"none\"}}>\r\n                <Tabs\r\n                  // value={0}\r\n                  // onChange={mudarCategoria}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  variant=\"scrollable\"\r\n                  scrollButtons=\"auto\"\r\n                >\r\n                    {\r\n                      (todosBanners.map((banner, index) => (\r\n                        <img className={\"bannerLojas\"} style={{\"cursor\":\"pointer\"}} src={banner.url} key={index}/>    \r\n                      )))\r\n                    }\r\n                </Tabs>\r\n            </AppBar>\r\n            </Row>\r\n          : null\r\n        }\r\n\r\n        <Row>\r\n          {\r\n            (!todosBanners.length && aplicativoDados)\r\n            ? <Col xs={12} md={12} lg={12} className=\"bannerAppLogo\" style={{\"marginBottom\": \"1em\", \"backgroundImage\": `url(\"${aplicativoDados?.urlFundoSite}\")`}}>\r\n                {/* <img src={aplicativoDados.urlLogo}/> */}\r\n                <img src={aplicativoDados?.urlLogo} className={\"logoNoBanner\"}/>\r\n              </Col>\r\n            : null\r\n          }\r\n        </Row>\r\n        \r\n          <Row>\r\n            \r\n         \r\n          \r\n          {/* <Col xs={12} md={12} lg={12} >\r\n            <Typography gutterBottom variant=\"h6\" >\r\n              Selecione o estabelecimento\r\n            </Typography>\r\n          </Col> */}\r\n          \r\n          \r\n\r\n         \r\n        {\r\n          ( loadingLogadoEnderecos == false && (verTodasAsLojas || aplicativoDados?.exibirTodasUnidadesNoDelivery || enderecoAtual?.bairro || retirarNoLocal)) \r\n          ? <React.Fragment>\r\n              {enderecoAtual?.bairro\r\n                ?  <Col xs={12} md={12} lg={6} style={{ \"alignSelf\": \"center\"}}> \r\n                      <Typography gutterBottom variant=\"h6\" >\r\n                        {quantosEntregam == 0 \r\n                        ? null //' Nenhum entrega no seu endereo' \r\n                        : quantosEntregam == 1\r\n                          ? quantosEntregam + ' Estabelecimento'\r\n                          : quantosEntregam + ' Estabelecimentos'}\r\n                      </Typography> \r\n                  </Col>\r\n                :  <Col xs={12} md={12} lg={(enderecoAtual?.logradouro  || retirarNoLocal) ? 6 : 12} >   \r\n                    <Typography gutterBottom variant=\"h6\" style={{ \"alignSelf\": \"center\"}}>\r\n                      {quantosEntregam} {quantosEntregam > 1 ? \"Estabelecimentos encontradas\" : \"Estabelecimento encontrada\"} \r\n                    </Typography> \r\n                  </Col>}\r\n\r\n\r\n                  \r\n                  <React.Fragment>\r\n                        <Col xs={6} md={8} lg={8} style={{\"marginTop\": \"1em\"}}>\r\n                          <TextField\r\n                            fullWidth\r\n                            label=\"Procurar...\"\r\n                            onChange={procurarEstabelecimento}\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </Col>\r\n                        <Col xs={6} md={4} lg={4} style={{\"marginTop\": \"1em\" /* , \"textAlign\": \"right\" */}}>\r\n                          <FormControl variant=\"outlined\" style={{\"width\": \"100%\"}}>\r\n                            <InputLabel id=\"demo-simple-select-outlined-label\">Filtro</InputLabel>\r\n                            <Select\r\n                              labelId=\"demo-simple-select-outlined-label\"\r\n                              id=\"demo-simple-select-outlined\"\r\n                              value={filtroSelect}\r\n                              onChange={filtroTipo}\r\n                              label=\"Filtro\"\r\n                            > \r\n                              <MenuItem key={0} value={0}>{\"Todos\"}</MenuItem>\r\n                              <MenuItem key={1} value={1}>{\"Abertos\"}</MenuItem>\r\n                              <MenuItem key={2} value={2}>{\"Fechados\"}</MenuItem>\r\n                            </Select>\r\n                          </FormControl>\r\n                        </Col>\r\n                      </React.Fragment>\r\n                  \r\n          {/* <Skeleton variant=\"circle\" width={40} height={40} /> */}\r\n\r\n          \r\n          \r\n                {\r\n                  estabelecimentos.map( (estabelecimento, index) => (\r\n                    <React.Fragment key={index}>\r\n                      {\r\n                        ( verTodasAsLojas || (aplicativoDados?.exibirTodasUnidadesNoDelivery && !retirarNoLocal) || ((enderecoAtual?.bairro && (estabelecimento.taxaEntrega >= 0 ) || (!enderecoAtual?.bairro && retirarNoLocal && ( /*estabelecimento.possuiDelivery || estabelecimento.possuiEntrega || */ estabelecimento.permiteRetiradaBalcao)))))\r\n                        ? <Col xs={12} md={6} lg={4} key={index} style={{\"margin\": \"1em 0\"}}  className={\"estabelecimento \" \r\n                              + (estabelecimento.online ? \"aberto-Estabelecimentos\" : \"fechado-Estabelecimentos \") \r\n                              + (estabelecimento.permiteRetiradaBalcao ? \" permiteRetirada \" : \" naoPermiteRetirada \") \r\n                              + \" estabelecimento-Estabelecimentos\" \r\n                              + (enderecoAtual?.bairro && ((estabelecimento.taxaEntrega >= 0 && estabelecimento.taxaEntrega != null) ? \" entregaEndereco-Estabelecimentos\" : \" naoEntregaEndereco-Estabelecimentos\"))}>\r\n                              \r\n                              <Card className={classes.root} style={{\"height\": \"100%\"}}>\r\n                                <CardActionArea  style={{ \"height\": \"100%\", \"flexFlow\": \"column-reverse\", \"alignItems\": \"normal\"}} onClick={() =>{\r\n                                }}>\r\n                                  {/* <CardContent style={{\"position\":\"absolute\", \"top\": \"0\"}} className={estabelecimento.online &&  estabelecimento.taxaEntrega>=0 ? \"disponivel\" : \"indisponivel\"}>\r\n                                    <Typography className={\"StatusEstabelecimento\"} variant=\"body2\"  component=\"p\">\r\n                                      {estabelecimento.online ? \"Aberto\" : \"Fechado\"}\r\n                                      {(enderecoAtual?.bairro) && (estabelecimento.taxaEntrega >= 0 && estabelecimento.taxaEntrega != null ? \" - Entrega\" : \" - No Entrega\")}\r\n                                    </Typography>\r\n                                  </CardContent> */}\r\n                                  <Row style={{\"textAlign\": \"center\", \"width\": \"100%\", \"padding\": \"1em\", \"alignItems\": \"center\"}}>\r\n                                    <Col xs={5} md={6} lg={6}>\r\n                                      <CardMedia\r\n                                        component=\"img\"\r\n                                        className={\"logoLojas\"}\r\n                                        alt={estabelecimento.nome}\r\n                                        image={estabelecimento.urlLogo}\r\n                                        title={estabelecimento.nome}\r\n                                      />\r\n                                    </Col>\r\n                                    <Col xs={7} md={6} lg={6}>\r\n                                      <Typography className={\"StatusEstabelecimento\"} variant=\"body2\"  component=\"p\">\r\n                                        {estabelecimento.online ? <><CheckCircleIcon style={{\"fontSize\": \"initial\", \"color\":\"#28a745\"}}/> Aberto</> : <><CancelIcon style={{\"fontSize\": \"initial\"}}/> Fechado</>}\r\n                                        {/* {(enderecoAtual?.bairro) && (estabelecimento.taxaEntrega >= 0 && estabelecimento.taxaEntrega != null ? \" - Entrega\" : \" - No Entrega\")} */}\r\n                                      </Typography>\r\n                                      \r\n                                      <Typography gutterBottom  component=\"h2\" className={\"nomeLoja\"}>                    \r\n                                        {estabelecimento.nomeAlternativo ? estabelecimento.nomeAlternativo : estabelecimento.nome}\r\n                                      </Typography>\r\n                                      <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={\"descricaoLoja\"}>\r\n                                        {estabelecimento.endereco}\r\n                                      </Typography>\r\n                                      <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                                        {estabelecimento.tempoEntregaTexto}\r\n                                      </Typography>\r\n                                    </Col>\r\n                                  \r\n                                  </Row>\r\n                                  \r\n                                  <CardContent style={{\"padding\": \"0 16px\"}}>\r\n                                 \r\n                                  </CardContent>\r\n                                </CardActionArea>\r\n                              </Card>\r\n                            </Col>\r\n                        : null\r\n                      }\r\n                    </React.Fragment>\r\n                  ))\r\n                }\r\n\r\n                { (verTodasAsLojas || quantosEntregam || loadingLogadoEnderecos) \r\n                ? null \r\n                : <Col xs={12} md={12} lg={12} style={{\"textAlign\": \"center\", \"marginTop\": \"3em\"}}> \r\n                    <Typography variant=\"h6\" >\r\n                      Nenhum estabelecimento disponvel\r\n                    </Typography>\r\n                  </Col> }   \r\n            </React.Fragment>\r\n          :  \r\n              (loadingLogadoEnderecos \r\n              ? <>\r\n                  {/* <Row style={(enderecoAtual?.logradouro || retirarNoLocal) ? {\"display\":\"none\"}:null}>\r\n                    <Col xs={12} md={12} lg={12} style={{\"display\":\"flex\", \"justifyContent\": \"center\"}}>\r\n                      <Skeleton variant=\"rect\" width={400} height={40} />\r\n                    </Col>\r\n                    <Col xs={12} md={12} lg={12} style={{\"display\":\"flex\", \"justifyContent\": \"center\", \"margin\": \"1em 0\"}} >\r\n                      <Skeleton variant=\"rect\" width={300} height={56} />\r\n                    </Col>\r\n                    <Col xs={12} md={12} lg={12} style={{\"display\":\"flex\", \"justifyContent\": \"center\" , \"marginBottom\": \"1em\"}}>\r\n                      <Skeleton variant=\"rect\" width={155} height={42} />\r\n                    </Col>\r\n                    <Divider style={{\"width\": \"100%\", \"margin\": \"0 0 1em 0\"}}/>\r\n                  </Row> */}\r\n                    \r\n                  <Col  xs={12} md={6} lg={6} style={{\"display\":\"flex\", \"justifyContent\": \"center\" , \"alignItems\":\"center\", \"padding\": \"0.5em\"}}>\r\n                    <Skeleton variant=\"rect\" width={\"50%\"} height={30} />\r\n                  </Col>\r\n\r\n                  <Col  xs={12} md={6} lg={6} style={{\"padding\": \"0.5em\"}}>\r\n                    <Skeleton variant=\"rect\" width={\"100%\"} height={56} />\r\n                  </Col>\r\n                  \r\n                  <Col  xs={6} md={6} lg={8} style={{\"padding\": \"0.5em\"}}>\r\n                    <Skeleton variant=\"rect\" width={\"100%\"} height={56} />\r\n                  </Col>\r\n\r\n                  <Col  xs={6} md={6} lg={4} style={{\"padding\": \"0.5em\"}}>\r\n                    <Skeleton variant=\"rect\" width={\"100%\"} height={56} />\r\n                  </Col>\r\n                \r\n                  {SkeletonQtd.map((sk, index) => (\r\n                    <Col key={index} xs={12} md={6} lg={4} style={{\"padding\": \"0.5em\"}}>\r\n                      <Skeleton variant=\"rect\" width={\"100%\"} height={165} />\r\n                    </Col>\r\n                  ))}\r\n                </>\r\n              : null)\r\n        }\r\n        </Row>\r\n\r\n        {\r\n          (aplicativoDados?.exibirTodasUnidadesNoDelivery == false && loadingLogadoEnderecos  == false && aplicativoDados.exibirLojasOcultas)\r\n          ? <Row style={{\"textAlign\": \"center\"}}>\r\n              <Col xs={12} md={12} lg={12}>\r\n                {\r\n                  (verTodasAsLojas == false)\r\n                  ?  <Button size=\"small\"  onClick={() =>{setVerTodasAsLojas(true)}}>\r\n                        Ver Todas as Lojas\r\n                      </Button>\r\n                  : <Button size=\"small\"  onClick={() =>{setVerTodasAsLojas(false)}}>\r\n                        Ocultar Todas as Lojas\r\n                    </Button>\r\n                }\r\n              </Col>\r\n            </Row>\r\n          : null\r\n        }\r\n\r\n\r\n        {loading &&\r\n        (<Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>)}\r\n\r\n      </div>\r\n\r\n    </>\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/love-flat.86372ce9.svg\";","import React, {useEffect, useState} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './styles.css';\r\nimport Cabecalho from '../Global/cabecalho';\r\nimport Rodape from '../Global/rodape';\r\nimport * as Sentry from \"@sentry/react\";\r\n\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\n\r\nimport {\r\n  AtualizarDispositivoUsuario,\r\n  identificarEstabelecimentoSelecionado\r\n} from '../../services/functions';\r\nimport api from '../../services/api';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport fidelidadeVazia from '../../assets/love-flat.svg';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\n\r\n\r\n/* HISTORICO */\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { useTheme } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\nfunction dataSelo(text){\r\n  const data = new Date(text)\r\n  return (data.toISOString().substr(0, 10).split('-').reverse().join('/') + \" \" + data.getHours()+\":\"+data.getMinutes())\r\n}\r\n\r\nexport default function Fidelidade() {\r\n  const history = useHistory();\r\n  const [estabelecimentoAtual, setEstabelecimentoAtual] = useState(JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")));\r\n  const [usuarioLogado, setUsuarioLogado]= useState(JSON.parse(localStorage.getItem(\"usuarioCF\")))\r\n  const cartelas = usuarioLogado.cartelas\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n\r\n  const classes = useStyles();\r\n\r\n\r\n\r\n  const [openHistorico, setOpenHistorico] = React.useState(false);\r\n  const [openRegulamento, setOpenRegulamento] = React.useState(false);\r\n  \r\n\r\n  const el = document.createElement( 'span' );\r\n  const [loadingUsuario, setLoadingUsuario] = React.useState(true);\r\n  const [textoRegulamento, setTextoRegulamento] = React.useState(el);\r\n  const [textoHistoricoCartela, setTextoHistoricoCartela] = React.useState(\"vazio\");\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  const atualizarUsuario = async () => {\r\n    localStorage.setItem('dateUsuarioCF', new Date())\r\n    try {\r\n      const clientefiel = {\r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"cliente\":{\r\n          \"email\": usuarioLogado.cliente.email,\r\n          \"hashSenha\": usuarioLogado.cliente.hashSenha, \r\n          \"appNome\": aplicativoDados.appNome,\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        },\r\n        \"localizacao\":{\r\n          \"latitude\": \"\",\r\n          \"longitude\": \"\",\r\n          \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          \"appNome\": aplicativoDados.appNome,\r\n        },\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n      await api.post('clientefiel/LoginGeral', clientefiel, {\r\n        headers: {\"Content-Type\": \"application/json\"}\r\n      }).then((response)=>{\r\n        console.log('LoginGeral', response)\r\n        if(response.data.codErro > 0 ){        \r\n          if(response.data.mensagem.includes(\"inseridos esto incorretos.\")){\r\n            localStorage.clear()\r\n            history.push(`/`)\r\n          }\r\n        }else{\r\n\r\n          if(localStorage.getItem('tokenNotificationFirebase')){\r\n            if( response.data.cliente.codigoDispositivo !== localStorage.getItem('tokenNotificationFirebase') ){\r\n              response.data.cliente.codigoDispositivo = localStorage.getItem('tokenNotificationFirebase')\r\n              response.data.cliente.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n              AtualizarDispositivoUsuario(response.data.cliente, aplicativoDados)\r\n            }\r\n          }\r\n\r\n          setUsuarioLogado(response.data)\r\n          localStorage.setItem('usuarioCF', JSON.stringify(response.data));\r\n          console.log(\" ===== usuario atualizado em tela de fidelidade ===== \") \r\n        }\r\n      });\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`${aplicativoDados.appNome} - ${error} - AtualizarUsuario`);\r\n      // alertStart(\"Erro inesperado ao atualizar usuario\", \"error\")\r\n    }\r\n\r\n    setLoadingUsuario(false)\r\n  }\r\n  \r\n  useEffect(() => {\r\n    atualizarUsuario()\r\n  }, []);\r\n  \r\n\r\n  const closeHistoricoFuncao = () =>{\r\n    setOpenHistorico(false)\r\n  }\r\n\r\n  const closeRegulamentoFuncao = () =>{\r\n    setOpenRegulamento(false)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Cabecalho nomeUsuario={true}></Cabecalho>\r\n      <div className=\"container container-Fidelidade\">\r\n        <Row className=\"rowGlobalFidelidade\">\r\n          <Col xs={12} md={12} lg={12} >\r\n            <Typography gutterBottom variant=\"h5\" >\r\n              Programa de Fidelidade\r\n          </Typography>\r\n          </Col>\r\n\r\n          { loadingUsuario \r\n            ? <Col  xs={12} md={12} lg={12} style={{\"textAlign\": \"center\", \"marginTop\": \"3em\"}}>\r\n                <CircularProgress color=\"inherit\" />\r\n                <Typography color=\"textSecondary\" gutterBottom>\r\n                        Atualizando Cartelas\r\n                </Typography>\r\n              </Col>\r\n            : cartelas?.length\r\n\r\n            // TEM CARTELAS\r\n            \r\n              ? cartelas.map((cartela, index) => (\r\n                <React.Fragment key={index}>\r\n                  <Col xs={12} md={6} lg={4} key={index} style={{\"margin\": \"1em 0\"}}  >\r\n                      \r\n                      <Card className={classes.root} style={{\"height\": \"100%\"}}>\r\n                        <CardActionArea  style={{ \"height\": \"calc(100% - 30px)\", \"flexFlow\": \"column-reverse\", \"alignItems\": \"normal\"}}>\r\n                          \r\n                          <Row style={{\"margin\":0,\"textAlign\": \"center\", \"width\": \"100%\", \"padding\": \"1em\", \"alignItems\": \"center\"}}>\r\n                            <Col xs={3} md={3} lg={3} style={{\"padding\":0}}>\r\n                              <CardMedia\r\n                                component=\"img\"\r\n                                className={\"logoLojas\"}\r\n                                alt={cartela.promocaoFidelidade.estabelecimento.nome}\r\n                                image={cartela.promocaoFidelidade.estabelecimento.urlLogo}\r\n                                title={cartela.promocaoFidelidade.estabelecimento.nome}\r\n                              />\r\n                            </Col>\r\n                            <Col xs={9} md={9} lg={9}>\r\n\r\n                             {\r\n                               !(cartela.descricaoCartela).includes(\"Em Cadastro\") && <Typography className={\"StatusEstabelecimento\"} variant=\"body2\"  component=\"p\">\r\n                                { (cartela.descricaoCartela).includes(\"Completa\") \r\n                                  ? <><ErrorIcon style={{\"fontSize\": \"initial\", \"color\":\"#ffc107\"}}/> Completa</> \r\n                                  : ( (cartela.descricaoCartela).includes(\"Resgatada\") \r\n                                    ? <><CheckCircleIcon style={{\"fontSize\": \"initial\", \"color\":\"#28a745\"}}/> Resgatada</> \r\n                                    : (cartela.descricaoCartela).includes(\"Expirada\") \r\n                                      ? <><CancelIcon style={{\"fontSize\": \"initial\", \"color\":\"#dc3545\"}}/> Expirada</> \r\n                                      : null)}\r\n\r\n                                      {/* (cartela.descricaoCartela).includes(\"Em Cadastro\") \r\n                                        ? <><HourglassFullIcon style={{\"fontSize\": \"initial\"}}/> Carregando</> \r\n                                        : null) */}\r\n                              </Typography>}\r\n\r\n\r\n                              <Typography className={\"StatusEstabelecimento\"} variant=\"body2\"  component=\"p\">\r\n                                { cartela.promocaoFidelidade.estabelecimento.nome }\r\n                                {/* { cartela.status === 0 ? \" ativa\" : \" vencida\" } */}\r\n                                {/* {cartela.promocaoFidelidade.estabelecimento.online ? <><CheckCircleIcon style={{\"fontSize\": \"initial\", \"color\":\"#28a745\"}}/> Aberto</> : <><CancelIcon style={{\"fontSize\": \"initial\"}}/> Fechado</>} */}\r\n                              </Typography>\r\n\r\n                              <Typography gutterBottom  component=\"h2\" className={\"nomeLoja\"}>                    \r\n                                { cartela.promocaoFidelidade.premio }\r\n                              </Typography>\r\n                              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={\"descricaoLoja\"}>\r\n                                { cartela.descricaoCartela }\r\n                              </Typography>\r\n                              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={\"descricaoLoja\"}>\r\n                                Validade: {cartela.dataValidadeTexto}\r\n                              </Typography>\r\n                              {/* <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                                {cartela.promocaoFidelidade.estabelecimento.tempoEntregaTexto}\r\n                              </Typography> */}\r\n\r\n                               {\r\n                                 cartela.status == 0\r\n                                 ? <>\r\n                                    {/*SELOS PREENCHIDOS*/cartela.selos.length > 0 ? cartela.selos.map(selo =>(\r\n                                    <FavoriteIcon style={{\"fontSize\": \"1.3rem\"}} key={selo.id}/> \r\n                                    )) : null}\r\n\r\n                                    {/*SELOS FALTANTES*/function(){\r\n                                      let rows = []\r\n                                      for(let i =0 ; i <  (cartela.promocaoFidelidade.quantidadeNecessaria - cartela.selos.length); i++){\r\n                                        rows.push( <FavoriteBorderIcon style={{\"fontSize\": \"1.3rem\"}} key={i}/>)\r\n                                      }\r\n                                      return rows\r\n                                    }()}\r\n                                 </>\r\n                                 : null\r\n                               }\r\n                                \r\n                            </Col>\r\n                          \r\n                          </Row>\r\n                          \r\n                          <CardContent style={{\"padding\": \"0 16px\"}}>\r\n                          \r\n                          </CardContent>\r\n                        </CardActionArea>\r\n                        <CardActions style={{\"padding\":\"0\"}}>\r\n      \r\n                          \r\n                          <Button size=\"small\" className={\"botaoCinza naoArredondado\"} \r\n                            onClick={() =>{\r\n                              let texto = []\r\n                              cartela.selos.map(selo =>(\r\n                                // texto.push(<span key={selo.id}>{ dataSelo(selo.dataHoraAtribuicaoCartela) }<br></br></span>)\r\n                                texto.push(<span key={selo.id}>{ selo.dataHoraAtribuicaoTexto }<br></br></span>)\r\n                              ))\r\n                              setTextoHistoricoCartela(texto)\r\n                              setOpenHistorico(true)\r\n                            }}>\r\n                              Historico\r\n                            </Button>\r\n      \r\n                            <Button size=\"small\" className={\"botaoCinza naoArredondado\"} \r\n                              onClick={() =>{\r\n                                const el = document.createElement( 'span' );\r\n                                el.innerHTML = cartela.promocaoFidelidade.regulamento.texto\r\n                                setTextoRegulamento(el)\r\n                                setOpenRegulamento(true)  \r\n                            }}>\r\n                              Regulamento\r\n                            </Button>\r\n                          \r\n                        </CardActions>\r\n                      </Card>\r\n                    </Col>\r\n              </React.Fragment> ))\r\n\r\n              //SEM CARTELAS\r\n              : (<Col xs={12} md={12} lg={12} >\r\n                Voc no possui nenhuma cartela de fidelidade!<br></br><br></br>\r\n                Registre um selo <b>Lendo um QRCode</b> ou <b>Fazendo um Pedido</b> na plataforma para iniciar uma nova cartela.  <br></br>  \r\n                <Button variant=\"contained\" onClick={() => {\r\n                  history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n                }} className=\"mt-3\" style={{\"background\": `#28a745`, \"color\":\"white\"}} /*style={{\"background\": `${aplicativoDados.corSitePrimaria}`, \"color\":\"white\"}}*/ >Realizar um Pedido\r\n              </Button>  \r\n    \r\n              <div className=\"divImageCentroCardapio\" >\r\n                <img src={fidelidadeVazia} alt={\"sem cartelas de fidelidade\"} className=\"pretoEBranco\" style={{\"marginTop\": \"2em\"}}/>\r\n              </div> \r\n              </Col>)\r\n          }\r\n          \r\n\r\n\r\n        </Row>\r\n\r\n\r\n\r\n\r\n        <Dialog\r\n        fullScreen={fullScreen}\r\n        open={openHistorico}\r\n        onClose={closeHistoricoFuncao}\r\n        aria-labelledby=\"responsive-dialog-title\">\r\n        <DialogTitle id=\"responsive-dialog-title\">{\"Histrico da Cartela\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            {textoHistoricoCartela.length > 0 ? textoHistoricoCartela : \"Sem Histrico\"}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={closeHistoricoFuncao} color=\"primary\">\r\n            Fechar\r\n          </Button>\r\n          {/* <Button onClick={historicoClose} color=\"primary\" autoFocus>\r\n            Agree\r\n          </Button> */}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n      <Dialog\r\n        fullScreen={fullScreen}\r\n        open={openRegulamento}\r\n        onClose={closeRegulamentoFuncao}\r\n        aria-labelledby=\"responsive-dialog-regulamento\">\r\n        <DialogTitle id=\"responsive-dialog-regulamento\">{\"Regulamento Programa de Fidelidade\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"textoRegulamento\">\r\n\r\n              { openRegulamento ? (setTimeout(() => {\r\n                document.getElementById(\"textoRegulamento\").appendChild(textoRegulamento)\r\n              }, 100)) : null}\r\n\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={closeRegulamentoFuncao} color=\"primary\">\r\n            Fechar\r\n          </Button>          \r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      </div>\r\n      <Rodape valor=\"Fidelidade\"></Rodape>\r\n\r\n\r\n\r\n\r\n\r\n      \r\n\r\n    </>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { Col, Row } from 'react-bootstrap';\r\nimport Cabecalho from '../Global/cabecalho';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Prato from '../../assets/pratos.svg';\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport * as Sentry from \"@sentry/react\";\r\n\r\n\r\nimport {\r\n  eventoTagManager,\r\n} from '../../services/functions';\r\n\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\n\r\n\r\n\r\n\r\n\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  backdrop: {\r\n    zIndex: '99999',\r\n    color: '#fff',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  rootAlerts: {\r\n    margin: \"0 0 1em 0\",\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function VerticalLinearStepper() {\r\n  const { idProduto } = useParams()  //params id do produto selecionado\r\n\r\n  const carrinho = JSON.parse(localStorage.getItem(\"carrinhoCF\"))\r\n  const cardapio = JSON.parse(localStorage.getItem(\"cardapioCF\"))\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\")) ;\r\n  const [observacao, setObservacao] = useState('');\r\n  const [quantidade, setQuantidade] = useState(1);\r\n  const [ScrollAtivo, setScrollAtivo] = useState(false);\r\n  const enderecoAtual = JSON.parse(localStorage.getItem(\"enderecoAtualCF\"))\r\n  const history = useHistory();\r\n\r\n\r\n    // busca infos do produto selecionado com id\r\n    const getProdutoPorId = function (id) {\r\n      const localSt = localStorage.getItem(\"produtoSelecionadoCF\")\r\n      //console.log(\"produtoSelecionadoCF\", localSt)\r\n      if(!localSt || JSON.parse(localSt).id !== idProduto){\r\n        //console.log(\"getProdutoPorId\")\r\n        let produtoSelecionado;\r\n        cardapio.categorias.forEach(categoria => {\r\n          categoria.produtos.forEach(produto => {\r\n            if (produto.id === id) {\r\n              produtoSelecionado = produto\r\n            }\r\n          });\r\n        });\r\n        console.log('produtoSelecionado', produtoSelecionado,cardapio.categorias)\r\n\r\n        produtoSelecionado.opcoes.forEach(function(grupo){    \r\n          grupo.quantidade = 0\r\n        })\r\n\r\n        localStorage.setItem(\"produtoSelecionadoCF\", JSON.stringify(produtoSelecionado))\r\n        return produtoSelecionado\r\n      }else{\r\n        return JSON.parse(localStorage.getItem(\"produtoSelecionadoCF\"))\r\n      }\r\n    }\r\n  \r\n  const [produtoSelecionado, setProdutoSelecionado] = useState(getProdutoPorId(parseInt(idProduto)));\r\n\r\n  //console.log(\"produtoSelecionado\",produtoSelecionado)  \r\n\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  //produtoSelecionado.opcoes\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = useState(0);\r\n\r\n  const [estabelecimento, setEstabelecimento] = useState(localStorage.getItem('estabelecimentoAtualCF') ? JSON.parse(localStorage.getItem('estabelecimentoAtualCF')): {});\r\n  /*const handleNext = (min, max, qtd) => {\r\n    //console.log(\"oiNext\")\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };*/\r\n  \r\n\r\n  const voltar = () => {    \r\n    history.goBack()\r\n  }\r\n  \r\n  const handleBack = () => {\r\n    if (activeStep === 0) {\r\n      voltar()\r\n    }\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  /* const resetarAdicionais = () => {\r\n    setActiveStep(0);\r\n  }; */\r\n\r\n  const calcularValorProduto = () => {\r\n\r\n    const produtoSele = JSON.parse(JSON.stringify(produtoSelecionado))\r\n    console.log('produtoSele', produtoSele)\r\n\r\n    //deletar valores pre calculados no cardapio\r\n    delete produtoSele.valorDeCalculado\r\n    delete produtoSele.valorRealCalculado\r\n\r\n\r\n    const produtoProCarrinho = {\r\n      \"id\": null,\r\n      \"produto\": produtoSele,\r\n      \"quantidade\": quantidade,\r\n      \"valorProdutoHistorico\": produtoSele.valor,\r\n      \"itensOpcaoProduto\": [],\r\n      \"observacao\": observacao ? observacao : '',\r\n      \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n    } \r\n\r\n    \r\n\r\n    produtoProCarrinho.produto.opcoes.forEach((grupo) =>{   \r\n      \r\n      \r\n      //considerar maior  valor - prioridade 1\r\n      const verificarMaiorValor = grupo.opcoes.length > 0 ? grupo.opcoes[0].considerarMaiorValor : false\r\n      var maiorValorDoGrupo = 0\r\n\r\n      //considerar media dos valores - prioridade 2\r\n      const verificarMediaValor = grupo.opcoes.length > 1 ? grupo.opcoes[0].considerarMedia : false\r\n      var valorTotalDasOpcoes = 0\r\n      var quantidadeDeOpcoes = 0\r\n\r\n\r\n\r\n      grupo.opcoes.forEach(opcao => {\r\n        if(opcao.quantidade > 0){\r\n          const temp = {\r\n            \"id\": null,        \r\n            \"opcaoProduto\" :  {}, \r\n            \"valorHistorico\": 0,      \r\n            \"quantidade\": 0,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          } \r\n\r\n\r\n          temp.opcaoProduto = opcao\r\n          temp.quantidade = opcao.quantidade\r\n          temp.valorHistorico = (opcao.valor * opcao.quantidade)\r\n          \r\n          console.log('valorHistorico', temp.valorHistorico)\r\n\r\n          if(verificarMaiorValor && (opcao.valor > maiorValorDoGrupo)){\r\n            maiorValorDoGrupo = opcao.valor\r\n          }else if(verificarMediaValor){\r\n            valorTotalDasOpcoes += temp.valorHistorico\r\n            quantidadeDeOpcoes += opcao.quantidade\r\n          }\r\n\r\n          if( grupo.adicional === 0 && opcao.quantidade === 1 && opcao.valor > 0){\r\n            produtoProCarrinho.valorProdutoHistorico = (produtoProCarrinho.valorProdutoHistorico - produtoSele.valor) + opcao.valor\r\n          }else if(!verificarMaiorValor && !verificarMediaValor){\r\n            produtoProCarrinho.valorProdutoHistorico += temp.valorHistorico\r\n          }\r\n\r\n\r\n          \r\n\r\n        }  \r\n      });\r\n\r\n      if(verificarMaiorValor){\r\n        produtoProCarrinho.valorProdutoHistorico += maiorValorDoGrupo\r\n      }else if(verificarMediaValor && valorTotalDasOpcoes > 0){\r\n        produtoProCarrinho.valorProdutoHistorico += valorTotalDasOpcoes / quantidadeDeOpcoes\r\n      }\r\n\r\n    })\r\n\r\n    produtoProCarrinho.valorProdutoHistorico *= produtoProCarrinho.quantidade\r\n    console.log('produtoProCarrinho', produtoProCarrinho)\r\n    return produtoProCarrinho.valorProdutoHistorico\r\n    \r\n  }\r\n\r\n  \r\n  const adicionarCarrinho = (e) => {\r\n\r\n    \r\n    eventoTagManager(estabelecimento.tagManager, \"addCart\")\r\n    eventoTagManager(aplicativoDados.tagManager, \"addCart\")\r\n\r\n    \r\n    if(aplicativoDados.pixelFacebook){\r\n      ReactPixel.track('AddToCart')\r\n    } \r\n\r\n    console.log('adicionarCarrinho',produtoSelecionado )\r\n    \r\n    //deletar valores pre calculados no cardapio\r\n    delete produtoSelecionado.valorDeCalculado\r\n    delete produtoSelecionado.valorRealCalculado\r\n\r\n    const produtoProCarrinho = {\r\n      \"id\": null,\r\n      \"produto\": produtoSelecionado,\r\n      \"quantidade\": quantidade,\r\n      \"valorProdutoHistorico\": produtoSelecionado.valor,\r\n      \"itensOpcaoProduto\": [],\r\n      \"observacao\": observacao ? observacao : '',\r\n      \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n    } \r\n\r\n    \r\n\r\n    produtoProCarrinho.produto.opcoes.forEach((grupo) =>{   \r\n      \r\n      \r\n      //considerar maior  valor - prioridade 1\r\n      const verificarMaiorValor = grupo.opcoes.length > 0 ? grupo.opcoes[0].considerarMaiorValor : false\r\n      var maiorValorDoGrupo = 0\r\n\r\n      //considerar media dos valores - prioridade 2\r\n      const verificarMediaValor = grupo.opcoes.length > 1 ? grupo.opcoes[0].considerarMedia : false\r\n      var valorTotalDasOpcoes = 0\r\n      var quantidadeDeOpcoes = 0\r\n\r\n\r\n\r\n      grupo.opcoes.forEach(opcao => {\r\n        if(opcao.quantidade > 0){\r\n          const temp = {\r\n            \"id\": null,        \r\n            \"opcaoProduto\" :  {}, \r\n            \"valorHistorico\": 0,      \r\n            \"quantidade\": 0,\r\n            \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n          } \r\n\r\n\r\n          temp.opcaoProduto = opcao\r\n          temp.quantidade = opcao.quantidade\r\n          temp.valorHistorico = (opcao.valor * opcao.quantidade)\r\n          \r\n          if(verificarMaiorValor && (opcao.valor > maiorValorDoGrupo)){\r\n            maiorValorDoGrupo = opcao.valor\r\n          }else if(verificarMediaValor){\r\n            valorTotalDasOpcoes += temp.valorHistorico\r\n            quantidadeDeOpcoes += opcao.quantidade\r\n          }\r\n\r\n          if( grupo.adicional === 0 && opcao.quantidade === 1 && opcao.valor > 0){\r\n            produtoProCarrinho.valorProdutoHistorico = (produtoProCarrinho.valorProdutoHistorico - produtoSelecionado.valor) + opcao.valor\r\n          }else if(!verificarMaiorValor && !verificarMediaValor){\r\n            produtoProCarrinho.valorProdutoHistorico += temp.valorHistorico\r\n          }\r\n\r\n          delete temp.opcaoProduto.quantidade          \r\n          produtoProCarrinho.itensOpcaoProduto.push(temp)\r\n\r\n          \r\n\r\n        }  \r\n        delete opcao.quantidade;     \r\n      });\r\n\r\n      if(verificarMaiorValor){\r\n        produtoProCarrinho.valorProdutoHistorico += maiorValorDoGrupo\r\n      }else if(verificarMediaValor && valorTotalDasOpcoes>0 ){\r\n        produtoProCarrinho.valorProdutoHistorico += valorTotalDasOpcoes / quantidadeDeOpcoes\r\n      }\r\n\r\n      delete grupo.quantidade;   \r\n    })\r\n\r\n    produtoProCarrinho.valorProdutoHistorico *= produtoProCarrinho.quantidade\r\n\r\n    carrinho.pedido.itens.push(produtoProCarrinho)\r\n    carrinho.data = new Date()\r\n\r\n    let valorTotalItens = 0;\r\n    let valorProdutosPromocionais = 0;\r\n\r\n    carrinho.pedido.itens.forEach(item => {\r\n      valorTotalItens += item.valorProdutoHistorico      \r\n      if(item.produto.promocional){\r\n        valorProdutosPromocionais += item.valorProdutoHistorico\r\n      }\r\n    })\r\n\r\n    console.log(\"valorProdutosPromocionais\", valorProdutosPromocionais)\r\n    console.log(\"valorPrduto\", valorTotalItens)\r\n    \r\n    \r\n\r\n\r\n    let taxaDeEntrega = 0\r\n    if(enderecoAtual?.id !== \"retirada\" && !(valorTotalItens > cardapio.minimoEntregaGratis  && cardapio.minimoEntregaGratis > 0)){ // NAO FOR RETIRADA NO LOCAL\r\n      taxaDeEntrega = carrinho.pedido.valorEntrega ? carrinho.pedido.valorEntrega : enderecoAtual.taxaEntrega ? enderecoAtual.taxaEntrega : 0\r\n    }\r\n\r\n    let valorFinalProdutos = 0;\r\n    if(cardapio.percentualDesconto && (cardapio.valorDesconto === 0 || !cardapio.valorDesconto)){\r\n      //desconto percetual - apenas em produtos nao promocionais\r\n      var descontoPercentual = ((valorTotalItens - valorProdutosPromocionais) * cardapio.percentualDesconto) / 100\r\n\r\n      //maximo que pode dar de desconto\r\n      if(cardapio.maximoDesconto && descontoPercentual > cardapio.maximoDesconto){\r\n        descontoPercentual = cardapio.maximoDesconto\r\n      }\r\n      \r\n\r\n      carrinho.percentualDescontoValor = descontoPercentual\r\n      valorFinalProdutos = ( valorTotalItens - descontoPercentual ) \r\n      console.log(\"valorFinalProdutosIf\", valorFinalProdutos)\r\n\r\n    }else{\r\n      //desconto fixo - apenas em produtos nao promocionais\r\n      var descontoFixo = carrinho.pedido.valorDesconto ? carrinho.pedido.valorDesconto : 0\r\n\r\n      //maximo que pode dar de desconto\r\n      if(cardapio.maximoDesconto && descontoFixo > cardapio.maximoDesconto){\r\n        descontoFixo = cardapio.maximoDesconto\r\n      }\r\n\r\n      // let produtosNaoPromocionais = valorTotalItens - valorProdutosPromocionais\r\n      // produtosNaoPromocionais -= descontoFixo      \r\n      // valorFinalProdutos = valorProdutosPromocionais + (produtosNaoPromocionais > 0 ? produtosNaoPromocionais : 0)     \r\n      valorFinalProdutos = valorTotalItens - descontoFixo   \r\n    \r\n    }\r\n\r\n    // console.log(\"valorFinalProdutos\", valorFinalProdutos)\r\n    if(valorFinalProdutos < 0){\r\n      carrinho.pedido.valorTotal = taxaDeEntrega\r\n    }else{\r\n      carrinho.pedido.valorTotal = valorFinalProdutos + taxaDeEntrega\r\n    }\r\n\r\n\r\n\r\n    if(carrinho.pedido.valorTotal < 0){\r\n      carrinho.pedido.valorTotal = 0.0\r\n    }\r\n    \r\n\r\n\r\n    // console.log(\"fim carrinho\", carrinho)\r\n    localStorage.setItem('carrinhoCF', JSON.stringify(carrinho))\r\n    //console.log(\"add CART\")\r\n    history.goBack()\r\n  }\r\n\r\n  \r\n    //alerts    \r\n    const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n\r\n    function Alert(props) {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n    }\r\n    \r\n    const alertStart = (msg, tipo) => {\r\n        setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n    };\r\n\r\n    const alertClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n    };\r\n    \r\n  \r\n    \r\n  return (\r\n    <div>\r\n\r\n        {loading &&\r\n        (<Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>)}\r\n\r\n\r\n      <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n          <Alert onClose={alertClose} severity={alert.tipo}>\r\n          {alert.mesangem}\r\n          </Alert>\r\n      </Snackbar>\r\n\r\n      <Cabecalho voltar={true} produtoNome={produtoSelecionado.nome}></Cabecalho>\r\n      <div className=\"container ProdutoComponente\">         \r\n      <Row className=\"fotoProdutoNoAdicional\" style={{\"margin\": 0, \"padding\": \"1em\"}}>\r\n          \r\n          <Col xs={12} md={12} lg={4} style={{\"cursor\": \"pointer\"}}>\r\n          <img\r\n                className=\"d-block\"\r\n                style={{\"borderRadius\": \"30px\"}}\r\n                src={produtoSelecionado.urlImagem ? produtoSelecionado.urlImagem : Prato}\r\n                alt=\"First slide\"\r\n              />\r\n          </Col>\r\n          \r\n          <Col xs={12} md={12} lg={8} style={{\"cursor\": \"pointer\"}}>\r\n              <Typography style={{\"textAlign\": \"center\", \"padding\": \"0.5em 0\"}} variant=\"h6\">{produtoSelecionado.nome}</Typography>\r\n              <Typography style={{\"textAlign\": \"center\", \"padding\": \"-0.5em 1em\"}} >{produtoSelecionado.descricao}</Typography>\r\n                 {\r\n                 (produtoSelecionado.promocional && cardapio.percentualDesconto && !cardapio.valorDesconto)\r\n                  ?\r\n                  <List component=\"div\" disablePadding  style={{\"textAlign\": \"center\", \"padding\": \"0.5em 1em\"}}>\r\n                      <ListItem  className={classes.nested} style={{\"paddingTop\": \"0\", \"display\": \"flex\", \"justifyContent\": \"center\"}}>\r\n                         <p className=\"promocionalElement promocionalProduct\">\r\n                              promocional, ento no recebe descontos percentuais.\r\n                         </p>\r\n                      </ListItem>\r\n                  </List> \r\n                  \r\n                  : null \r\n              }\r\n          </Col>\r\n        </Row>\r\n          <Divider></Divider>\r\n        <div>\r\n           \r\n          {produtoSelecionado.opcoes.length > 0 ? \r\n          (<Stepper activeStep={activeStep} id={`Stepper${activeStep}`} orientation=\"vertical\">\r\n            {console.log(activeStep)}\r\n            {produtoSelecionado.opcoes.map((grupo, index) => (\r\n              <Step  key={grupo.id} id={`Step${index}`}>\r\n                <StepLabel>{grupo.nome}</StepLabel>\r\n                \r\n                <StepContent className=\"campoGrupo\">\r\n                {(!!grupo.quantidadeMaxima || !!grupo.quantidadeMinima) &&\r\n                <FormLabel className=\"infoGrupoAdicionais\"> \r\n                  {(!!grupo.quantidadeMaxima && grupo.quantidadeMaxima !== 99999999) && (<span>Maximo: {grupo.quantidadeMaxima}</span>)}\r\n                  {((!!grupo.quantidadeMaxima && grupo.quantidadeMaxima != 99999999) && (!!grupo.quantidadeMinima && grupo.quantidadeMinima != 99999999)) && (<span> e </span>)}         \r\n                  {!!grupo.quantidadeMinima && (<span>Minimo: {grupo.quantidadeMinima}</span>)}         \r\n                </FormLabel>\r\n                }\r\n                  {\r\n                    grupo.adicional === 0 //RADIO\r\n                      ?\r\n                      (\r\n                        <RadioGroup aria-label={grupo.nome} name={grupo.nome} style={{\"marginBottom\": \"5em\"}}>\r\n                          {grupo.opcoes.map(opcao => (\r\n                            <span className=\"opcaoIndividual row\" key={opcao.id}>\r\n                              <Col xs={2} md={2} lg={2} style={{\"cursor\": \"pointer\"}} className=\"colOpcaoAdicional\">\r\n                                \r\n                                <FormControlLabel\r\n                                  value={\"#\"+opcao.id}\r\n                                  control={<Radio id={\"#\"+opcao.id} color=\"primary\" onClick={e => {\r\n\r\n                                    grupo.opcoes.forEach(opcoesDoGrupo => {\r\n                                      opcoesDoGrupo.quantidade = 0\r\n                                    });\r\n                                    grupo.quantidade = 1\r\n                                    opcao.quantidade = 1\r\n                                    \r\n                                    //console.log(e.target, \"g:\", grupo.quantidade, \"p:\", opcao.quantidade)\r\n                                    document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.remove(\"Mui-disabled\")    \r\n                                    //window.scrollTo(0, document.getElementById(\"BotaoDeAcoes\")?.offsetTop)\r\n                                  } }/>}\r\n                                />\r\n                              </Col>\r\n                              <Col xs={7} md={7} lg={7}  className=\"colNomeAdicional\" >\r\n                                <FormLabel style={{\"cursor\": \"pointer\"}} htmlFor={\"#\"+opcao.id}>{opcao.nome}</FormLabel>\r\n                              </Col>\r\n                              { //se tiver valor\r\n                                opcao.valor && <Col xs={3} md={3} lg={3} className=\"colValorAdicional\">\r\n                                  <FormLabel style={{\"cursor\": \"pointer\"}} htmlFor={\"#\"+opcao.id}>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(opcao.valor)}</FormLabel>\r\n                                </Col>\r\n                              }\r\n\r\n                              { //se tiver descricao\r\n                                opcao.descricao && <Col xs={12} md={12} lg={12} style={{\"cursor\": \"pointer\"}} className=\"colDescricaoAdicional\">\r\n                                  <FormLabel style={{\"cursor\": \"pointer\"}} htmlFor={\"#\"+opcao.id}>{opcao.descricao}</FormLabel>\r\n                                </Col>\r\n                              }\r\n\r\n\r\n                              <span style={{\"display\": \"none\"}}>\r\n                                {\r\n                                  console.log(\"nuns\", `${opcao.id}`, opcao.quantidade, grupo.quantidade)\r\n                                }\r\n                                { //GAMBIARRA PARA AO GRUPO COM RADIO VOLTAR SELECIONADO\r\n                                  setTimeout(() => {\r\n                                    if(document.getElementById(\"#\"+opcao.id)){\r\n                                      document.getElementById(\"#\"+opcao.id).checked = opcao.quantidade === 1 ? true : false                                      \r\n                                    }\r\n                                  }, 300) \r\n                                }\r\n                              </span>\r\n\r\n                            </span>\r\n                          ))}\r\n\r\n                         \r\n\r\n\r\n                        </RadioGroup>)\r\n                      : grupo.adicional === 1 //CHECK\r\n                        ?\r\n                        (\r\n                          <FormGroup aria-label=\"position\" name={grupo.id} style={{\"marginBottom\": \"5em\"}}>\r\n                            {grupo.opcoes.map(opcao => (\r\n                              <span className=\"opcaoIndividual row\" key={opcao.id}>\r\n                                <Col xs={2} md={2} lg={1} className=\"colOpcaoAdicional\">\r\n                                  <input type=\"checkbox\" color=\"primary\"  \r\n                                    value={opcao.nome}\r\n                                    name={opcao.nome}     \r\n                                    id={\"#\"+opcao.id}                               \r\n                                    className={\"#OpcaoDe\"+grupo.id}\r\n                                    style={{\"width\": \"23px\", \"height\": \"23px\", \"cursor\": \"pointer\"}}\r\n                                    //checked={opcao.quantidade ? true : false}\r\n                                    //disabled={grupo.quantidade === 1 ? true : false}   \r\n                                    onClick={e => {    \r\n                                      //console.log(e.target.checked)\r\n                                      if(e.target.checked && grupo.quantidade === grupo.quantidadeMaxima){                                         \r\n                                        e.target.checked = false\r\n                                        //console.log(\"1\")              \r\n                                      }else if(!e.target.checked && grupo.quantidade === grupo.quantidadeMaxima){\r\n                                        //console.log(\"2\")\r\n                                        grupo.quantidade--\r\n                                        opcao.quantidade--\r\n                                        e.target.checked = false\r\n                                      }else if(e.target.checked){\r\n                                        //console.log(\"3\")\r\n                                        grupo.quantidade++\r\n                                        opcao.quantidade++\r\n                                      }else{\r\n                                        //console.log(\"4\")\r\n                                        grupo.quantidade--\r\n                                        opcao.quantidade--\r\n                                      }\r\n\r\n                                      if(grupo.quantidade < grupo.quantidadeMinima){\r\n                                        document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.add(\"Mui-disabled\")                                         \r\n                                      }else{\r\n                                        document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.remove(\"Mui-disabled\")                                           \r\n                                      }\r\n\r\n                                      // if(grupo.quantidade === grupo.quantidadeMaxima){\r\n                                      //   window.scrollTo(0, document.getElementById(\"BotaoDeAcoes\")?.offsetTop)\r\n                                      // }\r\n\r\n                                      const newP = produtoSelecionado\r\n                                      setProdutoSelecionado(newP)\r\n                                      //console.log(\"qtd\", grupo.quantidade, opcao.quantidade)\r\n                                    }}  \r\n                                    \r\n                                    //onLoad={document.getElementById(\"#\"+opcao.id).checked = opcao.quantidade === 1 ? true : false}\r\n                                    \r\n                                  />\r\n                                </Col>\r\n                                <Col xs={7} md={7} lg={8}  className=\"colNomeAdicional\">\r\n                                  <FormLabel style={{\"cursor\": \"pointer\"}} htmlFor={\"#\"+opcao.id} control={opcao.nome}>{opcao.nome}</FormLabel>\r\n                                </Col>\r\n                                { //se tiver valor\r\n                                  <Col xs={3} md={3} lg={3} className=\"colValorAdicional\">\r\n                                    {opcao.valor ? <FormLabel htmlFor={\"#\"+opcao.id} style={{\"cursor\": \"pointer\"}}>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(opcao.valor)}</FormLabel> : null}\r\n                                  </Col>\r\n                                }\r\n\r\n                                { //se tiver descricao\r\n                                  opcao.descricao ? <>\r\n                                  <Col xs={12} md={12} lg={1}>\r\n                                    \r\n                                  </Col>\r\n\r\n                                  <Col xs={12} md={12} lg={11} className=\"colDescricaoAdicional\">\r\n                                    <FormLabel htmlFor={\"#\"+opcao.id} style={{\"cursor\": \"pointer\"}}>{opcao.descricao}</FormLabel>\r\n                                  </Col>\r\n                                  </> : null\r\n                                }\r\n\r\n                                <span style={{\"display\": \"none\"}}>\r\n                                { //GAMBIARRA PARA AO GRUPO COM CHECKBOX VOLTAR SELECIONADO\r\n                                  setTimeout(() => {\r\n                                    if(document.getElementById(\"#\"+opcao.id)){\r\n                                      document.getElementById(\"#\"+opcao.id).checked = opcao.quantidade === 1 ? true : false                                      \r\n                                    }\r\n                                  }, 300) \r\n                                }\r\n                                </span>\r\n                                \r\n                              </span>\r\n                            ))}\r\n                          </FormGroup>)\r\n                        : grupo.adicional === 2 //QTD \r\n                          ?\r\n                          (<FormGroup aria-label={grupo.id} name={grupo.id} style={{\"marginBottom\": \"5em\"}}>\r\n                            {grupo.opcoes.map( (opcao, index2) => (\r\n                              <span key={opcao.id} className=\"camposAddRemoveAdicionaisQuantitativos opcaoIndividual row\" >\r\n                                <Col xs={4} md={3} lg={2} className=\"colOpcaoAdicional\">\r\n\r\n                                  <ButtonGroup>\r\n                                    <Button\r\n                                      aria-label=\"reduce\"\r\n                                      onClick={()  => {\r\n                                        // REMOVER QTD\r\n                                        if(opcao.quantidade > 0){\r\n                                          document.getElementById(`${opcao.id}`).innerHTML = parseInt(document.getElementById(`${opcao.id}`).innerHTML)-1                                      \r\n                                          opcao.quantidade--\r\n                                          grupo.quantidade--\r\n                                          //console.log(\"remove\", `${opcao.id}`, opcao.quantidade, grupo.quantidade)\r\n                                        }   \r\n                                        if(grupo.quantidade < grupo.quantidadeMinima){\r\n                                          document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.add(\"Mui-disabled\")                                         \r\n                                        }else{\r\n                                          document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.remove(\"Mui-disabled\")                                           \r\n                                        }                                 \r\n                                      }} \r\n                                      style={{\"background\":\"#dc3545\", \"color\":\"white\"}}\r\n\r\n                                    >\r\n                                      <RemoveIcon fontSize=\"small\" />\r\n                                    </Button>\r\n\r\n                                    <Button\r\n                                      aria-label=\"increase\"\r\n                                    >\r\n                                      <span id={opcao.id}>{ /*isNaN(opcao.quantidade) ? opcao.quantidade = 0 : opcao.quantidade = */ opcao.quantidade}</span>\r\n                                    </Button>\r\n\r\n\r\n                                    <Button\r\n                                      aria-label=\"increase\"\r\n                                      style={{\"background\":\"#28a745\", \"color\":\"white\"}}\r\n                                      onClick={() => {   \r\n                                        // ADICIONAR QTD\r\n                                        if(grupo.quantidade < grupo.quantidadeMaxima || !grupo.quantidadeMaxima){\r\n                                          document.getElementById(`${opcao.id}`).innerHTML = parseInt(document.getElementById(`${opcao.id}`).innerHTML)+1\r\n                                          opcao.quantidade++ \r\n                                          grupo.quantidade++\r\n                                          //console.log(\"add\", `${opcao.id}`, opcao.quantidade, grupo.quantidade)\r\n                                        } \r\n    \r\n                                        if(grupo.quantidade < grupo.quantidadeMinima){\r\n                                          document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.add(\"Mui-disabled\")                                         \r\n                                        }else{\r\n                                          document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.remove(\"Mui-disabled\")                                           \r\n                                        }\r\n                                        // if(grupo.quantidade === grupo.quantidadeMaxima){\r\n                                        //   window.scrollTo(0, document.getElementById(\"BotaoDeAcoes\")?.offsetTop)\r\n                                        // }\r\n                                      }}\r\n                                    >\r\n                                      <AddIcon fontSize=\"small\" />\r\n                                    </Button>\r\n                                  </ButtonGroup>\r\n\r\n                                \r\n                                  \r\n                                  {/* <Button onClick={()  => {\r\n                                    // REMOVER QTD\r\n                                    if(opcao.quantidade > 0){\r\n                                      document.getElementById(`${opcao.id}`).innerHTML = parseInt(document.getElementById(`${opcao.id}`).innerHTML)-1                                      \r\n                                      opcao.quantidade--\r\n                                      grupo.quantidade--\r\n                                      //console.log(\"remove\", `${opcao.id}`, opcao.quantidade, grupo.quantidade)\r\n                                    }   \r\n                                    if(grupo.quantidade < grupo.quantidadeMinima){\r\n                                      document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.add(\"Mui-disabled\")                                         \r\n                                    }else{\r\n                                      document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.remove(\"Mui-disabled\")                                           \r\n                                    }                                 \r\n                                  }} color=\"secondary\">\r\n\r\n                                    <RemoveCircleIcon></RemoveCircleIcon>\r\n                                  </Button> */}\r\n                                  \r\n                                  \r\n\r\n                                  {/* <Button onClick={() => {   \r\n                                    // ADICIONAR QTD\r\n                                    if(grupo.quantidade < grupo.quantidadeMaxima || !grupo.quantidadeMaxima){\r\n                                      document.getElementById(`${opcao.id}`).innerHTML = parseInt(document.getElementById(`${opcao.id}`).innerHTML)+1\r\n                                      opcao.quantidade++ \r\n                                      grupo.quantidade++\r\n                                      //console.log(\"add\", `${opcao.id}`, opcao.quantidade, grupo.quantidade)\r\n                                    } \r\n\r\n                                    if(grupo.quantidade < grupo.quantidadeMinima){\r\n                                      document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.add(\"Mui-disabled\")                                         \r\n                                    }else{\r\n                                      document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.remove(\"Mui-disabled\")                                           \r\n                                    }\r\n                                    // if(grupo.quantidade === grupo.quantidadeMaxima){\r\n                                    //   window.scrollTo(0, document.getElementById(\"BotaoDeAcoes\")?.offsetTop)\r\n                                    // }\r\n                                  }} color=\"primary\">\r\n\r\n                                    <AddCircleIcon></AddCircleIcon>\r\n                                  </Button> */}\r\n                                </Col>\r\n                                <Col xs={5} md={6} lg={7} className=\"colNomeAdicional\"><FormLabel>{opcao.nome}</FormLabel> </Col>\r\n\r\n                                { //se tiver valor\r\n                                  <Col xs={3} md={3} lg={3} className=\"colValorAdicional\">\r\n                                    {(opcao.valor || opcao.valor > 0) &&  <FormLabel>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(opcao.valor)}</FormLabel>}\r\n                                  </Col>\r\n                                }\r\n\r\n                                { //se tiver descricao\r\n                                  opcao.descricao && <>\r\n                                  <Col xs={12} md={12} lg={2}>\r\n                                  </Col>\r\n                                  <Col xs={12} md={12} lg={10} className=\"colDescricaoAdicional\">\r\n                                    <FormLabel>{opcao.descricao}</FormLabel>\r\n                                  </Col>\r\n                                  </>\r\n                                }\r\n                                <Divider/>\r\n                              </span>\r\n                            ))}\r\n                          </FormGroup>)\r\n                        : grupo.adicional === 3 \r\n                          ?  (<FormGroup aria-label={grupo.id} name={grupo.id} style={{\"marginBottom\": \"5em\"}}>\r\n                          {grupo.opcoes.map( (opcao, index2) => (\r\n                            <span key={opcao.id} className=\"camposAddRemoveAdicionaisQuantitativos opcaoIndividual row\" >\r\n                              <Col xs={4} md={3} lg={2} className=\"colOpcaoAdicional\">\r\n\r\n                                <TextField\r\n                                  // inputProps={{\r\n                                  //   class:\"InputQuantidadeDigitavel\"\r\n                                  // }}\r\n                                  className= \"InputQuantidadeDigitavel\"\r\n                                  size=\"small\"\r\n                                  label=\"Quantidade\"\r\n                                  defaultValue={opcao.quantidade}\r\n                                  onChange={(e) => {\r\n                                    e.target.value = e.target.value.replace(/([^\\d])+/gim, '');\r\n                                    if(!e.target.value){\r\n                                      grupo.quantidade -= opcao.quantidade\r\n                                      opcao.quantidade = 0\r\n                                    }else{\r\n                                        grupo.quantidade -= opcao.quantidade\r\n                                        opcao.quantidade = parseInt(e.target.value)\r\n                                        grupo.quantidade += opcao.quantidade\r\n                                      } \r\n                                      // if(!e.target.value ){\r\n                                      //   opcao.quantidade = 0\r\n                                      //   grupo.quantidade = 0\r\n                                      // }\r\n                                      console.log(\"grupo quantidade\" + grupo.quantidade)\r\n                                      console.log(\"opcao quantidade\" + opcao.quantidade)\r\n                                      if(grupo.quantidade < grupo.quantidadeMinima || grupo.quantidade > grupo.quantidadeMaxima){\r\n                                        document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.add(\"Mui-disabled\")                                         \r\n                                      }else{\r\n                                        document.getElementsByClassName(`#butaoDo${grupo.id}`)[0].classList.remove(\"Mui-disabled\")                                           \r\n                                      }\r\n                                  }}\r\n                                  type=\"number\"\r\n                                  InputLabelProps={{\r\n                                    shrink: true,\r\n                                  }}\r\n                                  variant=\"outlined\"\r\n                                />\r\n                              </Col>\r\n                              <Col xs={5} md={6} lg={7} className=\"colNomeAdicional\"><FormLabel>{opcao.nome}</FormLabel> </Col>\r\n\r\n                              { //se tiver valor\r\n                                <Col xs={3} md={3} lg={3} className=\"colValorAdicional\">\r\n                                  {(opcao.valor || opcao.valor > 0) &&  <FormLabel>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(opcao.valor)}</FormLabel>}\r\n                                </Col>\r\n                              }\r\n\r\n                              { //se tiver descricao\r\n                                opcao.descricao && <>\r\n                                <Col xs={12} md={12} lg={2}>\r\n                                </Col>\r\n                                <Col xs={12} md={12} lg={10} className=\"colDescricaoAdicional\">\r\n                                  <FormLabel>{opcao.descricao}</FormLabel>\r\n                                </Col>\r\n                                </>\r\n                              }\r\n                              <Divider/>\r\n                            </span>\r\n                          ))}\r\n                        </FormGroup>)\r\n                        : null\r\n                  }\r\n\r\n                  \r\n\r\n\r\n                  <span style={{\"display\": \"none\"}}>\r\n                    {\r\n                      setTimeout(() => {\r\n                        if(document.getElementById(`Step${activeStep}`) && ScrollAtivo){\r\n                          window.scrollTo(0, document.getElementById(`Step${activeStep}`)?.offsetTop-70)\r\n                        }\r\n                      }, 300)\r\n                    }\r\n                  </span>\r\n                  \r\n\r\n                  {\r\n                    activeStep !== produtoSelecionado.opcoes.length\r\n                    && <div className={classes.actionsContainer} id=\"BotaoDeAcoes\">\r\n                          <div>\r\n                            <Button\r\n                              onClick={handleBack}\r\n                              className={classes.button}\r\n                            >\r\n                              Voltar\r\n                          </Button>\r\n                            <Button\r\n                              variant=\"contained\"\r\n                              color=\"primary\"\r\n                              onClick={() => {   \r\n                                setScrollAtivo(true)              \r\n                                if((grupo.quantidadeMaxima === null || grupo.quantidade <= grupo.quantidadeMaxima) && (grupo.quantidadeMinima === null || grupo.quantidade >= grupo.quantidadeMinima)){\r\n                                  setProdutoSelecionado(produtoSelecionado)\r\n                                  setActiveStep((prevActiveStep) => prevActiveStep + 1)\r\n                                }else if(grupo.quantidade > grupo.quantidadeMaxima){\r\n                                  alertStart(\"Voc ultrapassou quantidade maxima\", \"warning\")\r\n                                }else if(grupo.quantidade < grupo.quantidadeMinima){\r\n                                  alertStart(\"Voc tem uma quantidade minima de escolhas\", \"warning\")\r\n                                }else{\r\n                                  Sentry.captureMessage(localStorage.getItem('versao')+`algum erro em relao aos adicionais nao identificado - ${aplicativoDados?.appNome}`);\r\n                                  alertStart(\"algum erro em relao aos adicionais nao identificado\", \"warning\")\r\n                                }                 \r\n                              }}\r\n                              className={classes.button + ` #butaoDo${grupo.id} ` + ((((grupo.quantidadeMinima || grupo.adicional == 0) && (grupo.quantidade < grupo.quantidadeMinima)) || (grupo.adicional == 0 && grupo.quantidade == 0)) ? ' Mui-disabled ' : '') }\r\n                            > \r\n                              {(activeStep === (produtoSelecionado.opcoes.length - 1)) ? 'Finalizar' : 'Proximo'}\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                  }\r\n\r\n\r\n                </StepContent>\r\n              </Step>\r\n            ))}\r\n          </Stepper>)\r\n          : null}\r\n\r\n\r\n          \r\n\r\n          {activeStep === produtoSelecionado.opcoes.length && (\r\n            <Paper id={`Step${produtoSelecionado.opcoes.length}`} square elevation={0} className={classes.resetContainer}>\r\n\r\n              \r\n              <Col xs={12} md={12} lg={12}>\r\n                <Typography style={{\"textAlign\": \"center\"}}>Quantos desse produto?</Typography>\r\n              </Col>\r\n              <Col xs={12} md={12} lg={12} className=\"colOpcaoAdicionalProduto\">\r\n\r\n\r\n              <ButtonGroup>\r\n                <Button\r\n                  aria-label=\"reduce\"\r\n                  onClick={()  => {\r\n                    if(quantidade > 1){\r\n                      setQuantidade(quantidade-1)\r\n                    }\r\n                  }}\r\n                  style={{\"background\":\"#dc3545\", \"color\":\"white\"}}\r\n                >\r\n                  <RemoveIcon fontSize=\"small\" />\r\n                </Button>\r\n\r\n                <Button\r\n                  aria-label=\"increase\"\r\n                  \r\n                >\r\n                   <span>{quantidade}</span>\r\n                </Button>\r\n\r\n\r\n                <Button\r\n                  aria-label=\"increase\"\r\n                  style={{\"background\":\"#28a745\", \"color\":\"white\"}}\r\n                  onClick={() => {setQuantidade(quantidade+1)}}\r\n                >\r\n                  <AddIcon fontSize=\"small\" />\r\n                </Button>\r\n              </ButtonGroup>\r\n\r\n              \r\n                {/* <Button onClick={()  => {\r\n                  if(quantidade > 1){\r\n                    setQuantidade(quantidade-1)\r\n                  }\r\n                }} color=\"secondary\">\r\n                  <RemoveCircleIcon></RemoveCircleIcon>\r\n                </Button>\r\n\r\n                <span>{quantidade}</span>\r\n\r\n                <Button onClick={() => {setQuantidade(quantidade+1)}} color=\"primary\">\r\n                  <AddCircleIcon></AddCircleIcon>\r\n                </Button> */}\r\n\r\n\r\n              </Col>\r\n\r\n              {produtoSelecionado.permiteObservacao\r\n              ? (<>\r\n                <Col xs={12} md={12} lg={12} style={{\"marginTop\": \"1em\"}}>\r\n                  <Typography style={{\"textAlign\": \"center\"}}>Alguma observao?</Typography>\r\n                </Col>\r\n                <Col xs={12} md={12} lg={12} style={{\"marginBottom\": \"1em\"}}>\r\n                  <TextField style={{\"margin\": \"0\"}}\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  fullWidth\r\n                  value={observacao}\r\n                  onChange={(e) => {setObservacao(e.target.value)}}\r\n                  id=\"observacaoPedido\"\r\n                  label=\"Observao\"\r\n                  name=\"observacaoPedido\"\r\n                  type=\"text\"\r\n                  ></TextField>\r\n                </Col>\r\n              </>)\r\n              : null}\r\n\r\n\r\n              {\r\n                /*activeStep === 0 && <Button onClick={handleBack} className={classes.button}>\r\n                  Voltar\r\n                </Button>\r\n                \r\n                <Button onClick={resetarAdicionais} className={classes.button}>\r\n                  Voltar\r\n                </Button>\r\n              */\r\n              }\r\n\r\n\r\n              \r\n              \r\n              \r\n\r\n              <Button onClick={voltar} className={classes.button}>\r\n                Cancelar\r\n              </Button>\r\n\r\n              {\r\n                activeStep > 0 &&\r\n                <Button onClick={handleBack} className={classes.button}>\r\n                  Voltar\r\n              </Button>\r\n              }\r\n\r\n              <Button\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                id=\"tag-manager-add-cart\"\r\n                onClick={adicionarCarrinho}\r\n                className={classes.button}\r\n              >\r\n                Adicionar <span className={\"valorFinalizarPedido\"} style={{\"color\":\"#000000de\"}}>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(calcularValorProduto())}</span>\r\n            </Button>\r\n            </Paper>\r\n          )}\r\n\r\n  \r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/payCard.bb8f3459.png\";","export default __webpack_public_path__ + \"static/media/success.5b827aef.gif\";","import React, {useState} from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport {Card,  Row, Col } from 'react-bootstrap';\r\nimport flatCard from '../../assets/payCard.png';\r\nimport gifSuccess from '../../assets/success.gif';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nexport default function Creditcardweb(props) {\r\n  const { success, appName, tokenEstabelecimentoPagSeguro, idEstabelecimento, clienteId, corPrincipal } = useParams() \r\n  \r\n  \r\n  const search = props.location.search;\r\n  const params = new URLSearchParams(search); \r\n\r\n  const [param1, setParam1] = useState(params.get('app_name'));\r\n  const [param2, setParam2] = useState(params.get('token_estabelecimento'));\r\n  const [param3, setParam3] = useState(params.get('idEstabelecimento'));\r\n  const [param4, setParam4] = useState(params.get('cliente_id'));\r\n  const [param5, setParam5] = useState(params.get('cor_principal'));\r\n\r\n  const [erros, setErros] = useState('');\r\n  \r\n      \r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n  const history = useHistory();\r\n\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n  const alertStart = (msg, tipo) => {\r\n    setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n\r\n  const alertClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n        return;\r\n    }\r\n    setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n  };\r\n\r\n\r\n  function enviarFormulario(e){\r\n    e.preventDefault()\r\n\r\n    var nome = document.getElementById(\"name\").value;\r\n    var cardnumber = document.getElementById(\"number\").value;\r\n    var expirationdateMonth = document.getElementById(\"validationMonth\").value;\r\n    var expirationdateYear = document.getElementById(\"validationYear\").value;\t\r\n    var securitycode = document.getElementById(\"code\").value;\r\n\r\n    var url_string = window.location.href; //window.location.href\r\n    var url = new URL(url_string);\r\n\r\n\r\n    var publicKey = obterPublicKey(param2, function(publicKey){\r\n      return generateKeyPagSeguro(publicKey, nome, cardnumber, expirationdateMonth, expirationdateYear, securitycode)\r\n    }); //tokenLoja\r\n\r\n    /*var keyPagSeguro = generateKeyPagSeguro(publicKey, nome, cardnumber, expirationdateMonth, expirationdateYear, securitycode);\r\n\r\n    if(keyPagSeguro != null){\r\n      createReturnObject(keyPagSeguro, param1, param2, param3, param4);\r\n    }else{\r\n      alert(\"No foi possvel criar o carto de crdito\");\r\n      //mostrar mensagem de erro\r\n    }*/\r\n    \r\n\r\n    //window.location.href = \"http://telaTeste.html?name=\" + nome + \"&card=\" + cardnumber;\r\n    //document.getElementById(\"formulario\").submit();\r\n\r\n  }\r\n\r\n  function resultSuccessPublicKey(objWithPublickKey, callbackSuccess){\r\n    var keyPagSeguro = callbackSuccess(objWithPublickKey.publicKey);\r\n\r\n    if(keyPagSeguro != null){\r\n      createReturnObject(keyPagSeguro, param1, param2, param3, param4);\r\n    }else{\r\n      setErros(\"No foi possvel criar o carto de crdito (key)\")\r\n      alertStart(\"No foi possvel criar o carto de crdito (key)\", \"warning\")\r\n\r\n    }\r\n    \r\n  }\r\n\r\n  function resultFailtPublicKey(){\r\n    //exibirMensagem de erro\r\n    setErros(\"No foi possvel criar o carto de crdito\")\r\n    alertStart(\"No foi possvel criar o carto de crdito\", \"warning\")\r\n  }\r\n\r\n  function obterPublicKey(tokenLoja, callbackSuccess){\r\n    var http = new XMLHttpRequest();\r\n    var url = 'https://f3f3f6657b48.ngrok.io/clientefiel/rest/';\r\n    var method = \"comum/pagseguro/publickey/\"+tokenLoja;\r\n\r\n    //http.setRequestHeader('Content-Type', 'application/json');\r\n    http.onreadystatechange = function() {\r\n        if (this.readyState == 4 && this.status == 200) {\r\n          //alert(http.responseText);\r\n          var objWithPublickKey = JSON.parse(http.responseText);\r\n          resultSuccessPublicKey(objWithPublickKey, callbackSuccess);\r\n      }else if(this.readyState == 4 && this.status != 200){\r\n        resultFailtPublicKey();\r\n      }\r\n    };\r\n    http.open('GET', url + method, true);\r\n    http.send(null);\r\n\r\n  }\r\n\r\n  function createReturnObject(keyPagSeguro, appName, tokenEstabelecimento, idEstabelemento, clienteId){\r\n    var valorRetorno = JSON.stringify(\r\n      {\r\n       store: false,\r\n       key_card_token: keyPagSeguro,\r\n       app_name: appName,\r\n       estabelecimento_id: idEstabelemento,\r\n       cliente_id: clienteId\r\n      });\r\n\r\n    valorRetorno = btoa(btoa(valorRetorno));\r\n\r\n    window.location.href = `http://${window.location.host}/card.html?creditcardweb=${valorRetorno}` \r\n  }\r\n\r\n  function generateKeyPagSeguro(publicKey, nome, cardnumber, expirationdateMonth, expirationdateYear, securitycode){\r\n\r\n    var card = window.PagSeguro.encryptCard({\r\n        publicKey: publicKey,\r\n        holder: nome,\r\n        number: cardnumber,\r\n        expMonth: expirationdateMonth,\r\n        expYear: expirationdateYear,\r\n       securityCode: securitycode\r\n    });\r\n\r\n    if(card.hasErrors){\r\n      // mostrar Erros\r\n      setErros(\"Erro\")\r\n      return null;\r\n    }\r\n    console.log(card);\r\n    var encrypted = card.encryptedCard;\r\n    return encrypted;\r\n  }\r\n\r\n\r\n\r\n  const handleCard = () => {\r\n    const data = {\r\n      publicKey: tokenEstabelecimentoPagSeguro,\r\n      holder: document.getElementById(\"name\").value,\r\n      number: document.getElementById(\"number\").value,\r\n      expMonth: document.getElementById(\"validationMonth\").value,\r\n      expYear: document.getElementById(\"validationYear\").value, \r\n      securityCode: document.getElementById(\"code\").value,\r\n    }\r\n    var card = window.PagSeguro.encryptCard(data);\r\n\r\n    console.log(card)\r\n\r\n    if(card?.errors?.length){\r\n      const error = card.errors[0];\r\n      console.log('error', error)\r\n      switch (error.code) {\r\n        case \"INVALID_NUMBER\":\r\n            alertStart(\"Nmero do carto est invalido\", \"error\")\r\n          break;\r\n        case \"INVALID_SECURITY_CODE\":\r\n            alertStart(\"Cdigo de segurana est invalido\", \"error\")\r\n          break;\r\n        case \"INVALID_NUMBER\":\r\n            alertStart(\"Nmero do carto est invalido\", \"error\")\r\n          break;\r\n\r\n        case \"INVALID_EXPIRATION_MONTH\":\r\n            if(data.expMonth.length < 2 || data.expMonth.length > 2)\r\n              alertStart(\"Ms de validade est invalido. A quantidade de digitos  2 !\", \"error\")\r\n            else\r\n            alertStart(\"Ms de validade est invalido\", \"error\")\r\n          break;\r\n\r\n        case \"INVALID_EXPIRATION_YEAR\":\r\n            if(data.expYear.length < 2 || data.expYear.length > 4)\r\n              alertStart(\"Ano de validade est invalido. A quantidade de digitos  4 !\", \"error\")\r\n            else\r\n              alertStart(\"Ano de validade est invalido\", \"error\")\r\n          break;\r\n        case \"INVALID_HOLDER\":\r\n            alertStart(\"Nome impresso no carto est invalido\", \"error\")\r\n          break;\r\n        default:\r\n            alertStart(error.message, \"error\")\r\n          break;\r\n      }\r\n    }else {\r\n      const encrypted = card.encryptedCard;\r\n      // history.push(`/creditcardweb/success?token=${btoa(btoa(btoa(encrypted)))}`)\r\n      history.push(`/creditcardweb/success?token=${btoa(btoa(btoa(card)))}`)\r\n      console.log()\r\n    }\r\n      \r\n      \r\n    \r\n    \r\n    \r\n\r\n\r\n  }\r\n\r\n  if(success){\r\n    return (\r\n      <Row style={{\r\n        \"position\": \"fixed\",\r\n        \"display\": \"flex\",\r\n        \"margin\": 0,\r\n        \"padding\": 0,\r\n        \"height\": \"100vh\",\r\n        \"background\": \"#32bc43\",\r\n        \"width\": \"100vw\",\r\n      }}>\r\n        <Col  xs={12} md={12} lg={12}  style={{\r\n          \"margin\": 0,\r\n          \"padding\": 0,\r\n          \"display\": \"flex\",\r\n          \"justifyContent\": \"center\",\r\n          \"alignSelf\": \"center\"\r\n        }}>\r\n          <img src={gifSuccess}/>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n  \r\n  return (\r\n      <Row style={{\"padding\": \"2em 2em 0 2em\", \"margin\": \"0\"}}>\r\n        <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n            <Alert onClose={alertClose} severity={alert.tipo}>\r\n              {alert.mesangem}\r\n            </Alert>\r\n        </Snackbar>\r\n\r\n        \r\n        <Col  xs={12} md={12} lg={12}  >\r\n          <TextField \r\n            style={{\"backgroundColor\": \"white\"}}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"name\"\r\n            label=\"Nome Impresso no Carto\"\r\n            name=\"name\"\r\n          />\r\n        </Col>\r\n\r\n        <Col  xs={12} md={12} lg={12}  >\r\n          <TextField \r\n            style={{\"backgroundColor\": \"white\"}}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            type={\"text\"}\r\n            pattern=\"[0-9]*\"\r\n            fullWidth\r\n            id=\"number\"\r\n            label=\"Numero do Carto\"\r\n            name=\"number\"\r\n          />\r\n        </Col>\r\n        \r\n        <Col  xs={6} md={6} lg={6}  >\r\n          \r\n          <TextField \r\n            type=\"text\" pattern=\"[0-9]*\" \r\n            style={{\"backgroundColor\": \"white\"}}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"validationMonth\"\r\n            label=\"Mes\"\r\n            name=\"validationMonth\"\r\n          />\r\n        </Col>\r\n        <Col  xs={6} md={6} lg={6}  >\r\n          <TextField \r\n            style={{\"backgroundColor\": \"white\"}}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            type=\"text\" pattern=\"[0-9]*\" \r\n            id=\"validationYear\"\r\n            label=\"Ano\"\r\n            name=\"validationYear\"\r\n          />\r\n        </Col>\r\n        <Col  xs={12} md={12} lg={12}  >\r\n          <TextField \r\n            style={{\"backgroundColor\": \"white\"}}\r\n            type=\"text\" pattern=\"[0-9]*\" \r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"code\"\r\n            label=\"Cdigo\"\r\n            name=\"code\"\r\n          />\r\n        </Col>\r\n        <Col  xs={12} md={12} lg={12}  >\r\n          <Typography> {erros} </Typography>\r\n        </Col>\r\n        <Col  xs={12} md={12} lg={12} style={{\"zIndex\": 2}} >\r\n          <Button fullWidth onClick={enviarFormulario} style={{\"color\": \"white\", \"backgroundColor\": \"#28a745\"}}>\r\n            Cadastrar\r\n          </Button>\r\n        </Col>\r\n        {/* <Col  xs={12} md={12} lg={12} style={{\"zIndex\": 2}} >\r\n          <Button fullWidth onClick={handleBack} style={{\"color\": \"white\", \"backgroundColor\": \"#6c757d\", \"marginTop\":\"1em\"}}>\r\n            Voltar\r\n          </Button>\r\n        </Col> */}\r\n        <Col  xs={12} md={12} lg={12} style={{\"zIndex\": 1}}>\r\n          <img src={flatCard} style={{\r\n                \"width\": \"100%\",\r\n          }}/>\r\n        </Col>\r\n      </Row>\r\n  );\r\n}","import React from 'react';\r\nimport './styles.css';\r\n\r\nexport default function Offline() {\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Offline</h1>\r\n      \r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './styles.css';\r\nimport Cabecalho from '../Global/cabecalho';\r\nimport Rodape from '../Global/rodape';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\n\r\nimport {\r\n  ComumCep,\r\n  CadastrarEnderecoCliente,\r\n  ObterCardapioCompletoV1, \r\n  ObterCardapioPedidoMesa,\r\n  identificarEstabelecimentoSelecionado\r\n} from '../../services/functions';\r\nimport * as Sentry from \"@sentry/react\";\r\n\r\nimport api from '../../services/api';\r\n\r\nimport {  Row, Col } from 'react-bootstrap';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport enderecosVazios from '../../assets/endereco-flat.svg';\r\n\r\nimport PersonPinCircleIcon from '@material-ui/icons/PersonPinCircle';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\n\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\n/* modal */\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\n//import Loading from '../loading';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  rootAlert: {\r\n    zIndex: theme.zIndex.drawer + 9999,\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  rootForm: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1, 0),\r\n      //width: '25ch',\r\n    },\r\n  },\r\n  alertIndex: {\r\n    zIndex: '999999',\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 999,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nfunction qtdEnderecos(enderecos){\r\n  let qtd = 0;\r\n  enderecos.forEach(endereco => {\r\n    if(endereco.ativo === true){\r\n      qtd++;\r\n    }\r\n  });\r\n  return qtd;\r\n}\r\n\r\n\r\nexport default function Estabelecimento() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  \r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n  const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))\r\n  const [enderecos, setEnderecos] = useState(usuarioLogado.cliente?.enderecos ? usuarioLogado.cliente.enderecos : []);  \r\n  const qtdEnd = qtdEnderecos(enderecos)\r\n\r\n  const estabelecimentoAtual = JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\"))\r\n  const enderecoAtual = JSON.parse(localStorage.getItem(\"enderecoAtualCF\"))\r\n  const [loading, setLoading] = React.useState(false);\r\n  \r\n  //console.log(\"aplicativoDados\", aplicativoDados)\r\n  //console.log(\"enderecos\", enderecos)\r\n\r\n\r\n  // dados para adicionar cep\r\n  const [temCEP, setTemCEP] = React.useState(false);\r\n  \r\n  const [cidadesNaoSeiCep, setCidadesNaoSeiCep] = React.useState([]);\r\n  const [bairrosCepUnico, setBairrosCepUnico] = React.useState([]);\r\n  const [bairroCepUnicoSelecionado, setBairroCepUnicoSelecionado] = React.useState('');\r\n  const [cep, setCep] = React.useState('');\r\n  const [uf, setUf] = React.useState('');\r\n  const [cidade, setCidade] = React.useState('');\r\n  const [bairro, setBairro] = React.useState('');\r\n  const [rua, setRua] = React.useState('');\r\n  const [numero, setNumero] = React.useState('');\r\n  const [complemento, setComplemento] = React.useState('');\r\n  const [referencia, setReferencia] = React.useState('');\r\n\r\n  //alerts    \r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n\r\n  function Alert(props) {\r\n      return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n  \r\n  const alertStart = (msg, tipo) => {\r\n      setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n\r\n  const alertClose = (event, reason) => {\r\n      if (reason === 'clickaway') {\r\n          return;\r\n      }\r\n      setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n  };\r\n\r\n  const [openAdicionarEndereco, setOpenAdicionarEndereco] = React.useState(false);\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  const closeAdicionarEndereco = () =>{\r\n    setOpenAdicionarEndereco(false)    \r\n    setTimeout(() => {\r\n      setTemCEP(false)\r\n    }, 300);\r\n  }\r\n\r\n  const removerEndereco = (index) => {\r\n    try {\r\n      setLoading(true)\r\n      enderecos[index].ativo = false\r\n      const data = enderecos[index]\r\n      data.idCliente = usuarioLogado.cliente.id\r\n      data.idEstabelecimento = estabelecimentoAtual.id\r\n      data.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n\r\n      if(enderecoAtual.id === enderecos[index].id){\r\n        localStorage.setItem('enderecoAtualCF', JSON.stringify({}))\r\n      }\r\n      const response = CadastrarEnderecoCliente(data, aplicativoDados)\r\n  \r\n      if(response.retornoErro){\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\")\r\n      }else{ \r\n        //tudo certo\r\n        // DEU CERTO\r\n        usuarioLogado.cliente.enderecos[index] = response\r\n        localStorage.setItem('usuarioCF', JSON.stringify(usuarioLogado))\r\n        \r\n        setEnderecos(usuarioLogado.cliente.enderecos)\r\n        alertStart(\"Endereo Removido!\", \"success\")\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions CadastrarEnderecoCliente ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n\r\n    setLoading(false)\r\n    \r\n  }\r\n\r\n  const adicionarEndereco = async () => {\r\n\r\n    try {\r\n      \r\n  \r\n      \r\n\r\n      const data = {\r\n        \"idCliente\": usuarioLogado.cliente.id,\r\n        \"idEstabelecimento\": estabelecimentoAtual.id,\r\n        \"cep\": cep,\r\n        \"uf\": uf,\r\n        \"cidade\": cidade,\r\n        \"bairro\": bairro,\r\n        \"logradouro\": rua,\r\n        \"numero\": numero,\r\n        \"complemento\": complemento,\r\n        \"referencia\": referencia,\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }\r\n\r\n      \r\n      if(aplicativoDados.tipoEntregaBairro == 1){\r\n        data.bairroEspecifico = 1\r\n      }else{\r\n        data.bairroEspecifico = 0\r\n      }\r\n\r\n      if(!cep){\r\n        alertStart(\"Necessario o preenchimento do CEP!\", \"warning\")     \r\n        document.getElementById(\"cadastroCep\").focus()\r\n        return false\r\n      }else if(!uf){\r\n        alertStart(\"Necessario o preenchimento da sigla do estado!\", \"warning\")     \r\n        document.getElementById(\"cadastroUf\").focus()\r\n        return false\r\n      }else if(!cidade){\r\n        alertStart(\"Necessario o preenchimento da cidade!\", \"warning\")     \r\n        document.getElementById(\"cadastroCidade\").focus()\r\n        return false\r\n      }else if(!bairro){\r\n        alertStart(\"Necessario o preenchimento do bairro!\", \"warning\")     \r\n        document.getElementById(\"cadastroBairro\").focus()\r\n        return false\r\n      }else if(!rua){\r\n        alertStart(\"Necessario o preenchimento da rua!\", \"warning\")     \r\n        document.getElementById(\"cadastroRua\").focus()\r\n        return false\r\n      }else if(!numero){\r\n        alertStart(\"Necessario o preenchimento do numero!\", \"warning\")     \r\n        document.getElementById(\"cadastroNumero\").focus()\r\n        return false\r\n      }\r\n      // }else if(!complemento){\r\n      //   alertStart(\"Necessario o preenchimento do complemento!\", \"warning\")     \r\n      //   document.getElementById(\"cadastroComplemento\").focus()\r\n      //   return false\r\n      // }\r\n      setLoading(true)\r\n\r\n      const response = await CadastrarEnderecoCliente(data, aplicativoDados)\r\n\r\n      if(response.retornoErro){\r\n          //algum erro\r\n          alertStart(response.mensagem, \"error\")\r\n          setLoading(false)\r\n          closeAdicionarEndereco()\r\n      }else{ \r\n          //tudo certo\r\n          // DEU CERTO\r\n\r\n          /*const newEnderecos = enderecos\r\n          newEnderecos.push(retorno.data)\r\n          //console.log(\"newEnderecos\", newEnderecos)\r\n          setEnderecos(newEnderecos)*/\r\n          alertStart(response.mensagem, \"success\")     \r\n\r\n\r\n          usuarioLogado.cliente.enderecos.push(response)\r\n          localStorage.setItem('usuarioCF', JSON.stringify(usuarioLogado))\r\n          \r\n          buscarCardapio(response)\r\n          \r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions buscarCardapioOffline ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n        setLoading(false)\r\n    }\r\n  \r\n\r\n    \r\n  }\r\n\r\n\r\n\r\n  async function calcularValorTotal(){\r\n    const cardapio = JSON.parse(localStorage.getItem(\"cardapioCF\"))\r\n    const carrinho = JSON.parse(localStorage.getItem(\"carrinhoCF\"))\r\n    const enderecoAtual = JSON.parse(localStorage.getItem(\"enderecoAtualCF\"))\r\n    \r\n    \r\n\r\n    let valorTotalItens = 0;\r\n    let valorProdutosPromocionais = 0;\r\n\r\n    carrinho.pedido.itens.forEach(item => {\r\n      valorTotalItens += item.valorProdutoHistorico      \r\n      if(item.produto.promocional){\r\n        valorProdutosPromocionais += item.valorProdutoHistorico\r\n      }\r\n    })\r\n\r\n    //console.log(\"valorProdutosPromocionais\", valorProdutosPromocionais)\r\n    //console.log(\"valorPrduto\", valorTotalItens)\r\n    \r\n    \r\n\r\n\r\n    let taxaDeEntrega = 0\r\n    if(enderecoAtual?.id !== \"retirada\" && !(valorTotalItens > cardapio.minimoEntregaGratis && cardapio.minimoEntregaGratis > 0)){ // NAO FOR RETIRADA NO LOCAL\r\n      taxaDeEntrega = carrinho.pedido.valorEntrega ? carrinho.pedido.valorEntrega : enderecoAtual.taxaEntrega ? enderecoAtual.taxaEntrega : 0\r\n    }\r\n\r\n    let valorFinalProdutos = 0;\r\n    if(cardapio.percentualDesconto && (cardapio.valorDesconto === 0 || !cardapio.valorDesconto)){\r\n      //desconto percetual - apenas em produtos nao promocionais\r\n      var descontoPercentual = ((valorTotalItens - valorProdutosPromocionais) * cardapio.percentualDesconto) / 100\r\n\r\n      //maximo que pode dar de desconto\r\n      if(cardapio.maximoDesconto && descontoPercentual > cardapio.maximoDesconto){\r\n        descontoPercentual = cardapio.maximoDesconto\r\n      }\r\n      \r\n\r\n      carrinho.percentualDescontoValor = descontoPercentual\r\n      valorFinalProdutos = ( valorTotalItens - descontoPercentual ) \r\n\r\n    }else{\r\n      //desconto fixo - apenas em produtos nao promocionais\r\n      var descontoFixo = carrinho.pedido.valorDesconto\r\n\r\n      //maximo que pode dar de desconto\r\n      if(cardapio.maximoDesconto && descontoFixo > cardapio.maximoDesconto){\r\n        descontoFixo = cardapio.maximoDesconto\r\n      }\r\n\r\n      // let produtosNaoPromocionais = valorTotalItens - valorProdutosPromocionais\r\n      // produtosNaoPromocionais -= descontoFixo      \r\n      // valorFinalProdutos = valorProdutosPromocionais + (produtosNaoPromocionais > 0 ? produtosNaoPromocionais : 0)    \r\n      valorFinalProdutos = valorTotalItens - descontoFixo   \r\n\r\n    }\r\n\r\n    //console.log(\"valorFinalProdutos\", valorFinalProdutos)\r\n    if(valorFinalProdutos < 0){\r\n      carrinho.pedido.valorTotal = taxaDeEntrega\r\n    }else{\r\n      carrinho.pedido.valorTotal = valorFinalProdutos + taxaDeEntrega\r\n    }\r\n\r\n    if(carrinho.pedido.valorTotal < 0){\r\n      carrinho.pedido.valorTotal = 0.0\r\n    }\r\n\r\n    localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinho)) \r\n  }\r\n\r\n  const buscarCardapio = async (endereco) => {  \r\n    setLoading(true)\r\n\r\n    try {\r\n      let data = {\r\n        \"idCliente\": usuarioLogado.cliente.id,\r\n        \"idEstabelecimento\": estabelecimentoAtual.id,\r\n        \"idEndereco\": endereco.id,\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      }              \r\n\r\n      \r\n      const mesaLogada = !!JSON.parse(localStorage.getItem('usuarioPedidoMesaCF'))?.logado\r\n      const response = mesaLogada ? await ObterCardapioPedidoMesa(data, aplicativoDados) : await ObterCardapioCompletoV1(data, aplicativoDados)\r\n\r\n        if(response.retornoErro){\r\n            //algum erro\r\n            setLoading(false)\r\n          alertStart(response.mensagem, \"error\")\r\n        }else{ \r\n            //tudo certo\r\n            const retorno = response\r\n            if(!JSON.parse(localStorage.getItem('usuarioCF')).logado){\r\n              retorno.id = \"usuarioDeslogado\"\r\n            }\r\n            const carrinhoRetorno = JSON.parse(localStorage.getItem(\"carrinhoCF\")) \r\n            const cardapio = JSON.parse(localStorage.getItem(\"cardapioCF\"))\r\n            \r\n            \r\n    \r\n            carrinhoRetorno.valorMinimoPedido = retorno.valorMinimoPedido\r\n            carrinhoRetorno.valorDesconto = retorno.valorDesconto\r\n            carrinhoRetorno.percentualDesconto = retorno.percentualDesconto\r\n            carrinhoRetorno.minimoEntregaGratis = retorno.minimoEntregaGratis\r\n            carrinhoRetorno.maximoPedidoComDesconto = retorno.maximoPedidoComDesconto\r\n            carrinhoRetorno.maximoDesconto = retorno.maximoDesconto\r\n            carrinhoRetorno.cupomDesconto = retorno.cupomDesconto\r\n      \r\n            \r\n            let enderecoSelecionadoNoRetorno = retorno?.enderecos[0]\r\n            if(retorno.enderecos.length > 1){\r\n              for(let j = 0; j < retorno.enderecos.length; j++){\r\n                if(endereco.id === retorno.enderecos[j].id){\r\n                  enderecoSelecionadoNoRetorno = retorno.enderecos[j]\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n            const produtosDoCarrinho = JSON.parse(localStorage.getItem('backupItensCarrinhoCF'))\r\n            \r\n            carrinhoRetorno.pedido = {\r\n              \"entregaImediata\": false,\r\n              \"formaPagamento\": {},\r\n              \"itens\": produtosDoCarrinho?.length > 0 ? produtosDoCarrinho : [],\r\n              \"taxaEntrega\": enderecoSelecionadoNoRetorno ? enderecoSelecionadoNoRetorno.taxaEntrega : null,\r\n              //\"tipoDesconto\": null,\r\n              \"tokenCartaoCredito\": null,\r\n              \"troco\": null,\r\n              \"valorDesconto\": carrinhoRetorno.valorDesconto,\r\n              \"valorEntrega\": enderecoSelecionadoNoRetorno ? enderecoSelecionadoNoRetorno.taxaEntrega : null,\r\n              \"valorTotal\": enderecoSelecionadoNoRetorno ? enderecoSelecionadoNoRetorno.taxaEntrega : null,\r\n              \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n            }\r\n      \r\n            if(!retorno?.cupomDesconto?.codigoCupom){\r\n              retorno.cupomDesconto = cardapio.cupomDesconto\r\n              if(cardapio?.cupomDesconto?.freteGratis){\r\n                carrinhoRetorno.pedido.valorEntrega = 0;\r\n                carrinhoRetorno.pedido.taxaEntrega = 0;\r\n                if(enderecoSelecionadoNoRetorno.bairro){\r\n                  enderecoSelecionadoNoRetorno.taxaEntrega = 0;          \r\n                }\r\n              }\r\n            }\r\n            \r\n            localStorage.setItem(\"cardapioCF\", JSON.stringify(retorno))          \r\n      \r\n            localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(enderecoSelecionadoNoRetorno?.bairro ? enderecoSelecionadoNoRetorno : {}))    \r\n      \r\n            localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno)) \r\n            \r\n            if(produtosDoCarrinho?.length > 0){\r\n              await calcularValorTotal()\r\n            }else{\r\n              if(carrinhoRetorno.pedido.taxaEntrega == -1 && aplicativoDados.estabelecimentos.length > 1){\r\n                history.push(`/estabelecimento`) \r\n                return true\r\n              }\r\n            }\r\n      \r\n            history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n        }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions ObterCardapioPedidoMesa, ObterCardapioCompletoV1 ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n    }\r\n  }\r\n\r\n  const naoSeiCep = async (e) => {\r\n    setLoading(true)\r\n    try {\r\n      await api.post(\"comum/CidadesAtendidasPorAplicativo\", {\"appNome\": aplicativoDados.appNome}, {\r\n        headers: {\"Content-Type\": \"application/json\"}\r\n      }).then(retorno => {\r\n        console.log('CidadesAtendidasPorAplicativo> ', retorno)\r\n        setTemCEP(true)\r\n        setCidadesNaoSeiCep(retorno.data);\r\n      })\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`${aplicativoDados.appNome} - ${error} - CidadesAtendidasPorAplicativo`);\r\n\r\n      alertStart(\"Erro no identificado ao buscar CidadesAtendidasPorAplicativo\", \"error\")   \r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  const alterarCidade = async (e) => {      \r\n    setLoading(true)                        \r\n    try {\r\n      await api.post(\"comum/Bairros\", cidadesNaoSeiCep[e.target.value], {\r\n        headers: { \"Content-Type\": \"application/json\", \"app\": aplicativoDados.appNome}\r\n      }).then(retorno => {\r\n        console.log(\"Bairros\", retorno)\r\n        setBairrosCepUnico(retorno.data)\r\n        setCep(\"00000000\");\r\n        setBairroCepUnicoSelecionado(0)\r\n      })\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`${aplicativoDados.appNome} - ${error} - comum/Bairros`);\r\n\r\n      alertStart(\"Erro no identificado ao buscar Bairros\", \"error\")                                   \r\n    }\r\n    setLoading(false)                        \r\n  }\r\n\r\n  const digitandoCep = async (e) => {\r\n\r\n    try {\r\n      let valorInput = e.target.value\r\n      valorInput = valorInput.replace(/-/g, '')\r\n      valorInput = valorInput.replace(/ /g, '')\r\n      valorInput = valorInput.replace(/\\//g, '')\r\n      \r\n      console.log(\"valorInput\", valorInput)\r\n      if(valorInput.length == 8 ){\r\n        setCep(valorInput)\r\n\r\n        setLoading(true)\r\n        //buscar dados do cep\r\n        const response = await ComumCep(valorInput, aplicativoDados)\r\n    \r\n        if(response.retornoErro){\r\n          //algum erro\r\n          alertStart(response.mensagem, \"error\")\r\n        }else{ \r\n          //tudo certo\r\n          if(response.id || response.logradouro){\r\n            //TEM 1 ENDEREO\r\n            alertClose()\r\n            setBairro(response.bairro)\r\n            setCidade(response.localidade)\r\n            setRua(response.logradouro)\r\n            setUf(response.uf)\r\n            setTemCEP(true)                            \r\n          }else if(response.bairros.length >= 1){\r\n            //CIDADE COM CEP UNICO, TEM VARIOAS BAIRROS\r\n            alertClose()\r\n            setTemCEP(true)\r\n            setBairrosCepUnico(response.bairros)\r\n            \r\n          }else{\r\n            //DEU ERRO, OU NAO EXISTE\r\n            alertStart(\"CEP no encontrado\", \"error\")   \r\n            setCep('')\r\n            document.getElementById(\"cepDigitando\").focus()\r\n\r\n          }\r\n        }\r\n        setLoading(false)\r\n      }\r\n    }\r\n    catch (error) {\r\n        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions digitandoCep ${window.location.hostname} - ${error}`);\r\n        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")   \r\n        setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading &&\r\n        (<Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>)}\r\n\r\n      <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose} className={classes.alertIndex}>\r\n          <Alert onClose={alertClose} severity={alert.tipo}>\r\n          {alert.mesangem}\r\n          </Alert>\r\n      </Snackbar>\r\n        \r\n      <Cabecalho voltar={true} produtoNome={usuarioLogado?.cliente?.nome} ></Cabecalho>\r\n      <div className=\"container container-Estabelecimento\">\r\n        <Row>\r\n          <Col xs={12} md={12} lg={12} >\r\n            <Typography gutterBottom variant=\"h5\" >\r\n              Selecione o endereo para entrega\r\n            </Typography>\r\n          </Col>\r\n\r\n          <Col xs={7} md={7} lg={7} style={{\"alignSelf\": \"center\"}}>            \r\n            {qtdEnd} {qtdEnd > 1 ? \"Endereos cadastrados\" : \"Endereo cadastrado\"} \r\n          </Col>\r\n          <Col xs={5} md={5} lg={5} >            \r\n            <Button variant=\"contained\" onClick={() => { \r\n                setBairrosCepUnico([])\r\n                setBairroCepUnicoSelecionado(null)\r\n                setCep('')\r\n                setUf('')\r\n                setCidade('')\r\n                setBairro('')\r\n                setRua('')\r\n                setNumero('')\r\n                setComplemento('')\r\n                setReferencia('')\r\n                setOpenAdicionarEndereco(true) \r\n              }} style={{\"backgroundColor\": `#28a745`, \"color\":\"white\"}} >\r\n              Adicionar \r\n            </Button>\r\n          </Col>\r\n          \r\n          { enderecos.length\r\n\r\n            //TEM ENDEREO\r\n            ? (enderecos.map( (endereco, index) => (\r\n              endereco.ativo === true ?\r\n                (<React.Fragment key={index}>\r\n                  <Col xs={12} md={6} lg={4} key={index} style={{\"margin\": \"1em 0\"}}  >\r\n                      \r\n                      <Card className={classes.root} style={{\"height\": \"100%\"}}>\r\n                        <CardActionArea  style={{ \"height\": \"calc(100% - 30px)\", \"flexFlow\": \"column-reverse\", \"alignItems\": \"normal\"}}>\r\n                          \r\n                          <Row style={{\"margin\":0,\"textAlign\": \"\", \"width\": \"100%\", \"padding\": \"1em\", \"alignItems\": \"center\"}}>\r\n                            <Col xs={3} md={3} lg={3} style={{\"padding\":0}}>\r\n                              <PersonPinCircleIcon style={{\r\n                                \"width\": \"100%\",\r\n                                \"height\": \"100%\"\r\n                              }}/>\r\n                            </Col>\r\n                            <Col xs={9} md={9} lg={9}>\r\n                              \r\n                              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" >\r\n                              {endereco.cidade} / {endereco.uf}\r\n                              </Typography>\r\n\r\n                              <Typography gutterBottom  component=\"h2\" >                    \r\n                              {endereco.bairro}\r\n                              </Typography>\r\n                              \r\n                              <Typography className={\"StatusEstabelecimento\"} variant=\"body2\"  component=\"p\">\r\n                              {endereco.logradouro} n {endereco.numero}\r\n                              </Typography>\r\n\r\n\r\n                              {endereco.complemento && <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" >\r\n                              {endereco.complemento}\r\n                              </Typography>}\r\n\r\n                              {endereco.referencia && <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" >\r\n                              {endereco.referencia}\r\n                              </Typography>}\r\n\r\n                              \r\n                            </Col>\r\n                          \r\n                          </Row>\r\n                          \r\n                          <CardContent style={{\"padding\": \"0 16px\"}}>\r\n                          \r\n                          </CardContent>\r\n                        </CardActionArea>\r\n                        <CardActions style={{\"padding\":\"0\"}}>\r\n      \r\n                          \r\n                          <Button size=\"small\" className={\"botaoVerde naoArredondado\"} \r\n                            onClick={() =>{\r\n                              buscarCardapio(endereco)\r\n                            }}>\r\n                              Selecionar\r\n                            </Button>\r\n      \r\n                            <Button size=\"small\" className={\"botaoVermelho naoArredondado\"} \r\n                              onClick={() =>{\r\n                                removerEndereco(index)\r\n                            }}>\r\n                              Remover\r\n                            </Button>\r\n                          \r\n                        </CardActions>\r\n                      </Card>\r\n                    </Col>\r\n              </React.Fragment>\r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n              //   <Col xs={12} md={6} lg={4} key={endereco.id} className=\"enderecoAtivo\" style={{\"margin\": \"1em 0\"}}>                \r\n              //   <Card className={classes.root}>\r\n              //     <CardActionArea onClick={() =>{\r\n              //         buscarCardapio(endereco)\r\n              //       }}>                   \r\n              //       <CardContent>\r\n              //         <PersonPinCircleIcon/>\r\n              //         <Typography  variant=\"h6\" component=\"h3\">                    \r\n              //         {endereco.logradouro}\r\n              //         </Typography>\r\n              //         <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n              //         n {endereco.numero}, {endereco.bairro} - {endereco.cidade} / {endereco.uf}\r\n              //         </Typography>\r\n              //       </CardContent>\r\n              //     </CardActionArea>\r\n              //     <CardActions>\r\n              //       <Button size=\"small\" color=\"primary\" onClick={() =>{\r\n              //         buscarCardapio(endereco)\r\n              //       }}>\r\n              //         Selecionar\r\n              //       </Button>\r\n              //       <Button size=\"small\" style={{\"position\": \"absolute\", \"right\": \"3em\", \"color\": \"#dc3545\"}} onClick={() =>{\r\n              //         removerEndereco(index)\r\n              //       }}>\r\n              //         Excluir\r\n              //       </Button>\r\n              //     </CardActions>\r\n              //   </Card>\r\n              // </Col>\r\n              \r\n              ) \r\n              : null             \r\n            )))\r\n            \r\n            //NAO TEM ENDEREO\r\n            : <div className=\"divImageCentroCardapio\" >\r\n                <img alt={\"sem endereos cadastrados\"} src={enderecosVazios} className=\"pretoEBranco\" />\r\n              </div>\r\n          }   \r\n        </Row>\r\n\r\n\r\n        <Dialog\r\n        fullScreen={fullScreen}\r\n        open={openAdicionarEndereco}\r\n        onClose={closeAdicionarEndereco}\r\n        aria-labelledby=\"adicionar-endereco\">\r\n        <DialogTitle id=\"adicionar-endereco\">{\"Adicionar Endereo\"}</DialogTitle>\r\n        <DialogContent>\r\n            <form className={classes.rootForm} noValidate autoComplete=\"off\" name=\"adicionarEndereco\">\r\n              \r\n              {\r\n                temCEP\r\n                //COM CEP\r\n                ?                     \r\n                 (<Row style={{\"textAlign\": \"center\"}}>\r\n                  <Col xs={12} md={12} lg={12}>\r\n                    <Typography gutterBottom variant=\"h5\" >\r\n                      Complete o endereo \r\n                    </Typography>\r\n                  </Col>\r\n                  \r\n                  {\r\n                    (cidadesNaoSeiCep.length > 0 && (cep == \"00000000\" || !cep)) &&\r\n                    (<Col xs={12} md={12} lg={12}>\r\n\r\n                        <FormControl variant=\"outlined\" style={{\"width\": \"100%\", \"marginBottom\": \"1em\"}}>\r\n                          <InputLabel>Selecione a Cidade</InputLabel>\r\n                          <Select                           \r\n                            fullWidth\r\n                            onChange={alterarCidade}\r\n                            label=\"Selecione a Cidade\"\r\n                          >\r\n                            \r\n                             {cidadesNaoSeiCep.map((cidade, index) => (\r\n                                <MenuItem key={cidade.id} value={index}>{cidade.nomeCompleto}</MenuItem>\r\n                              ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                    </Col>)\r\n                  }\r\n\r\n                  {\r\n                    bairrosCepUnico.length > 0 &&\r\n                    (<Col xs={12} md={12} lg={12}>\r\n\r\n                        <FormControl variant=\"outlined\" style={{\"width\": \"100%\", \"marginBottom\": \"1em\"}}>\r\n                          <InputLabel id=\"demo-simple-select-outlined-label\">Selecione o Bairro</InputLabel>\r\n                          <Select\r\n                            labelId=\"demo-simple-select-outlined-label\"\r\n                            id=\"demo-simple-select-outlined\"\r\n                            fullWidth\r\n                            // value={bairroCepUnicoSelecionado == null ? null : bairroCepUnicoSelecionado}\r\n                            onChange={(e) => {\r\n                              console.log(\"bairro selecionei\", bairrosCepUnico[e.target.value])\r\n                              setBairroCepUnicoSelecionado(e.target.value)\r\n                              setUf(bairrosCepUnico[e.target.value]?.cidade?.estado?.sigla)\r\n                              setCidade(bairrosCepUnico[e.target.value]?.cidade?.nome)\r\n                              setBairro(bairrosCepUnico[e.target.value].nome)\r\n                            }}\r\n                            label=\"Selecione o Bairro\"\r\n                          >\r\n                             {bairrosCepUnico.map((bairro, index) => (\r\n                                <MenuItem key={bairro.id} value={index}>{bairro.nome}</MenuItem>\r\n                              ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                    </Col>)\r\n                  }\r\n\r\n                  { ((bairroCepUnicoSelecionado != null || bairrosCepUnico.length === 0 ) && (cidadesNaoSeiCep.length === 0 || bairroCepUnicoSelecionado != null)) && \r\n                    (<>\r\n                    \r\n                    {\r\n                      bairrosCepUnico.length > 0\r\n                      ? null\r\n                      :   <Col xs={12} md={12} lg={12}>\r\n                            <TextField\r\n                              disabled                    \r\n                              fullWidth\r\n                              name=\"CEP\"\r\n                              // value={cep}\r\n                              id=\"cadastroCep\"\r\n                              label=\"CEP\"\r\n                              /*defaultValue=\"Hello World\"*/\r\n                              variant=\"outlined\"\r\n                            />\r\n                          </Col>\r\n                    }\r\n                   \r\n                    <Col xs={12} md={6} lg={6} >\r\n                      <TextField\r\n                        disabled\r\n                        fullWidth                    \r\n                        required\r\n                        value={uf}\r\n                        name=\"UF\"\r\n                        id=\"cadastroUf\"\r\n                        label=\"UF\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Col>\r\n\r\n                    {\r\n                      !cidadesNaoSeiCep.length > 0\r\n                      ? <Col xs={12} md={6} lg={6} >                                           \r\n                      <TextField\r\n                        required\r\n                        fullWidth\r\n                        disabled\r\n                        value={cidade}\r\n                        name=\"CIDADE\"\r\n                        id=\"cadastroCidade\"\r\n                        label=\"CIDADE\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Col>\r\n                    : null\r\n                    }\r\n                    \r\n                    {\r\n                      bairrosCepUnico.length > 0\r\n                      ? null\r\n                      : <Col xs={12} md={6} lg={6} >\r\n                          <TextField\r\n                            disabled\r\n                            fullWidth                 \r\n                            required\r\n                            value={bairro}\r\n                            name=\"BAIRRO\"\r\n                            id=\"cadastroBairro\"\r\n                            label=\"BAIRRO\"\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </Col>\r\n                    }\r\n                    \r\n                    <Col xs={12} md={6} lg={6} >\r\n                      <TextField\r\n                        required\r\n                        fullWidth\r\n                        //autoFocus={bairrosCepUnico.length ? true : false}\r\n                        disabled={bairrosCepUnico.length ? false : true}                      \r\n                        name=\"RUA\"\r\n                        onChange={(e) => {\r\n                          setRua(e.target.value)\r\n                        }}\r\n                        value={rua}\r\n                        id=\"cadastroRua\"\r\n                        label=\"RUA\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Col>\r\n                    <Col xs={12} md={6} lg={6} >\r\n                      <TextField\r\n                        //autoFocus\r\n                        fullWidth\r\n                        required\r\n                        name=\"NUMERO\"\r\n                        value={numero}\r\n                        onChange={(e) => {\r\n                          setNumero(e.target.value)\r\n                        }}\r\n                        id=\"cadastroNumero\"\r\n                        label=\"NUMERO\"\r\n                        variant=\"outlined\"\r\n                        type=\"number\"\r\n                      />\r\n                    </Col>\r\n                    <Col xs={12} md={6} lg={6} >\r\n                      <TextField\r\n                        fullWidth\r\n                        value={complemento}\r\n                        onChange={(e) => {\r\n                          setComplemento(e.target.value)\r\n                        }}\r\n                        name=\"COMPLEMENTO\"\r\n                        id=\"cadastroComplemento\"\r\n                        label=\"COMPLEMENTO\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Col>\r\n                    <Col xs={12} md={6} lg={6} >\r\n                    <TextField\r\n                      fullWidth\r\n                      value={referencia}\r\n                      onChange={(e) => {\r\n                        setReferencia(e.target.value)\r\n                      }}\r\n                      name=\"REFERENCIA\"\r\n                      id=\"cadastroReferencia\"\r\n                      label=\"REFERENCIA\"\r\n                      variant=\"outlined\"\r\n                    />\r\n                  </Col></>)\r\n                  }                  \r\n                  </Row>)\r\n                //SEM CEP\r\n                : (<Row style={{\"textAlign\": \"center\"}}><Col xs={12} md={12} lg={12}>\r\n                  <Typography gutterBottom variant=\"h5\" >\r\n                    Digite o seu CEP\r\n                  </Typography>\r\n                </Col>\r\n                <Col xs={12} md={12} lg={12}>\r\n                  <TextField\r\n                    type=\"text\"\r\n                    // value={cep}\r\n                    disabled={cep.length >= 8 ? true : false}\r\n                    autoFocus\r\n                    fullWidth\r\n                    required\r\n                    name=\"CEP\"\r\n                    id=\"cepDigitando\"\r\n                    label=\"CEP\"\r\n                    variant=\"outlined\"\r\n                    onChange={digitandoCep}\r\n                  />\r\n                </Col>\r\n                <Col xs={12} md={12} lg={12} className=\"mt-3 mb-3\">\r\n                  <Button variant=\"contained\" onClick={naoSeiCep} color=\"default\" >\r\n                    No Sei CEP \r\n                  </Button>\r\n                  </Col></Row>)\r\n              }              \r\n            </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={closeAdicionarEndereco} style={{\"color\": \"#dc3545\"}}>\r\n            Fechar\r\n          </Button>\r\n           {temCEP && (bairroCepUnicoSelecionado != null || bairrosCepUnico.length === 0 ) && ( <Button onClick={adicionarEndereco} style={{\"backgroundColor\": `#28a745`, \"color\":\"white\"}}>\r\n            Adicionar\r\n          </Button>)}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n      </div>\r\n      <Rodape valor={\"Endereco\"}></Rodape>\r\n\r\n    </>\r\n  );\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function PopupDoacao(props) {\r\n\r\n    const {\r\n        aplicativoDados,\r\n    } = props;\r\n\r\n    const [abrirPopUp, setAbrirPopUp] = React.useState(false);\r\n    // const [abrirPopUp, setAbrirPopUp] = React.useState(aplicativoDados.urlRibon ? true : false);\r\n\r\n\r\n    const quandoFechar = () => {\r\n        setAbrirPopUp(false);\r\n    };\r\n\r\n    const search = window.location.search;\r\n    const params = new URLSearchParams(search); \r\n\r\n    useEffect(() => {\r\n        if(aplicativoDados.urlRibon && window.getCookie('popup') == \"\" && params.get('pedidoEnviado')){\r\n            setAbrirPopUp(true)\r\n            window.setCookie('popup', 'true', 1 );\r\n        }        \r\n    })\r\n\r\n    return (\r\n        <div>\r\n        <Dialog\r\n            open={abrirPopUp}\r\n            onClose={quandoFechar}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n            {\"Doe de graa para caridade!\"}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n            Fazendo um pedido com a gente, voc acabou de ganhar crditos para doar para um causa gratuitamente!\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button \r\n                onClick={quandoFechar} color=\"secondary\">\r\n                Desta vez no\r\n            </Button>\r\n            <Button \r\n            variant=\"contained\"\r\n            style={{\"background\": \"#28a745\", \"color\":\"white\"}}\r\n            onClick={() => {\r\n                    window.open(\r\n                        aplicativoDados.urlRibon,\r\n                        '_blank'\r\n                    );\r\n                    setAbrirPopUp(false);\r\n                }} \r\n                color=\"primary\" autoFocus>\r\n                Escolher causa\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport * as Sentry from \"@sentry/react\";\r\nimport { ObterStatusPedido, CancelarPedido } from \"../../services/functions\";\r\n\r\nimport PopUpDoacao from \"./popupDoacao\";\r\n\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Row, Container } from \"react-bootstrap\";\r\n\r\nimport Cabecalho from \"../Global/cabecalho\";\r\n\r\nimport api from \"../../services/api\";\r\n\r\nimport \"./styles.css\";\r\n\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 999,\r\n    color: \"#fff\",\r\n  },\r\n  alerta: {\r\n    zIndex: theme.zIndex.drawer + 9999,\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\n/*\r\n    AGUARDANDO_ACEITACAO = 0;\r\n    ACEITO = 1;\r\n    CONFIRMACAO_VISUALIZADA = 2;\r\n    EM_ENTREGA = 3;\r\n    ENTREGUE = 4;\r\n    PAGO = 5;\r\n    PRONTO = 6;\r\n    EM_PRODUCAO = 7;\r\n    AGUARDANDO ATUALIZAR STATUS = 10;\r\n\r\n    CANCELADO_PELO_DISTRIBUIDOR = -1;\r\n    CANCELADO_PELO_CLIENTE = -2;\r\n    NAO_ENTREGUE = -3;\r\n    EXPIRADO = -4;\r\n    CHARGEBACK = -10;\r\n\r\n\r\n*/\r\n\r\nfunction getSteps(statusPedido) {\r\n  switch (statusPedido) {\r\n    case 10:\r\n    case 0:\r\n    case 1:\r\n    case 2:\r\n    case 3:\r\n    case 4:\r\n    case 5:\r\n    case 7:\r\n      return [\r\n        \"Pedido Enviado\",\r\n        \"Aguardando Aceitao\",\r\n        \"Aceito\",\r\n        \"Em Produo\",\r\n        \"Saiu para Entrega\",\r\n        \"Entregue\",\r\n      ];\r\n    case 6:\r\n      return [\r\n        \"Pedido Enviado\",\r\n        \"Aguardando Aceitao\",\r\n        \"Aceito\",\r\n        \"Em Produo\",\r\n        \"Pronto para Retirada\",\r\n        \"Entregue\",\r\n      ];\r\n    case -1:\r\n    case -2:\r\n    case -3:\r\n    case -4:\r\n    case -5:\r\n    case -10:\r\n      return [\r\n        \"Pedido Enviado\",\r\n        \"Aguardando Aceitao\",\r\n        \"Cancelado\",\r\n        \"Saiu para Entrega\",\r\n        \"Entregue\",\r\n      ];\r\n  }\r\n}\r\n\r\nfunction getStepContent(step, statusPedido) {\r\n  switch (statusPedido) {\r\n    case 0: //aguardando aceitao\r\n      return `Seu pedido foi enviado! Estamos aguardando o estabelecimento aceitar seu pedido!`;\r\n\r\n    case 10: //aguardando aceitao\r\n      return `Aguarde atualizao do status`;\r\n\r\n    case 1: //aceito\r\n    case 2: //visualizado\r\n      return `Seu pedido foi aceito! Vamos enviar seu pedido para a produo!`;\r\n\r\n    case 3: //em entrega\r\n      return `Seu pedido foi produzido! Nosso entregador acabou de sair com seu pedido. Fique atento para receber!`;\r\n\r\n    case 4: //entregue\r\n      return `Seu pedido foi entregue! Obrigado pela preferencia, estamos sempre a disposio.`;\r\n\r\n    case 5: //pago\r\n      return `Seu pedido j foi pago!`;\r\n\r\n    case 6: //pronto pra retirada\r\n      return `Seu pedido est pronto para retirada!`;\r\n\r\n    case 7: //em producao\r\n      return `Seu pedido est em produo!`;\r\n\r\n    case -1:\r\n      return `O estabelecimento cancelou seu pedido!`;\r\n    case -2:\r\n      return `Voc mesmo cancelou o pedido!`;\r\n    case -3:\r\n      return `O pedido no foi entregue!`;\r\n    case -4:\r\n      return `O pedido expirou por ficar muito tempo aguardando aceitao!`;\r\n    case -5:\r\n    case -10:\r\n      return `Houve uma falha no pagamento!`;\r\n    default:\r\n      return \"erro\";\r\n  }\r\n}\r\n\r\nexport default function Status() {\r\n  const { idPedido, statusInicial } = useParams();\r\n\r\n  if (parseInt(statusInicial) == 0) {\r\n    localStorage.setItem(\"atualizarUsuarioCF\", true);\r\n  }\r\n\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"));\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const [statusPedido, setStatusPedido] = React.useState(\r\n    parseInt(statusInicial)\r\n  );\r\n\r\n  const [alert, setAlert] = useState({\r\n    status: false,\r\n    tipo: \"success\",\r\n    mesangem: \"\",\r\n  });\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const alertStart = (msg, tipo) => {\r\n    setAlert({ status: true, tipo: tipo, mesangem: msg });\r\n  };\r\n\r\n  const alertClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setAlert({ status: false, tipo: alert.tipo, mesangem: alert.mesangem });\r\n  };\r\n\r\n  const verificarStatus = async () => {\r\n    try {\r\n      const response = await ObterStatusPedido(idPedido, aplicativoDados);\r\n\r\n      if (response.retornoErro) {\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\");\r\n      } else {\r\n        //tudo certo\r\n        if (response.status == 0) {\r\n          localStorage.setItem(\"atualizarUsuarioCF\", true);\r\n        }\r\n        setStatusPedido(response.status);\r\n      }\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+\r\n        `NotFunctions verificarStatus ${window.location.hostname} - ${error}`\r\n      );\r\n      alertStart(\"Procure os desenvolvedores! Erro: \" + error.message, \"error\");\r\n    }\r\n  };\r\n\r\n  const cancelarPedido = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = {\r\n        id: idPedido,\r\n        token: `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        appNome: aplicativoDados.appNome,\r\n      };\r\n      const response = await CancelarPedido(data, aplicativoDados);\r\n\r\n      if (response.retornoErro) {\r\n        //algum erro\r\n        alertStart(response.mensagem, \"error\");\r\n        setLoading(false);\r\n      } else {\r\n        //tudo certo\r\n        alertStart(\"Pedido cancelado\", \"success\");\r\n\r\n        const pedidoCancelado = JSON.parse(\r\n          localStorage.getItem(\"PedidoCanceladoBackupCF\")\r\n        );\r\n        localStorage.setItem(\r\n          \"carrinhoCF\",\r\n          JSON.stringify(pedidoCancelado.carrinho)\r\n        );\r\n        localStorage.setItem(\r\n          \"usuarioCF\",\r\n          JSON.stringify(pedidoCancelado.usuario)\r\n        );\r\n        localStorage.removeItem(\"ultimoPedidoCF\");\r\n\r\n        setTimeout(() => {\r\n          history.goBack();\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+\r\n        `NotFunctions cancelarPedido ${window.location.hostname} - ${error}`\r\n      );\r\n      alertStart(\"Procure os desenvolvedores! Erro: \" + error.message, \"error\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      verificarStatus();\r\n    }, 10000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  var stepStatus = 0;\r\n  switch (statusPedido) {\r\n    case 10:\r\n      stepStatus = 0;\r\n      break;\r\n    case 0: //aguardando aceitao\r\n      stepStatus = 1; //aguardando aceitacao\r\n      break;\r\n    case 1: //aceito\r\n    case 2: //visualizao\r\n      stepStatus = 2; //aceito\r\n      break;\r\n\r\n    case 5: //pago\r\n    case 7: //em producao\r\n      stepStatus = 3; //em producao\r\n      break;\r\n\r\n    case 3: //em entrega\r\n    case 6: //pronto pra retirada\r\n      stepStatus = 4; //saiu para entrega\r\n      break;\r\n\r\n    case 4: //entregue\r\n      stepStatus = 5; //entegue\r\n      break;\r\n\r\n    case -1:\r\n    case -2:\r\n    case -3:\r\n    case -4:\r\n    case -5:\r\n    case -10:\r\n      stepStatus = 2; //cancelado\r\n      break;\r\n  }\r\n\r\n  //const [activeStep, setActiveStep] = React.useState(stepStatus);\r\n\r\n  const steps = getSteps(statusPedido);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Cabecalho voltar={true} produtoNome={`#${idPedido}`}></Cabecalho>\r\n      {loading && (\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n      )}\r\n\r\n      <Snackbar\r\n        open={alert.status}\r\n        className={classes.alerta}\r\n        autoHideDuration={6000}\r\n        onClose={alertClose}\r\n      >\r\n        <Alert onClose={alertClose} severity={alert.tipo}>\r\n          {alert.mesangem}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      <PopUpDoacao aplicativoDados={aplicativoDados} />\r\n\r\n      <div className=\"container container-statusPedido\">\r\n        <Container className=\"containerStatusPedido\">\r\n          <Row>\r\n            <div className={classes.root}>\r\n              <Stepper\r\n                activeStep={stepStatus}\r\n                orientation=\"vertical\"\r\n                style={{ backgroundColor: \"#f8f8f8\" }}\r\n              >\r\n                {steps.map((label, index) => (\r\n                  <Step key={label}>\r\n                    <StepLabel>{label}</StepLabel>\r\n                    <StepContent>\r\n                      <Typography>\r\n                        {getStepContent(index, statusPedido)}\r\n                      </Typography>\r\n                    </StepContent>\r\n                  </Step>\r\n                ))}\r\n              </Stepper>\r\n            </div>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Typography\r\n              style={{ margin: \"2em 0.5em 0.5em 0.5em\", textAlign: \"center\" }}\r\n            >\r\n              Voc s pode cancelar o pedido caso ele ainda no tenha sido\r\n              aceito.\r\n            </Typography>\r\n            <Button\r\n              fullWidth\r\n              disabled={!(statusPedido === 0 || statusPedido === 10)}\r\n              // variant=\"contained\"\r\n              onClick={cancelarPedido}\r\n              style={\r\n                !(statusPedido === 0 || statusPedido === 10)\r\n                  ? { margin: \"0em 0.5em 0.5em 0.5em\" }\r\n                  : { margin: \"0em 0.5em 0.5em 0.5em\", color: \"#dc3545\" }\r\n              }\r\n              className={classes.submit}\r\n            >\r\n              Cancelar Pedido\r\n            </Button>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/flatMesa.c434c542.png\";","\r\nimport React, {Component, useState, useEffect } from 'react'\r\nimport QrReader from 'react-qr-reader'\r\nimport * as Sentry from \"@sentry/react\";\r\n\r\nimport { Link,useHistory } from 'react-router-dom';\r\nimport './styles.css';\r\nimport Cabecalho from '../Global/cabecalho';\r\nimport Rodape from '../Global/rodape';\r\nimport CropFreeIcon from '@material-ui/icons/CropFree';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport DialpadIcon from '@material-ui/icons/Dialpad';\r\nimport { Card, Row, Col, Container, Carousel } from 'react-bootstrap';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nimport {\r\n    RegistrarSeloSeguro2,\r\n    identificarEstabelecimentoSelecionado,\r\n  } from '../../services/functions';\r\n\r\nimport api from '../../services/api';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\r\n\r\n//import ShareBtn from 'react-share-button';\r\n\r\n//import Loading from '../loading';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { AiOutlineQrcode } from 'react-icons/ai';\r\n\r\n//alert\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport flatMesa from '../../assets/flatMesa.png'\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\n\r\nfunction getMoney( str )\r\n{\r\n        return parseInt( str.replace(/[\\D]+/g,'') );\r\n}\r\nfunction formatReal( int )\r\n{\r\n        var tmp = int+'';\r\n        tmp = tmp.replace(/([0-9]{2})$/g, \",$1\");\r\n        if( tmp.length > 6 )\r\n                tmp = tmp.replace(/([0-9]{3}),([0-9]{2}$)/g, \".$1,$2\");\r\n\r\n        return tmp;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    list: {\r\n        width: 250,\r\n    },\r\n    fullList: {\r\n        width: 'auto',\r\n    },\r\n    fixed: {\r\n        position: 'fixed',\r\n        bottom: theme.spacing(10),\r\n        right: theme.spacing(3),\r\n        fontSize: \"30px\",\r\n    },\r\n    rootAlert: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n          marginTop: theme.spacing(2),\r\n        },\r\n      },\r\n      backdrop: {\r\n        zIndex: theme.zIndex.drawer + 9999,\r\n        color: '#fff',\r\n      },\r\n      root: {\r\n        minWidth: 275,\r\n        marginTop: '10px',\r\n      },\r\n      bullet: {\r\n        display: 'inline-block',\r\n        margin: '0 2px',\r\n        transform: 'scale(0.8)',\r\n      },\r\n      title: {\r\n        fontSize: 14,\r\n      },\r\n      pos: {\r\n        marginBottom: 12,\r\n      },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n\r\n\r\nexport default function Perfil() {\r\n    const [estabelecimentoAtual, setEstabelecimentoAtual] = useState(JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")));\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n    const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n    //console.log(\"usuarioLogado\", usuarioLogado)\r\n\r\n    const [configuracoesPerfilModal, setConfiguracoesPerfilModal] = React.useState(false);\r\n    const [qrCodeModal, setQrCodeModal] = React.useState(false);\r\n    const [loading, setLoading] = React.useState(false);\r\n    \r\n\r\n    \r\n    //alerts    \r\n    const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n\r\n    function Alert(props) {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n    }\r\n    \r\n    const alertStart = (msg, tipo) => {\r\n        setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n    };\r\n\r\n    const alertClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n    };\r\n\r\n\r\n\r\n \r\n    class QRCode extends Component {\r\n\r\n        state = {\r\n            result: 'No result',\r\n            leu: false,\r\n        }\r\n    \r\n        handleScan = async data =>  {           \r\n            if (data && !this.state.leu) {  \r\n                \r\n                this.setState({\r\n                    result: data,\r\n                    leu: true,\r\n                })\r\n\r\n                setQrCodeModal(false)         \r\n\r\n                //console.log(\"data\", data)\r\n\r\n                setLoading(true)\r\n                \r\n                try {\r\n                    if(data.includes(\"www.\") || data.includes(\"https\") || data.includes(\"http\")){\r\n                        window.location.href = data\r\n                    }\r\n                } catch (error) {\r\n                    setLoading(true)\r\n                    setQrCodeModal(false)        \r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        handleError = err => {\r\n            setQrCodeModal(false) \r\n            setLoading(false)\r\n            alertStart(\"Algo deu errado ao registrar selo  (handleError)\", \"error\")\r\n        }\r\n\r\n        render() {\r\n            if(qrCodeModal){\r\n                return (\r\n                    <div>\r\n                        <QrReader\r\n                            delay={300}\r\n                            onError={this.handleError}\r\n                            onScan={this.handleScan}\r\n                            style={{ width: '100%' }}\r\n                        />\r\n                        {/*<p>{this.state.result}</p>*/}\r\n                    </div>\r\n                )\r\n            }else{\r\n                return (\r\n                    <div>\r\n                        \r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            {loading &&\r\n            (<Backdrop className={classes.backdrop} open={loading}>\r\n            <CircularProgress color=\"inherit\" />\r\n            </Backdrop>)}\r\n\r\n            <Snackbar open={alert.status} autoHideDuration={6000} onClose={alertClose}>\r\n                <Alert onClose={alertClose} severity={alert.tipo}>\r\n                {alert.mesangem}\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n\r\n\r\n            <div className=\"container container-perfil\">\r\n                <Container className=\"\">\r\n                    <Row>\r\n                      <Col xs={12} md={12} lg={12}   style={{\"width\": \"100%\",  \"textAlign\": \"center\"}}>\r\n\r\n                           <img src={estabelecimentoAtual.urlLogo} style={{\"width\": \"100px\"}}/>\r\n                           <img src={flatMesa} style={{\"maxWidth\": \"100%\", \"maxHeight\": \"300px\"}}/>\r\n                           <Typography variant=\"h4\" component=\"h2\" style={{\"marginTop\": \"0.5em\"}}>\r\n                                Conecte-se a mesa\r\n                            </Typography>\r\n                            <Typography  style={{\"fontSize\": \"18px\", \"margin\": \"0.5em 0 0.5em 0\"}} >\r\n                                Na mesa do estabelecimento {estabelecimentoAtual.nome} provavelmente haver um QRCode ou Cdigo para se conectar a mesa.\r\n                            </Typography>\r\n\r\n                        </Col>\r\n\r\n                        <Col xs={12} md={12} lg={12}   style={{\"width\": \"100%\",  \"textAlign\": \"center\"}}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                fullWidth\r\n                                id=\"codigo\"\r\n                                label=\"Cdigo da Mesa\"\r\n                                name=\"codigo\"\r\n                                autoFocus\r\n                            />\r\n                        </Col>\r\n                        <Col xs={12} md={12} lg={12}   style={{\"width\": \"100%\",  \"textAlign\": \"center\"}}>\r\n                            <Button\r\n                                type=\"button\"\r\n                                fullWidth\r\n                                onClick={() => {\r\n                                    const codigo = document.getElementById(\"codigo\").value\r\n                                    var codigo2 = ((parseInt(codigo) - 5555) + \"\")\r\n                                    var mesa = codigo2.substring(0,1) + codigo2.substring(4,5)\r\n\r\n                                    if(mesa > 0 && mesa < 51){\r\n                                        setLoading(true)\r\n                                        window.location.href = `https://${aplicativoDados.urlAcesso}/?loja=${estabelecimentoAtual.id}&mesa=${mesa}`\r\n                                    }\r\n                                    console.log('mesa', mesa)\r\n                                }}\r\n                                variant=\"contained\"\r\n                                style={{\"margin\": \"0 0 1em 0\", \"background\":`${aplicativoDados.corSitePrimaria}`, \"color\":\"white\"}}\r\n                            >\r\n                            <DialpadIcon style={{\"fontSize\": \"25px\",\"marginRight\": \"10px\"}}/>  Enviar Cdigo\r\n                            </Button>\r\n                        </Col>\r\n\r\n\r\n                        <Col xs={12} md={12} lg={12}   style={{\"width\": \"100%\",  \"textAlign\": \"center\"}}>\r\n                            <Button\r\n                                type=\"button\"\r\n                                fullWidth\r\n                                onClick={() => {\r\n                                    setQrCodeModal(true)\r\n                                }}\r\n                                variant=\"contained\"\r\n                                style={{\"background\":`${aplicativoDados.corSitePrimaria}`, \"color\":\"white\"}}\r\n                            >\r\n                            <AiOutlineQrcode style={{\"fontSize\": \"25px\",\"marginRight\": \"10px\"}}/>Ler QR Code\r\n                            </Button>\r\n                        </Col>\r\n\r\n                        <Col xs={12} md={12} lg={12}   style={{\"marginTop\":\"1em\", \"width\": \"100%\",  \"textAlign\": \"center\"}}>\r\n                            <Link to={`/login`} variant=\"body2\" style={{\"color\":`${aplicativoDados.corSitePrimaria}`}}>\r\n                                {\"Voltar\"}\r\n                            </Link>\r\n                        </Col>\r\n                        \r\n                        \r\n                    </Row>\r\n                    \r\n                </Container>\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <Dialog\r\n              fullScreen={fullScreen}\r\n              open={qrCodeModal}\r\n              aria-labelledby=\"qrCodeModal\">\r\n\r\n              <DialogTitle id=\"qrCodeModal\">{\"QRCode de Mesa\"}</DialogTitle>\r\n              <DialogContent>\r\n\r\n                <QRCode/>\r\n\r\n              </DialogContent>\r\n              <DialogActions>                \r\n                <Button onClick={() => {\r\n                    setQrCodeModal(false)\r\n                }} >\r\n                  Cancelar\r\n                </Button>                \r\n              </DialogActions>\r\n            </Dialog>\r\n\r\n\r\n        </>\r\n    );\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './styles.css';\r\nimport Cabecalho from '../Global/cabecalho';\r\nimport Rodape from '../Global/rodape';\r\nimport * as Sentry from \"@sentry/react\";\r\nimport api from '../../services/api';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport {\r\n  identificarEstabelecimentoSelecionado,\r\n  ObterStatusPedido,\r\n} from '../../services/functions';\r\nimport {  Row, Col } from 'react-bootstrap';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\n/* modal */\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport MotorcycleIcon from '@material-ui/icons/Motorcycle';\r\n\r\n\r\n//import Loading from '../loading';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  rootForm: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 999,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\n\r\nexport default function Estabelecimento() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  \r\n  const [loading, setLoading] = React.useState(false);\r\n  const usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"))  \r\n  const usuarioPedidoMesa = JSON.parse(localStorage.getItem(\"usuarioPedidoMesaCF\"))\r\n  const aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"))\r\n  const [estabelecimentoAtual, setEstabelecimentoAtual] = useState(JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")));\r\n  const [verPedido, setVerPedido] = useState(false)\r\n  const [verPedidoPosicao, setVerPedidoPosicao] = useState(0)\r\n  const pedidos  =  JSON.parse(localStorage.getItem('historicoPedidosCF'))\r\n\r\n  if(!pedidos || !pedidos.length){\r\n    history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n  }\r\n  \r\n  const [alert, setAlert] = useState({\"status\": false, \"tipo\": \"success\", \"mesangem\": \"\"});\r\n  \r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n  const alertStart = (msg, tipo) => {\r\n    setAlert({\"status\": true, \"tipo\": tipo, \"mesangem\": msg});\r\n  };\r\n\r\n  const alertClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n        return;\r\n    }\r\n    setAlert({\"status\": false, \"tipo\": alert.tipo, \"mesangem\": alert.mesangem});\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n      {\r\n        usuarioPedidoMesa?.logado\r\n        ?<Cabecalho mesaHistorico={usuarioLogado.cliente.nome} ></Cabecalho>\r\n        :<Cabecalho nomeUsuario={true}></Cabecalho>\r\n      }\r\n      <div className=\"container container-Estabelecimento\">\r\n        <Row>\r\n          <Col xs={12} md={12} lg={12} >\r\n            <Typography gutterBottom variant=\"h5\" >\r\n              Historico de Pedidos\r\n            </Typography>\r\n          </Col>\r\n\r\n          <Col xs={6} md={6} lg={6} style={{\"alignSelf\": \"center\"}}>            \r\n            {(!pedidos?.length)\r\n            ? 'Nenhum pedido registrado'\r\n            : (pedidos?.length > 1 \r\n              ? pedidos?.length + \" Pedidos realizados\" \r\n              : pedidos?.length + \" pedido realizado\")} \r\n          </Col>\r\n          <Col xs={6} md={6} lg={6} >            \r\n            <Button variant=\"contained\" onClick={() => { \r\n              localStorage.removeItem('historicoPedidosCF')\r\n              history.push(`/delivery${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n            }} style={{\"background\": `#28a745`, \"color\":\"white\"}} >\r\n              Novo Pedido \r\n            </Button>\r\n          </Col>\r\n\r\n          { pedidos?.length\r\n              //TEM ENDEREO\r\n              ? (pedidos.map( (pedido, index) => (\r\n                (<React.Fragment key={index}>\r\n                  <Col xs={12} md={6} lg={4} key={index} style={{\"margin\": \"1em 0\"}}  >\r\n                      \r\n                      <Card className={classes.root} style={{\"height\": \"100%\"}}>\r\n                        <CardActionArea  style={{ \"height\": \"calc(100% - 30px)\", \"flexFlow\": \"column-reverse\", \"alignItems\": \"normal\"}}>\r\n                          \r\n                          <Row style={{\"margin\":0,\"textAlign\": \"\", \"width\": \"100%\", \"padding\": \"1em\", \"alignItems\": \"center\"}}>\r\n                            <Col xs={3} md={3} lg={3} style={{\"padding\":0}}>\r\n                            <CardMedia\r\n                                component=\"img\"\r\n                                className={\"logoLojas\"}\r\n                                alt={pedido.estabelecimento.nome}\r\n                                image={pedido.estabelecimento.urlLogo}\r\n                                title={pedido.estabelecimento.nome}\r\n                              />\r\n                            </Col>\r\n                            <Col xs={9} md={9} lg={9}>\r\n                              \r\n\r\n                              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" >\r\n                              {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(pedido.valorTotal)} - {pedido.strDataRealizacao}\r\n                              </Typography>\r\n\r\n                              <Typography gutterBottom  component=\"h2\" >                    \r\n                              {pedido.estabelecimento.nome}\r\n                              </Typography>\r\n                              \r\n                              <Typography className={\"StatusEstabelecimento\"} variant=\"body2\"  component=\"p\">\r\n                              {pedido.estabelecimento.cidade.nome}\r\n                              </Typography>\r\n\r\n\r\n\r\n                              \r\n                            </Col>\r\n                          \r\n                          </Row>\r\n                          \r\n                          <CardContent style={{\"padding\": \"0 16px\"}}>\r\n                          \r\n                          </CardContent>\r\n                        </CardActionArea>\r\n                        <CardActions style={{\"padding\":\"0\"}}>\r\n      \r\n                          \r\n                          <Button size=\"small\" className={\"botaoVerde naoArredondado\"} \r\n                            onClick={() =>{\r\n                              setVerPedido(true)\r\n                              setVerPedidoPosicao(index)\r\n                            }}>\r\n                              VER PEDIDO\r\n                            </Button>\r\n      \r\n                            <Button size=\"small\" className={pedido.idAvaliacao ? \"botaoCinza naoArredondado\" : \"botaoVerde naoArredondado\"} \r\n                              disabled={pedido.idAvaliacao ? true : false}\r\n                              onClick={() =>{\r\n                                history.push(`/delivery/avaliacaoPedido/?Cliente=${btoa(pedido.cliente.id)}&Pedido=${btoa(pedido.id)}`)\r\n                            }}>\r\n                              {pedido.idAvaliacao ? \"Avaliado\" : \"Avaliar\"}\r\n                            </Button>\r\n                          \r\n                        </CardActions>\r\n                      </Card>\r\n                    </Col>\r\n              </React.Fragment>)  \r\n              )))\r\n              \r\n              //NAO TEM PEDIDO\r\n              : null\r\n              }   \r\n          \r\n\r\n              <Dialog\r\n                open={verPedido}\r\n                aria-labelledby=\"qrCodeModal\">\r\n\r\n                <DialogTitle id=\"qrCodeModal\">#{pedidos[verPedidoPosicao]?.id}</DialogTitle>\r\n                <DialogContent>\r\n                    \r\n                    \r\n                    <span>\r\n                      <ListItem button  >\r\n                        <ListItemAvatar>\r\n                          <Avatar>\r\n                            <MotorcycleIcon />\r\n                          </Avatar>\r\n                        </ListItemAvatar>\r\n                        <ListItemText primary={pedidos[verPedidoPosicao].tipoPedido === 1 ? \"Retirada\" : pedidos[verPedidoPosicao].tipoPedido === 2 ? `Mesa ${pedidos[verPedidoPosicao].mesa}` : \"Entrega\"} />\r\n                        <ListItemText primary={Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(pedidos[verPedidoPosicao]?.taxaEntrega)} className=\"carrinho-produto-valor\"/>\r\n                      </ListItem>\r\n                      <Divider/>\r\n                    </span>\r\n\r\n\r\n\r\n                  {pedidos[verPedidoPosicao]?.itens?.map((item, index) => (                    \r\n                    <span key={index}>\r\n                      <ListItem button  >\r\n                        <ListItemAvatar>\r\n                          <Avatar>\r\n                            <ImageIcon />\r\n                          </Avatar>\r\n                        </ListItemAvatar>\r\n                        <ListItemText primary={item.quantidade + \"x \"+ item.produto.nome} />\r\n                        <ListItemText primary={Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(item.valorProdutoHistorico)} className=\"carrinho-produto-valor\"/>\r\n                      </ListItem>    \r\n\r\n                      {!!item.itensOpcaoProduto.length &&\r\n                        item.itensOpcaoProduto.map((adicional, index) =>(\r\n                          <List key={index} component=\"div\" disablePadding >\r\n                            <ListItem  className={classes.nested} style={{\"paddingTop\": \"0\"}}>\r\n                              <ListItemText secondary={adicional.quantidade + \"x \" + adicional.opcaoProduto.nome} />\r\n                            </ListItem>\r\n                          </List>     \r\n                        ))\r\n                      }\r\n                            \r\n                      <Divider/>\r\n                    </span>\r\n                    \r\n                  ))}\r\n\r\n\r\n                <Button >\r\n                  Total: {Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(pedidos[verPedidoPosicao]?.valorTotal)}\r\n                </Button>\r\n                </DialogContent>\r\n                <DialogActions>                \r\n                  <Button style={{\"color\":\"#dc3545\"}} onClick={() => {setVerPedido(false)}} >\r\n                    Cancelar\r\n                  </Button>    \r\n\r\n                  <Button style={{\"background\": `#28a745`, \"color\":\"white\"}} onClick={async () => \r\n                  {\r\n\r\n                    try {\r\n      \r\n                      const response = await ObterStatusPedido(pedidos[verPedidoPosicao].id, aplicativoDados)\r\n                  \r\n                      if(response.retornoErro){\r\n                        //algum erro\r\n                        alertStart(response.mensagem, \"error\")\r\n                      }else{ \r\n                        //tudo certo\r\n                        // history.push(`/delivery/pedido/${estabelecimentoAtual.id}/${pedidos[verPedidoPosicao].id}/${response.status}${identificarEstabelecimentoSelecionado(aplicativoDados)}`)\r\n                        history.push(`/delivery/pedido${identificarEstabelecimentoSelecionado(aplicativoDados, pedidos[verPedidoPosicao].id, response.status)}`)\r\n                      }\r\n                    }\r\n                    catch (error) {\r\n                        Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions ObterStatusPedido ${window.location.hostname} - ${error}`);\r\n                        alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n                    }\r\n                  \r\n                    setLoading(true)\r\n                   }}>\r\n                    Verificar Status\r\n                  </Button>            \r\n                </DialogActions>\r\n              </Dialog>\r\n          \r\n        </Row>\r\n\r\n\r\n\r\n      </div>\r\n      <Rodape valor=\"DeliveryHistorico\"></Rodape>\r\n\r\n    </>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport { BrowserRouter, Route, Switch, Redirect} from 'react-router-dom';\r\nimport api from '../src/services/api';\r\n//DESLOGADO\r\nimport Estabelecimento from './pages/Deslogado/estabelecimentos';\r\nimport AvaliacaoPedido from './pages/AvaliacaoPedido';\r\nimport * as Sentry from \"@sentry/react\";\r\n\r\nimport {\r\n  LoginGeral,\r\n  AtualizarDispositivoUsuario,\r\n  AplicativoDadosUrl,\r\n} from './services/functions';\r\n\r\n//LOGADO\r\nimport Downloads from './pages/Downloads';\r\nimport ImagensTematicas from './pages/imagensTematicas';\r\nimport Login from './pages/Login';\r\nimport Cadastro from './pages/Cadastro/comum';\r\nimport Filter from './pages/Filter';\r\nimport Delivery from './pages/Delivery';\r\nimport Perfil from './pages/Perfil';\r\nimport ApenasFidelidade from './pages/ApenasFidelidade'; \r\nimport ApenasFidelidadeCartelas from './pages/ApenasFidelidade/cartelas';  \r\nimport ApenasFidelidadeEstabelecimentos from './pages/ApenasFidelidade/estabelecimentos';  \r\n// import Estabelecimento from './pages/Estabelecimento';\r\nimport Fidelidade from './pages/Fidelidade';\r\nimport Produto from './pages/Delivery/produto';\r\nimport Creditcardweb from './pages/Creditcardweb';\r\nimport Offline from './pages/Offline';\r\nimport Enderecos from './pages/Enderecos';\r\nimport StatusPedido from './pages/StatusPedido';\r\nimport ConectarMesa from './pages/ConectarMesa';\r\nimport HistoricoPedido from './pages/HistoricoPedido';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider  } from '@material-ui/core/styles';\r\nimport ReactGA from 'react-ga';\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport TagManager from 'react-gtm-module'\r\n\r\nlet iniciou = false\r\n    \r\n\r\n    \r\n\r\nconst pixelFacebook = (aplicativoDados) => {\r\n  if(aplicativoDados.pixelFacebook){\r\n    ReactPixel.init(aplicativoDados.pixelFacebook, { em: '' }, {autoConfig: true,debug: false,});\r\n    ReactPixel.pageView();\r\n  }\r\n}\r\n\r\nconst googleAnalytics = (aplicativoDados, rest) => {\r\n  const endereco = rest.location.pathname + rest.location.search\r\n  if(iniciou == false){\r\n    iniciou = true\r\n    console.log('initializeGA')\r\n    ReactGA.initialize('UA-77355682-2');\r\n\r\n    if(aplicativoDados.googleAnalytics){\r\n      ReactGA.ga('create', aplicativoDados.googleAnalytics, 'auto', {'name':'estabelecimentoTracker'});\r\n    }\r\n  }\r\n  console.log('pageView')\r\n  ReactGA.set({ page: endereco });\r\n  ReactGA.pageview(endereco);\r\n\r\n  if(aplicativoDados.googleAnalytics){\r\n    ReactGA.ga('estabelecimentoTracker.send', 'pageview', {'page': endereco});\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\n\r\nconst tagManager = (aplicativoDados) => {\r\n\r\n  try {\r\n    \r\n    if(aplicativoDados.tagManager){\r\n      console.log('TagManager.aplicativoDados ', aplicativoDados.tagManager)\r\n      const tagManagerArgs = {\r\n        gtmId: `${aplicativoDados.tagManager}`\r\n      }\r\n      TagManager.initialize(tagManagerArgs)\r\n    } \r\n    \r\n    if(JSON.parse(localStorage.getItem('estabelecimentoAtualCF')).tagManager){\r\n      const estabelecimento = JSON.parse(localStorage.getItem('estabelecimentoAtualCF'))\r\n      const tagManagerArgs = {\r\n        gtmId: `${estabelecimento.tagManager}`\r\n      }\r\n      TagManager.initialize(tagManagerArgs)\r\n      console.log('TagManager.estabelecimento ', estabelecimento.tagManager)\r\n    }\r\n  } catch (error) {\r\n    \r\n  }\r\n\r\n  return null;\r\n};\r\n\r\n\r\nconst Routes = () => {\r\n  \r\n\r\n  var deuErro = false\r\n  var aplicativoDados\r\n  \r\n  try {\r\n    aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\")) ;\r\n\r\n    if(aplicativoDados.codErro > 0){\r\n      localStorage.clear()\r\n    }\r\n\r\n  } catch (error) {\r\n    deuErro = true\r\n  }\r\n\r\n\r\n  if(!aplicativoDados || deuErro){\r\n    localStorage.clear()\r\n  }\r\n\r\n  console.log(\"Routes\", !!aplicativoDados)\r\n  \r\n  //APAGAR ALGUM TIPO DE CACHE\r\n  // try {\r\n  //   if(window.caches && window.caches?.keys()){\r\n  //     window.caches.keys().then(cacheNames => {\r\n  //       console.log('cacheNames?.length', cacheNames?.length)\r\n  //       if(cacheNames?.length){\r\n  //         cacheNames.forEach(cacheName => {\r\n  //           caches.delete(cacheName);\r\n  //         });\r\n  //       }\r\n  //     });\r\n  //   }\r\n  // } catch (error) {\r\n  //   console.log(\"sem window caches\")\r\n  // }\r\n\r\n\r\n\r\n  const versaoLancamento = \"V2.3\"\r\n  const versaoAjuste = \".4\"\r\n  localStorage.setItem('versao', `${versaoLancamento}${versaoAjuste} | `)\r\n\r\n  return (\r\n      <div className=\"global\">\r\n        <span id=\"versao-atual\">{versaoLancamento}{versaoAjuste}</span>\r\n          <BrowserRouter>\r\n            <Switch>\r\n              {/* <Route path=\"/creditcardweb/:appName/:tokenEstabelecimentoPagSeguro/:idEstabelecimento/:clienteId/:corPrincipal\" component={Creditcardweb} />\r\n              <Route path=\"/creditcardweb/:success\" component={Creditcardweb} /> */}\r\n              <Route path=\"/\" exact component={Filter} />              \r\n              <Route path=\"/creditcardweb\" component={Creditcardweb} />\r\n              <Route path=\"/offline\" exact component={Offline} /> \r\n              <RouteDados path=\"/downloads/googleplay\" component={Downloads} />\r\n              <RouteDados path=\"/downloads/appstore\" component={Downloads} />\r\n              <RouteDados path=\"/downloads/escolha\" component={Downloads} />\r\n              <RouteDados path=\"/downloads/imagensTematicas\" component={ImagensTematicas} />\r\n              <RouteDados path=\"/downloads\" component={Downloads} />\r\n              <RouteDados path=\"/cadastro\" component={Cadastro} />\r\n              <RouteDados path={\"/login/Acesso\"} component={Login} />\r\n              <RouteDados path={\"/login/pedidoMesa\"} component={Login} />\r\n              <RouteDados path={\"/conectar-mesa\"} component={ConectarMesa} />\r\n              <RouteDados path={\"/mesa\"} component={ConectarMesa} />\r\n              <RouteDados path={\"/login\"} component={Login} />\r\n              <RouteAnonimo path={\"/lojas\"} component={Estabelecimento} />\r\n              <PrivateRoute path=\"/delivery/historicoPedidos\" component={HistoricoPedido} />\r\n              <PrivateRoute path=\"/delivery/pedido/:codigoEstabelecimento/:idPedido/:statusInicial\" component={StatusPedido} />\r\n              <PrivateRoute path=\"/delivery/pedido/:idPedido/:statusInicial\" component={StatusPedido} />\r\n              <PrivateRoute path=\"/delivery/enderecos\" component={Enderecos} />\r\n              <PrivateRoute path=\"/delivery/fidelidade\" component={Fidelidade} />\r\n              <RouteDados path=\"/delivery/avaliacaoPedido\" component={AvaliacaoPedido} />\r\n              <PrivateRoute path=\"/delivery\" component={Delivery} /> \r\n              <PrivateRoute path=\"/fidelidade/cartelas\" component={ApenasFidelidadeCartelas} />  \r\n              <PrivateRoute path=\"/fidelidade/estabelecimentos\" component={ApenasFidelidadeEstabelecimentos} />  \r\n              <PrivateRoute path=\"/fidelidade\" component={ApenasFidelidade} /> \r\n              <PrivateRoute path=\"/perfil/:param1\" component={Perfil} />\r\n              <PrivateRoute path=\"/perfil\" component={Perfil} />\r\n              <PrivateRoute path=\"/estabelecimento\" component={Estabelecimento} />\r\n              <PrivateRoute path=\"/produto/:idProduto\" component={Produto} />\r\n              {/* <Route component={Filter} /> */}\r\n            </Switch>\r\n        </BrowserRouter>\r\n      </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst RouteAnonimo = ({component: Component, ...rest}) => {\r\n\r\n  console.log(\"Route ANonimo\")\r\n  window.scrollTo(0, 0)\r\n\r\n  var aplicativoDados\r\n  var deuErro = false\r\n  \r\n  try {\r\n    aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\")) ;\r\n    \r\n    if(aplicativoDados.codErro > 0){\r\n      localStorage.clear()\r\n      return (\r\n          <Redirect to={'/' + rest.location.search} />   \r\n      );\r\n    }\r\n\r\n  } catch (error) {\r\n    deuErro = true\r\n  }\r\n\r\n \r\n\r\n  if(!aplicativoDados || deuErro){\r\n    return (\r\n        <Redirect to=\"/\" />   \r\n    );\r\n  }else{\r\n\r\n    if(new Date() - new Date(localStorage.getItem('dateAplicativoDadosCF')) > 600000){\r\n      atualizarAppDados(aplicativoDados)\r\n    }\r\n  \r\n    \r\n    if(aplicativoDados !== 'string'){\r\n      headAdd(aplicativoDados, rest)\r\n    }  \r\n  \r\n    const theme = createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n            light: `${aplicativoDados.corSitePrimaria}`,\r\n            main: `${aplicativoDados.corSitePrimaria}`,\r\n            // dark: will be calculated from palette.secondary.main,\r\n            contrastText: `#fff`,\r\n          },\r\n          secondary: {\r\n            light: `${aplicativoDados.corSiteSecundaria === aplicativoDados.corSitePrimaria ? '#6c757d' : aplicativoDados.corSiteSecundaria}`, \r\n            main: `${aplicativoDados.corSiteSecundaria === aplicativoDados.corSitePrimaria ? '#6c757d' : aplicativoDados.corSiteSecundaria}`, \r\n            contrastText: `#000000`,\r\n          },\r\n          success:{\r\n            light: `#28a745`,\r\n            main: `#28a745`,\r\n            contrastText: `#fff`,\r\n          }\r\n        },\r\n      });\r\n  \r\n\r\n    var usuarioLogado\r\n    try {\r\n      usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"));\r\n    } catch (error) {\r\n      localStorage.clear()\r\n      usuarioLogado = null\r\n    }\r\n\r\n\r\n    if(usuarioLogado?.logado){\r\n      console.log(\"tem usuario\")\r\n      return (\r\n        <ThemeProvider theme={theme}>\r\n          {usuarioLogado.estabelecimentos.length === 1 \r\n          ? aplicativoDados.possuiDelivery === false\r\n            ? <Redirect to=\"/fidelidade\" />\r\n            : <Redirect to=\"/delivery\" />\r\n          : <Redirect to=\"/estabelecimento\" />}        \r\n        </ThemeProvider>\r\n      )\r\n    }else{\r\n      \r\n      return (\r\n        <ThemeProvider  theme={theme}>\r\n          <Route {...rest} render={props => (\r\n            aplicativoDados && navigator.onLine ?\r\n                  <Component {...props} />\r\n              : <Redirect to=\"/\" />\r\n          )} />\r\n        </ThemeProvider>\r\n      );\r\n\r\n    }\r\n    \r\n  }\r\n};\r\n\r\n\r\n\r\nconst verificarStoragesNecessarios = () => {\r\n  console.log('verificarStoragesNecessarios')\r\n  let cardapio;\r\n  try {\r\n    cardapio = JSON.parse(localStorage.getItem(`cardapioCF`))\r\n  } catch (error) {\r\n    \r\n  }\r\n\r\n  let carrinho;\r\n  try {\r\n    carrinho = JSON.parse(localStorage.getItem(`carrinhoCF`))\r\n  } catch (error) {\r\n    \r\n  }\r\n\r\n  let enderecoAtual;\r\n  try {\r\n    enderecoAtual = JSON.parse(localStorage.getItem(`enderecoAtualCF`))\r\n  } catch (error) {\r\n    \r\n  }\r\n  \r\n  if(!cardapio){\r\n    localStorage.setItem(\"cardapioCF\", JSON.stringify({})) \r\n  }\r\n\r\n  \r\n  //verificar endereco\r\n  if(!enderecoAtual){\r\n    localStorage.setItem(\"enderecoAtualCF\", JSON.stringify({})) \r\n  }else if(enderecoAtual.ativo || enderecoAtual.id){\r\n    if(enderecoAtual.bairroEspecifico == null || enderecoAtual.bairroEspecifico == undefined){\r\n      enderecoAtual.bairroEspecifico = 0\r\n      localStorage.setItem(\"enderecoAtualCF\", JSON.stringify(enderecoAtual))     \r\n    }\r\n  }\r\n  //verificar carrinho\r\n  if(!carrinho){\r\n    localStorage.setItem(\"carrinhoCF\", JSON.stringify({}))\r\n  }else if(!carrinho.pedido && cardapio?.id){\r\n    console.log('ajustando carrinho')\r\n    const carrinhoRetorno = {}\r\n    carrinhoRetorno.valorMinimoPedido = cardapio.valorMinimoPedido\r\n    carrinhoRetorno.valorDesconto = cardapio.valorDesconto\r\n    carrinhoRetorno.percentualDesconto = cardapio.percentualDesconto\r\n    carrinhoRetorno.minimoEntregaGratis = cardapio.minimoEntregaGratis\r\n    carrinhoRetorno.maximoPedidoComDesconto = cardapio.maximoPedidoComDesconto\r\n    carrinhoRetorno.maximoDesconto = cardapio.maximoDesconto\r\n    carrinhoRetorno.cupomDesconto = cardapio.cupomDesconto\r\n    carrinhoRetorno.data = new Date()\r\n    carrinhoRetorno.pedido = {\r\n      \"entregaImediata\": false,\r\n      \"formaPagamento\": {},\r\n      \"itens\": [],\r\n      \"taxaEntrega\": ( cardapio?.endereco != null && cardapio?.endereco.length > 0) ? cardapio.enderecos[0].taxaEntrega : null,\r\n      //\"tipoDesconto\": null,\r\n      \"tokenCartaoCredito\": null,\r\n      \"troco\": null,\r\n      \"valorDesconto\": carrinhoRetorno.valorDesconto,\r\n      \"valorEntrega\": null,\r\n      \"valorTotal\": 0,\r\n      \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n    }\r\n    //console.log('carrino', carrinhoRetorno)\r\n    localStorage.setItem(\"carrinhoCF\", JSON.stringify(carrinhoRetorno))     \r\n  }\r\n}\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => {\r\n\r\n  \r\n  console.log(\"PrivateRoute\")\r\n\r\n  window.scrollTo(0, 0)\r\n  var deuErro = false\r\n  var usuarioLogado\r\n  var aplicativoDados\r\n  var estabelecimentoAtual\r\n  \r\n\r\n  try {\r\n    usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"));\r\n  } catch (error) {\r\n    localStorage.clear()\r\n    usuarioLogado = null\r\n  }\r\n\r\n  try {\r\n    aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\")) ;\r\n    estabelecimentoAtual = JSON.parse(localStorage.getItem(\"estabelecimentoAtualCF\")) ;\r\n    if(!estabelecimentoAtual){\r\n      estabelecimentoAtual = {}\r\n    }\r\n    if(aplicativoDados.codErro > 0){\r\n      localStorage.clear()\r\n      return (\r\n          <Redirect to={'/' + rest.location.search} />   \r\n      );\r\n    }\r\n\r\n  } catch (error) {\r\n    deuErro = true\r\n  }\r\n\r\n  \r\n\r\n  \r\n  \r\n  if(!aplicativoDados || deuErro){\r\n    localStorage.clear()\r\n    return (\r\n        <Redirect to={\"/\" + rest.location.search} />   \r\n    );\r\n  }else{\r\n    verificarStoragesNecessarios()\r\n\r\n    const search = rest.location.search;\r\n    const params = new URLSearchParams(search); \r\n    const lojaParams = params.get('loja')\r\n    if(rest.path.includes(\"/delivery\") && estabelecimentoAtual && lojaParams && !(lojaParams == estabelecimentoAtual.id || lojaParams == estabelecimentoAtual.codigo)){\r\n      const tmp = aplicativoDados.estabelecimentos.filter((est) => (est.id == lojaParams || est.codigo == lojaParams))\r\n      if(tmp.length > 0){\r\n        localStorage.setItem('estabelecimentoAtualCF', JSON.stringify(tmp[0]))\r\n        localStorage.setItem('cardapioCF', '{}')\r\n      }\r\n    }\r\n\r\n    else if(rest.path.includes(\"/delivery\") && !JSON.parse(localStorage.getItem(`estabelecimentoAtualCF`))){\r\n      return (\r\n        <Redirect \r\n        to={'/estabelecimento'} />   \r\n      );\r\n    }\r\n\r\n\r\n    if(new Date() - new Date(localStorage.getItem('dateAplicativoDadosCF')) > 600000){\r\n      atualizarAppDados(aplicativoDados)\r\n    }\r\n\r\n    var retorno = true;\r\n    if(usuarioLogado?.logado && (/*rest.path.includes(\"/delivery/fidelidade\") || */ localStorage.getItem('atualizarUsuarioCF') == \"true\" || ((new Date() - new Date(localStorage.getItem('dateUsuarioCF'))) > 600000) && !JSON.parse(localStorage.getItem('usuarioPedidoMesaCF'))?.logado && !JSON.parse(localStorage.getItem('usuarioIzzaCF'))?.logado  )){\r\n      localStorage.removeItem('atualizarUsuarioCF')\r\n      console.log('atualizar usuario')\r\n      retorno = atualizarUsuario(aplicativoDados, usuarioLogado)\r\n    }\r\n\r\n    if(aplicativoDados !== 'string'){\r\n      headAdd(aplicativoDados, rest)\r\n    }  \r\n  \r\n    const theme = createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n            light: `${aplicativoDados.corSitePrimaria}`,\r\n            main: `${aplicativoDados.corSitePrimaria}`,\r\n            // dark: will be calculated from palette.secondary.main,\r\n            contrastText: `#fff`,\r\n          },\r\n          secondary: {\r\n            light: `${aplicativoDados.corSiteSecundaria === aplicativoDados.corSitePrimaria ? '#6c757d' : aplicativoDados.corSiteSecundaria}`, \r\n            main: `${aplicativoDados.corSiteSecundaria === aplicativoDados.corSitePrimaria ? '#6c757d' : aplicativoDados.corSiteSecundaria}`, \r\n            contrastText: `#000000`,\r\n          },\r\n          success:{\r\n            light: `#28a745`,\r\n            main: `#28a745`,\r\n            contrastText: `#fff`,\r\n          }\r\n        },\r\n      });\r\n\r\n\r\n      \r\n\r\n    return (\r\n      <ThemeProvider  theme={theme}>\r\n        <Route {...rest} render={props => (\r\n          (usuarioLogado && aplicativoDados && navigator.onLine && retorno)\r\n            ? \r\n            <Component {...props} />\r\n            : <Redirect to=\"/\" />\r\n        )} />\r\n      </ThemeProvider>\r\n    );\r\n    \r\n  }\r\n};\r\n\r\nconst RouteDados = ({component: Component, ...rest}) => {\r\n  \r\n  console.log(\"routeDados\", rest)\r\n  //isso para login com token\r\n\r\n  var deuErro = false\r\n  var aplicativoDados\r\n  var izzalogada\r\n  var usuarioLogado\r\n\r\n  try {\r\n    izzalogada = JSON.parse(localStorage.getItem(\"usuarioIzzaCF\"));\r\n    aplicativoDados = JSON.parse(localStorage.getItem(\"aplicativoCF\"));\r\n    usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"));\r\n\r\n    if(aplicativoDados.codErro > 0){\r\n      localStorage.clear()\r\n      return (\r\n          <Redirect to={'/' + rest.location.search} />   \r\n      );\r\n    }\r\n  } catch (error) {\r\n    deuErro = true\r\n  }\r\n\r\n  // const izzalogada = JSON.parse(localStorage.getItem(\"usuarioIzzaCF\"));\r\n  console.log(\"RouteDados\", aplicativoDados,!!aplicativoDados, typeof aplicativoDados !== 'string', navigator.onLine)\r\n\r\n  if(rest.path.includes(\"/login/Acesso\") && !izzalogada?.logado){\r\n    localStorage.clear()\r\n    return (\r\n      <Redirect \r\n      to={'/'+rest.location.search+'&loginIzza=true'} />   \r\n    );\r\n  }\r\n\r\n  if(rest.path.includes(\"/cadastro\") && !rest.location.search.includes('cadastro') && !aplicativoDados){\r\n    localStorage.clear()\r\n    return (\r\n      <Redirect \r\n      to={'/'+rest.location.search+'&cadastro=true'} />   \r\n    );\r\n  }\r\n\r\n\r\n  if(rest.path.includes(\"/login/pedidoMesa\")){\r\n      localStorage.clear()\r\n      return (\r\n        <Redirect \r\n        to={'/'+rest.location.search+'&pedidoMesa=true'} />   \r\n      );\r\n  }\r\n\r\n\r\n  if(rest.path.includes(\"/delivery/avaliacaoPedido\") && !aplicativoDados){\r\n    localStorage.clear()\r\n    return (\r\n        <Redirect \r\n        to={'/'+rest.location.search+'&avaliacao=true'} />   \r\n    );\r\n  }\r\n\r\n  if(rest.path.includes(\"/downloads/imagensTematicas\") && !aplicativoDados){\r\n    localStorage.clear()\r\n    return (\r\n        <Redirect \r\n        to={'/?downloadImagens=true'} />   \r\n    );\r\n  }\r\n\r\n    if(rest.path.includes(\"/downloads/escolha\") && !aplicativoDados){\r\n      localStorage.clear()\r\n      return (\r\n          <Redirect \r\n          to={'/?downloadEscolha=true'} />   \r\n      );\r\n    }\r\n\r\n  if(rest.path.includes(\"/downloads\") && !aplicativoDados){\r\n    localStorage.clear()\r\n    return (\r\n        <Redirect \r\n        to={'/?download=true'} />   \r\n    );\r\n  }\r\n\r\n  \r\n\r\n  if(!aplicativoDados || deuErro){\r\n    localStorage.clear()\r\n    return (\r\n        <Redirect to={'/' + rest.location.search} />   \r\n    );\r\n  }\r\n\r\n\r\n  \r\n  if(new Date() - new Date(localStorage.getItem('dateAplicativoDadosCF')) > 600000){\r\n    atualizarAppDados(aplicativoDados)\r\n  }\r\n\r\n\r\n  if(aplicativoDados && typeof aplicativoDados !== 'string'){\r\n    headAdd(aplicativoDados, rest)\r\n  }\r\n  \r\n\r\n   const theme = createMuiTheme({\r\n      palette: {\r\n        primary: {\r\n          light: `${aplicativoDados.corSitePrimaria}`,\r\n          main: `${aplicativoDados.corSitePrimaria}`,\r\n          // dark: will be calculated from palette.secondary.main,\r\n          contrastText: `#fff`,\r\n        },\r\n        secondary: {\r\n          light: `${aplicativoDados.corSiteSecundaria === aplicativoDados.corSitePrimaria ? '#6c757d' : aplicativoDados.corSiteSecundaria}`, \r\n          main: `${aplicativoDados.corSiteSecundaria === aplicativoDados.corSitePrimaria ? '#6c757d' : aplicativoDados.corSiteSecundaria}`, \r\n          contrastText: `#000000`,\r\n        },\r\n        success:{\r\n          light: `#28a745`,\r\n          main: `#28a745`,\r\n          contrastText: `#fff`,\r\n        }\r\n      },\r\n    });\r\n\r\n  \r\n\r\n  var usuarioLogado\r\n  \r\n  try {\r\n    usuarioLogado = JSON.parse(localStorage.getItem(\"usuarioCF\"));\r\n  } catch (error) {\r\n    localStorage.clear()\r\n    usuarioLogado = null\r\n  }\r\n  \r\n  const params = new URLSearchParams(rest.location.search);  \r\n\r\n  \r\n\r\n  if(usuarioLogado?.logado && (!params.get('loja') || !params.get('mesa'))  && !rest.path.includes(\"/delivery/avaliacaoPedido\") && !rest.path.includes(\"/downloads\") && !rest.path.includes(\"/login/pedidoMesa\")){\r\n    console.log(\"tem usuario\")\r\n    return (\r\n      <ThemeProvider  theme={theme}>\r\n        {usuarioLogado.estabelecimentos.length === 1 \r\n        ? aplicativoDados.possuiDelivery === false\r\n          ? <Redirect to=\"/fidelidade\" />\r\n          : <Redirect to=\"/delivery\" />\r\n        : <Redirect to=\"/estabelecimento\" />}        \r\n      </ThemeProvider>\r\n  );\r\n  }else{      \r\n    return (\r\n        <ThemeProvider  theme={theme}>\r\n          <Route {...rest} render={props => (\r\n            aplicativoDados && typeof aplicativoDados !== 'string' && navigator.onLine  ?\r\n                  <Component {...props} />\r\n              : <Redirect to=\"/\" />\r\n          )} />\r\n        </ThemeProvider>\r\n    );\r\n  }\r\n};\r\n\r\nconst atualizarUsuario = async (aplicativoDados, usuarioLogado) => {\r\n  try {\r\n    localStorage.setItem('dateUsuarioCF', new Date())\r\n\r\n    const data = {\r\n      \"appNome\": aplicativoDados.appNome,\r\n      \"cliente\":{\r\n        \"email\": usuarioLogado.cliente.email,\r\n        \"hashSenha\": usuarioLogado.cliente.hashSenha, \r\n        \"appNome\": aplicativoDados.appNome,\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n      },\r\n      \"localizacao\":{\r\n        \"latitude\": \"\",\r\n        \"longitude\": \"\",\r\n        \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n        \"appNome\": aplicativoDados.appNome,\r\n      },\r\n      \"token\": `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`,\r\n    }\r\n\r\n    const response = await LoginGeral(data, aplicativoDados)\r\n\r\n    if(response.retornoErro){\r\n      //algum erro\r\n      if(response.mensagem.includes(\"inseridos esto incorretos.\")){\r\n        localStorage.clear()\r\n        return false\r\n      }\r\n\t    // alertStart(response.mensagem, \"error\")\r\n    }else{ \r\n      //tudo certo\r\n\r\n      if(localStorage.getItem('tokenNotificationFirebase')){\r\n        if( response.cliente.codigoDispositivo !== localStorage.getItem('tokenNotificationFirebase' )){\r\n          response.cliente.codigoDispositivo = localStorage.getItem('tokenNotificationFirebase')\r\n          response.cliente.token = `${process.env.REACT_APP_CLIENTEFIEL_TOKEN}`\r\n          AtualizarDispositivoUsuario(response.cliente, aplicativoDados)\r\n        }\r\n      }\r\n\r\n      localStorage.setItem('usuarioCF', JSON.stringify(response));\r\n      console.log(\" ===== usuario atualizado ===== \") \r\n    }\r\n  }\r\n  catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions atualizarUsuario ${window.location.hostname} - ${error}`);\r\n      // alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n  }\r\n  return true\r\n}\r\n\r\nconst atualizarAppDados = async (aplicativoDados) => {\r\n  \r\n  try {\r\n    \r\n    const response = await AplicativoDadosUrl(aplicativoDados.urlAcesso, aplicativoDados.appNome)\r\n    if(response.retornoErro){\r\n      //algum erro\r\n\t    // alertStart(response.mensagem, \"error\")\r\n    }else if(response.codErro > 0){\r\n      \r\n    }else{ \r\n      //tudo certo\r\n      localStorage.setItem('dateAplicativoDadosCF', new Date())  \r\n      localStorage.setItem('aplicativoCF', JSON.stringify(response));  \r\n      console.log(\" ===== appDados atualizado ===== \") \r\n      \r\n      //Atualziar estabelecimento atual\r\n      let estabelecimentoAtual = JSON.parse(localStorage.getItem('estabelecimentoAtualCF'))\r\n      if(estabelecimentoAtual?.id){\r\n        for(let j = 0; response.estabelecimentos.length > j; j++){\r\n          if(response.estabelecimentos[j].id === estabelecimentoAtual.id){\r\n            localStorage.setItem('estabelecimentoAtualCF', JSON.stringify(response.estabelecimentos[j]))\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n  catch (error) {\r\n      Sentry.captureMessage(localStorage.getItem('versao')+`NotFunctions AplicativoDadosUrl ${window.location.hostname} - ${error}`);\r\n      // alertStart(\"Procure os desenvolvedores! Erro: \"+error.message, \"error\")    \r\n  }\r\n\r\n}\r\n\r\nconst headAdd = (aplicativoDados, rest) => {\r\n\r\n    \r\n\r\n    pixelFacebook(aplicativoDados)\r\n  \r\n    googleAnalytics(aplicativoDados, rest)\r\n\r\n    tagManager(aplicativoDados)\r\n\r\n\r\n    //console.log(\"aplicativoDados\", aplicativoDados)\r\n    document.title = aplicativoDados.projectName\r\n    //<link rel=\"apple-touch-icon\" href=\"/sitefiles/12345/678/90/apple-touch-icon.png\">\r\n    const logoIphone = document.createElement('link')\r\n    logoIphone.setAttribute('rel', \"Apple-touch-icon\");\r\n    logoIphone.setAttribute('sizes', \"128x128\");\r\n    logoIphone.setAttribute('href', aplicativoDados.urlLogo);\r\n    document.head.insertAdjacentElement('beforeend', logoIphone)\r\n\r\n    const logoIphone2 = document.createElement('link')\r\n    logoIphone2.setAttribute('rel', \"Apple-touch-icon-precomposed\");\r\n    logoIphone2.setAttribute('href', aplicativoDados.urlLogo);\r\n    document.head.insertAdjacentElement('beforeend', logoIphone2)\r\n\r\n    const shortCurt = document.createElement('link')\r\n    shortCurt.setAttribute('rel', \"shortcut icon\");\r\n    shortCurt.setAttribute('sizes', \"192x192\");\r\n    shortCurt.setAttribute('href', aplicativoDados.urlLogo);\r\n    document.head.insertAdjacentElement('beforeend', shortCurt)\r\n    \r\n    const shortCurt2 = document.createElement('link')\r\n    shortCurt2.setAttribute('rel', \"shortcut icon\");\r\n    shortCurt2.setAttribute('sizes', aplicativoDados.corSitePrimaria);\r\n    shortCurt2.setAttribute('href', aplicativoDados.urlLogo);\r\n    document.head.insertAdjacentElement('beforeend', shortCurt2)\r\n\r\n    \r\n\r\n    const ogImage = document.createElement('meta')\r\n    ogImage.setAttribute('property','og:image')\r\n    ogImage.setAttribute('content', `${aplicativoDados.urlLogo}`)\r\n    document.head.insertAdjacentElement('beforeend', ogImage)\r\n    \r\n    const ogUrl = document.createElement('meta')\r\n    ogUrl.setAttribute('property','og:url')\r\n    ogUrl.setAttribute('content', `https://${aplicativoDados.urlAcesso}`)\r\n    document.head.insertAdjacentElement('beforeend', ogUrl)\r\n    \r\n    const ogType = document.createElement('meta')\r\n    ogType.setAttribute('property','og:type')\r\n    ogType.setAttribute('content', `website`)\r\n    document.head.insertAdjacentElement('beforeend', ogType)\r\n    \r\n    const ogDescription = document.createElement('meta')\r\n    ogDescription.setAttribute('property','og:description')\r\n    ogDescription.setAttribute('content', `Faa pedidos online no delivery OFICIAL ${aplicativoDados.projectName}. Veja preos dos pratos no cardpio virtual do ${aplicativoDados.projectName} para entrega, retirada, pedido de mesa e programas de fidelidade.`)\r\n    document.head.insertAdjacentElement('beforeend', ogDescription)\r\n    \r\n    const description = document.createElement('meta')\r\n    description.setAttribute('name','description')\r\n    description.setAttribute('content', `Faa pedidos online no delivery OFICIAL ${aplicativoDados.projectName}. Veja preos dos pratos no cardpio virtual do ${aplicativoDados.projectName} para entrega, retirada, pedido de mesa e programas de fidelidade.`)\r\n    document.head.insertAdjacentElement('beforeend', description)\r\n    \r\n    \r\n    const keywords = document.createElement('meta')\r\n    keywords.setAttribute('name','keywords')\r\n    keywords.setAttribute('content', `Site ${aplicativoDados.projectName},aplicativo ${aplicativoDados.projectName},pedir ${aplicativoDados.projectName},${aplicativoDados.projectName} delivery OFICIAL, ${aplicativoDados.projectName} delivery, ${aplicativoDados.projectName} entrega, ${aplicativoDados.projectName}, ${aplicativoDados.projectName}, cardapio ${aplicativoDados.projectName}, preos ${aplicativoDados.projectName}`)\r\n    document.head.insertAdjacentElement('beforeend', keywords)\r\n    \r\n\r\n\r\n\r\n\r\n    const themeColor = document.createElement('meta')\r\n    themeColor.setAttribute('name','theme-color')\r\n    themeColor.setAttribute('content', aplicativoDados.corSitePrimaria)    \r\n    document.head.insertAdjacentElement('beforeend', themeColor)\r\n\r\n    aplicativoDados?.script ? document.head.insertAdjacentHTML(\"afterbegin\", aplicativoDados?.script ) : console.log('nao tem nada adiconar ao head')\r\n    aplicativoDados?.scriptscriptBody ? document.body.insertAdjacentHTML(\"afterbegin\", aplicativoDados?.scriptscriptBody ) : console.log('nao tem nada adiconar ao body')\r\n\r\n    const themeLinkUrl = document.createElement('link')\r\n    themeLinkUrl.setAttribute('rel','icon')\r\n    themeLinkUrl.setAttribute('href', aplicativoDados.urlLogo)    \r\n    document.head.insertAdjacentElement('beforeend', themeLinkUrl)\r\n\r\n    var myDynamicManifest = {\r\n      \"short_name\": `${aplicativoDados.projectName}`,\r\n      \"scope\": \"/\",\r\n      \"start_url\": \"/\",\r\n      \"name\": `${aplicativoDados.projectName} WEB APP Delivery`,\r\n      \"description\": `Faa pedidos online no delivery OFICIAL ${aplicativoDados.projectName}. Veja preos dos pratos no cardpio virtual do ${aplicativoDados.projectName} para entrega, retirada, pedido de mesa e programas de fidelidade.`,      \r\n      \"orientation\": \"portrait\",\r\n      \"display\": \"standalone\",\r\n      \"description\": \"Aceitar seus pedidos de delivery\",\r\n      \"theme_color\": `${aplicativoDados.corSitePrimaria}`,\r\n      \"background_color\": `${aplicativoDados.corSitePrimaria}`,\r\n      \"icons\": [\r\n        {\r\n          \"src\": `${aplicativoDados.urlLogo}`,\r\n          \"sizes\": \"192x192\",\r\n          \"type\": \"image/png\"\r\n        }\r\n      ],\r\n      \"related_applications\": [{\r\n        \"platform\": \"web\"\r\n      }]\r\n    }\r\n\r\n    const stringManifest = JSON.stringify(myDynamicManifest);\r\n    const blob = new Blob([stringManifest], {type: 'application/json'});\r\n    const manifestURL = URL.createObjectURL(blob);\r\n    // document.querySelector('#my-manifest-placeholder').setAttribute('href', manifestURL);\r\n    // document.querySelector('#my-manifest-placeholder').setAttribute('href', \"http://localhost:3000/manifest\");\r\n}\r\n\r\n\r\nexport default Routes","import React, {useEffect} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Routes from './routes';\r\nimport firebase from 'firebase'\r\nimport { Fragment } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nfunction App() {     \r\n    const [open, setOpen] = React.useState(window.getCookie('lgpd-clientefiel') == \"\" ? true : false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n  useEffect(() => {\r\n\r\n    \r\n    // if( (window.location.hostname).includes(\"pablodelivery\") ){\r\n        var myRequest = new Request(`https://ws.appclientefiel.com.br/rest/clientefiel/FirebaseWeb/${window.location.hostname}`);\r\n        // var myRequest = new Request(`https://ws.appclientefiel.com.br/rest/clientefiel/FirebaseWeb/pablodelivery.clientefiel.app`);\r\n        fetch(myRequest).then(function(response) {\r\n            return response.text().then(function(data) {\r\n                if(data !== \"\"){\r\n\r\n                    firebase.initializeApp(JSON.parse(data));\r\n                    const messaging=firebase.messaging();\r\n                    \r\n                    function IntitalizeFireBaseMessaging() {\r\n                        messaging\r\n                            .requestPermission()\r\n                            .then(function () {\r\n                                console.log(\"Notification Permission\");\r\n                                return messaging.getToken();\r\n                            })\r\n                            .then(function (token) {\r\n                                console.log(\"Token : \"+token);\r\n                                localStorage.setItem('tokenNotificationFirebase', token)\r\n                            })\r\n                            .catch(function (reason) {\r\n                                console.log(reason);\r\n                            });\r\n                    }\r\n                    \r\n                    messaging.onMessage(function (payload) {\r\n                        console.log('onMessage', payload);\r\n                        const notificationOption={\r\n                            body:payload.notification.body,\r\n                            icon:payload.notification.icon\r\n                        };\r\n                        \r\n                        window.registration.showNotification(payload.notification.title,notificationOption);\r\n\r\n                        window.registration.onclick=function (ev) {\r\n                            ev.preventDefault();\r\n                            window.open(payload.notification.click_action,'_blank');\r\n                            window.registration.close();\r\n                        }\r\n\r\n                        // window.registration.update();\r\n                        \r\n                    });\r\n\r\n                    // messaging.onMessage(function (payload) {\r\n                    //     console.log(payload);\r\n                        \r\n                    //     const notificationOption={\r\n                    //         body:payload.notification.body,\r\n                    //         icon:payload.notification.icon\r\n                    //     };\r\n                    \r\n                    //     if(Notification.permission===\"granted\"){\r\n                    //         var notification=new Notification(payload.notification.title,notificationOption);\r\n                    \r\n                    //         notification.onclick=function (ev) {\r\n                    //             ev.preventDefault();\r\n                    //             window.open(payload.notification.click_action,'_blank');\r\n                    //             notification.close();\r\n                    //         }\r\n                    //     }\r\n                    \r\n                    // });\r\n                    messaging.onTokenRefresh(function () {\r\n                        messaging.getToken()\r\n                            .then(function (newtoken) {\r\n                                console.log(\"New Token : \"+ newtoken);\r\n                                localStorage.setItem('tokenNotificationFirebase', newtoken)\r\n\r\n                            })\r\n                            .catch(function (reason) {\r\n                                console.log(reason);\r\n                            })\r\n                    })\r\n                    IntitalizeFireBaseMessaging();\r\n                    \r\n                }\r\n\r\n            });\r\n        }).catch(console.error);\r\n    // }\r\n\r\n  },[])\r\n\r\n  function aceitarLGPD(){\r\n    window.setCookie('lgpd-clientefiel', 'aceitou', 365);\r\n    setOpen(false)\r\n  }\r\n  \r\n  return (\r\n    <>\r\n        <Routes />\r\n        <Dialog\r\n        open={open}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\"></DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n          Ao usar nosso site, voc reconhece que leu e entendeu nossa <a href=\"https://appclientefiel.com.br/politicaprivacidade.html\"> Poltica de Privacidade e nossos Termos de Servio</a>.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={ () => {\r\n            aceitarLGPD()\r\n          }} color=\"primary\" autoFocus fullWidth>\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './global.css';\r\nimport * as Sentry from \"@sentry/react\";\r\n\r\n// import { registerServiceWorker } from './serviceWorker'\r\n\r\n// registerServiceWorker();\r\nif( !(localStorage.getItem('teste') || (window.location.hostname).includes('localhost')) ){\r\n        console.log = function() {};\r\n}\r\n\r\nSentry.init({ dsn: \"https://e2625ab3f53645f591e434b8559d16f5@o436862.ingest.sentry.io/5398602\" });\r\n\r\nReactDOM.render(\r\n        <App />, \r\n        document.getElementById('root')\r\n);"],"sourceRoot":""}